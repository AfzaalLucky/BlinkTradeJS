{"version":3,"sources":["webpack:///blinktrade.js","webpack:///webpack/bootstrap 8cd8c517a80f8de241d6","webpack:///./src/index.js","webpack:///./src/blinktradeWS.js","webpack:///./src/constants/requests.js","webpack:///./src/constants/requestTypes.js","webpack:///./src/transports/WebSocketTransport.js","webpack:///./src/base.js","webpack:///./src/constants/common.js","webpack:///external \"fingerprintjs2\"","webpack:///external \"nodeify\"","webpack:///./src/listener.js","webpack:///external \"lodash\"","webpack:///external \"ws\"","webpack:///./~/getMac/es5/lib/getmac.js","webpack:///./~/process/browser.js","webpack:///external \"extract-opts\"","webpack:///external \"events\"","webpack:///./src/constants/actionTypes.js","webpack:///./src/blinktradeRest.js","webpack:///./src/transports/RestTransport.js","webpack:///external \"sjcl\"","webpack:///external \"isomorphic-fetch\"","webpack:///external \"fetch-jsonp\""],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","BlinkTradeRest","BlinkTradeWS","undefined","_blinktradeWS","_blinktradeWS2","_blinktradeRest","_blinktradeRest2","_interopRequireWildcard","newObj","key","prototype","hasOwnProperty","_defineProperty","enumerable","configurable","writable","_objectWithoutProperties","keys","target","i","indexOf","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_extends","assign","arguments","length","source","_createClass","defineProperties","props","descriptor","protoProps","staticProps","_get","get","object","property","receiver","Function","desc","getOwnPropertyDescriptor","parent","getPrototypeOf","getter","_requests","_requests2","_requestTypes","RequestTypes","_WebSocketTransport2","_WebSocketTransport3","_events","_listener","_actionTypes","_WebSocketTransport","params","this","_this","eventEmitter","EventEmitter","callback","_this2","d","Date","msg","MsgType","HEARTBEAT","TestReqID","getTime","SendTime","Promise","resolve","reject","then","data","Latency","now","username","password","secondFactor","_this3","userAgent","isNode","UserAgent","window","navigator","UserAgentLanguage","language","UserAgentPlatform","platform","UserAgentTimezoneOffset","getTimezoneOffset","LOGIN","UserReqID","generateRequestId","BrokerID","brokerId","Username","Password","UserReqTyp","SecondFactor","UserStatus","session","LOGOUT","profile","_session$Profile","Profile","newPassword","CHANGE_PASSWORD","NewPassword","_this4","BALANCE","BalanceReqID","registerListener","balance","emit","promise","Available","balances","map","currency","includes","on","_eventEmitter","apply","symbols","_this5","SECURITY_STATUS","SecurityStatusReqID","SubscriptionRequestType","Instruments","formatTicker","SellVolume","LowPx","LastPx","BestAsk","HighPx","BuyVolume","BestBid","registerEventEmitter","ticker","Symbol","_eventEmitter2","_this6","MARKET_DATA_FULL_REFRESH","MDReqID","MarketDepth","MDUpdateType","MDEntryTypes","_data$MDFullGrp$filte","MDFullGrp","filter","order","MDEntryType","reduce","prev","side","push","MDEntryPx","MDEntrySize","UserID","bids","asks","subscribeEvent","err","_eventEmitter3","MDBkTyp","MDIncGrp","dataOrder","index","MDEntryPositionNo","price","size","userId","orderId","OrderID","symbol","time","MDEntryDate","MDEntryTime","orderbookEvent","EVENTS","ORDERBOOK","MDUpdateAction","type","tradeEvent","TRADES","MARKET_DATA_UNSUBSCRIBE","_ref","_this7","amount","ORDER_SEND","ClOrdID","Side","OrdType","Price","OrderQty","deleteRequest","CLIENT_ORDER_ID","clientId","ORDER_CANCEL","page","pageSize","_this8","ORDER_LIST","OrdersReqID","Page","PageSize","orders","OrdListGrp","CumQty","OrdStatus","LeavesQty","CxlQty","AvgPx","OrderDate","Volume","TimeInForce","_this9","EXECUTION_REPORT","ExecType","_this10","TRADE_HISTORY","TradeHistoryReqID","last","IsPump","trades","TradeHistory","TradeHistoryGrp","reverse","trade","unshift","TradeID","Market","Size","Buyer","Seller","Created","SECURITY_LIST","BROKER_LIST","PROFILE_UPDATE","API_KEY_LIST","API_KEY_CREATE","API_KEY_REVOKE","SOCKET_ID","REQUEST_ID","TEST_REQUEST_ID","USER_REQUEST_ID","SECURITY_REQUEST_ID","RESET_PASSWORD_REQUEST_ID","DEPOSIT_REQUEST_ID","WITHDRAW_REQUEST_ID","BALANCE_REQUEST_ID","ORDERS_REQUEST_ID","ENABLE_TWO_FACTOR_REQUEST_ID","DEPOSIT_METHOD_REQUEST_ID","WITHDRAW_LIST_REQUEST_ID","BROKER_LIST_REQUEST_ID","DEPOSIT_LIST_REQUEST_ID","TRADE_HISTORY_REQUEST_ID","LEDGER_LIST_REQUEST_ID","TRADERS_RANK_REQUEST_ID","UPDATE_REQUEST_ID","POSITION_REQUEST_ID","SECURITY_STATUS_REQUEST_ID","API_KEY_LIST_REQUEST_ID","API_KEY_CREATE_REQUEST_ID","API_KEY_REVOKE_REQUEST_ID","PROCESS_DEPOSIT_REQUEST_ID","CUSTOMER_LIST_REQUEST_ID","CUSTOMER_REQUEST_ID","PROCESS_WITHDRAW_REQUEST_ID","VERIFY_CUSTOMER_REQUEST_ID","MD_REQUEST_ID","_base","_base2","_fingerprintjs","_fingerprintjs2","_nodeify","_nodeify2","WebSocketTransport","_Base","getFingerPrint","extend","WebSocket","socket","endpoint","onopen","onOpen","bind","onclose","onClose","onerror","onError","onmessage","onMessage","nodeify","close","connected","readyState","FingerPrint","fingerPrint","send","JSON","stringify","registerRequest","sendMessage","parse","request","getRequest","listener","getListener","dispatchPromise","dispatchListeners","getMac","macAddress","_common","_common2","Base","env","url","prod","testnet","ws","rest","require","getListeners","promises","parseInt","Math","random","String","msgType","listeners","message","result","_lodash2","mapKeys","has","find","ReqId","findIndex","omit","_lodash","process","exec","extractOptsAndCallback","isMac","isWindows","macRegex","zeroRegex","opts","next","command","extractMac","ref","isZero","match","test","Error","stdout","stderr","runTimeout","fun","cachedSetTimeout","setTimeout","e","runClearTimeout","marker","cachedClearTimeout","clearTimeout","cleanUpNextTick","draining","currentQueue","queue","concat","queueIndex","drainQueue","timeout","len","run","Item","array","noop","nextTick","args","Array","title","browser","argv","version","versions","addListener","once","off","removeListener","removeAllListeners","binding","name","cwd","chdir","dir","umask","TRADE_NEW","ORDER_BOOK_NEW_ORDER","ORDER_BOOK_UPDATE_ORDER","ORDER_BOOK_DELETE_ORDER","ORDER_BOOK_DELETE_ORDERS_THRU","EXECUTION_REPORT_NEW","EXECUTION_REPORT_PARTIAL","EXECUTION_REPORT_EXECUTION","EXECUTION_REPORT_CANCELED","EXECUTION_REPORT_REJECTED","0","1","2","3","4","8","_RestTransport2","_RestTransport3","_RestTransport","limit","since","_sjcl","_sjcl2","RestTransport","secret","fetch","method","timeStamp","hexKey","codec","utf8String","toBits","hmac","misc","hash","sha256","Signature","hex","fromBits","encrypt","headers","Content-Type","Nonce","APIKey","api","response","json"],"mappings":"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","file":"blinktrade.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.BlinkTradeRest = exports.BlinkTradeWS = undefined;\n\t\n\tvar _blinktradeWS = __webpack_require__(1);\n\t\n\tvar _blinktradeWS2 = _interopRequireDefault(_blinktradeWS);\n\t\n\tvar _blinktradeRest = __webpack_require__(18);\n\t\n\tvar _blinktradeRest2 = _interopRequireDefault(_blinktradeRest);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.BlinkTradeWS = _blinktradeWS2.default;\n\texports.BlinkTradeRest = _blinktradeRest2.default;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _requests = __webpack_require__(2);\n\t\n\tvar _requests2 = _interopRequireDefault(_requests);\n\t\n\tvar _requestTypes = __webpack_require__(3);\n\t\n\tvar RequestTypes = _interopRequireWildcard(_requestTypes);\n\t\n\tvar _WebSocketTransport2 = __webpack_require__(4);\n\t\n\tvar _WebSocketTransport3 = _interopRequireDefault(_WebSocketTransport2);\n\t\n\tvar _events = __webpack_require__(16);\n\t\n\tvar _listener = __webpack_require__(9);\n\t\n\tvar _actionTypes = __webpack_require__(17);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * BlinkTradeJS SDK\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * (c) 2016-present BlinkTrade, Inc.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of BlinkTradeJS\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This program is free software: you can redistribute it and/or modify\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * it under the terms of the GNU General Public License as published by\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the Free Software Foundation, either version 3 of the License, or\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * (at your option) any later version.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This program is distributed in the hope that it will be useful,\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * but WITHOUT ANY WARRANTY; without even the implied warranty of\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * GNU General Public License for more details.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You should have received a copy of the GNU General Public License\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\t\n\tvar BlinkTradeWS = function (_WebSocketTransport) {\n\t  _inherits(BlinkTradeWS, _WebSocketTransport);\n\t\n\t  function BlinkTradeWS(params) {\n\t    _classCallCheck(this, BlinkTradeWS);\n\t\n\t    var _this = _possibleConstructorReturn(this, (BlinkTradeWS.__proto__ || Object.getPrototypeOf(BlinkTradeWS)).call(this, params));\n\t\n\t    _this.eventEmitter = new _events.EventEmitter();\n\t    return _this;\n\t  }\n\t\n\t  _createClass(BlinkTradeWS, [{\n\t    key: 'heartbeat',\n\t    value: function heartbeat(callback) {\n\t      var _this2 = this;\n\t\n\t      var d = new Date();\n\t      var msg = {\n\t        MsgType: _requests2.default.HEARTBEAT,\n\t        TestReqID: d.getTime(),\n\t        SendTime: d.getTime()\n\t      };\n\t\n\t      return new Promise(function (resolve, reject) {\n\t        return _get(BlinkTradeWS.prototype.__proto__ || Object.getPrototypeOf(BlinkTradeWS.prototype), 'sendMessageAsPromise', _this2).call(_this2, msg, callback).then(function (data) {\n\t          return resolve(_extends({}, data, {\n\t            Latency: new Date(Date.now()) - data.SendTime\n\t          }));\n\t        }).catch(reject);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'login',\n\t    value: function login(username, password, secondFactor, callback) {\n\t      var _this3 = this;\n\t\n\t      var userAgent = void 0;\n\t      if (!this.isNode) {\n\t        userAgent = {\n\t          UserAgent: window.navigator.userAgent,\n\t          UserAgentLanguage: window.navigator.language,\n\t          UserAgentPlatform: window.navigator.platform,\n\t          UserAgentTimezoneOffset: new Date().getTimezoneOffset()\n\t        };\n\t      }\n\t\n\t      var msg = _extends({\n\t        MsgType: _requests2.default.LOGIN,\n\t        UserReqID: (0, _listener.generateRequestId)(),\n\t        BrokerID: this.brokerId,\n\t        Username: username,\n\t        Password: password,\n\t        UserReqTyp: '1'\n\t      }, userAgent);\n\t\n\t      if (secondFactor) {\n\t        msg.SecondFactor = secondFactor;\n\t      }\n\t\n\t      return new Promise(function (resolve, reject) {\n\t        return _get(BlinkTradeWS.prototype.__proto__ || Object.getPrototypeOf(BlinkTradeWS.prototype), 'sendMessageAsPromise', _this3).call(_this3, msg, callback).then(function (data) {\n\t          if (data.UserStatus === 1) {\n\t            _this3.session = data;\n\t            return resolve(data);\n\t          }\n\t\n\t          return reject(data);\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'logout',\n\t    value: function logout(callback) {\n\t      var msg = {\n\t        MsgType: _requests2.default.LOGOUT,\n\t        BrokerID: this.brokerId,\n\t        UserReqID: (0, _listener.generateRequestId)(),\n\t        Username: this.session.Username,\n\t        UserReqTyp: '2'\n\t      };\n\t\n\t      return _get(BlinkTradeWS.prototype.__proto__ || Object.getPrototypeOf(BlinkTradeWS.prototype), 'sendMessageAsPromise', this).call(this, msg, callback);\n\t    }\n\t  }, {\n\t    key: 'profile',\n\t    value: function profile(callback) {\n\t      var _session$Profile = this.session.Profile;\n\t      var VerificationData = _session$Profile.VerificationData;\n\t\n\t      var profile = _objectWithoutProperties(_session$Profile, ['VerificationData']);\n\t\n\t      return callback ? callback(profile) : Promise.resolve(profile);\n\t    }\n\t  }, {\n\t    key: 'changePassword',\n\t    value: function changePassword(username, password, newPassword, callback) {\n\t      var msg = {\n\t        MsgType: _requests2.default.CHANGE_PASSWORD,\n\t        UserReqID: (0, _listener.generateRequestId)(),\n\t        UserReqTyp: '3',\n\t        BrokerID: this.brokerId,\n\t        Username: username,\n\t        Password: password,\n\t        NewPassword: newPassword\n\t      };\n\t\n\t      return _get(BlinkTradeWS.prototype.__proto__ || Object.getPrototypeOf(BlinkTradeWS.prototype), 'sendMessageAsPromise', this).call(this, msg, callback);\n\t    }\n\t  }, {\n\t    key: 'balance',\n\t    value: function balance(callback) {\n\t      var _this4 = this;\n\t\n\t      var msg = {\n\t        MsgType: _requests2.default.BALANCE,\n\t        BalanceReqID: (0, _listener.generateRequestId)()\n\t      };\n\t\n\t      (0, _listener.registerListener)('U3', function (balance) {\n\t        callback && callback(null, balance);\n\t        return _this4.eventEmitter.emit(_actionTypes.BALANCE, balance);\n\t      });\n\t\n\t      var promise = new Promise(function (resolve, reject) {\n\t        return _get(BlinkTradeWS.prototype.__proto__ || Object.getPrototypeOf(BlinkTradeWS.prototype), 'sendMessageAsPromise', _this4).call(_this4, msg, callback).then(function (data) {\n\t          var Available = {};\n\t          var balances = data[_this4.brokerId];\n\t          Object.keys(balances).map(function (currency) {\n\t            if (!currency.includes('locked')) {\n\t              Available[currency] = balances[currency] - balances[currency + '_locked'];\n\t            }\n\t          });\n\t\n\t          return resolve(_extends({}, data, { Available: Available }));\n\t        }).catch(reject);\n\t      });\n\t\n\t      promise.on = function () {\n\t        var _eventEmitter;\n\t\n\t        (_eventEmitter = _this4.eventEmitter).on.apply(_eventEmitter, arguments);\n\t        return promise;\n\t      };\n\t\n\t      return promise;\n\t    }\n\t  }, {\n\t    key: 'subscribeTicker',\n\t    value: function subscribeTicker(symbols, callback) {\n\t      var _this5 = this;\n\t\n\t      var msg = {\n\t        MsgType: _requests2.default.SECURITY_STATUS,\n\t        SecurityStatusReqID: (0, _listener.generateRequestId)(),\n\t        SubscriptionRequestType: '1',\n\t        Instruments: symbols\n\t      };\n\t\n\t      var formatTicker = function formatTicker(data) {\n\t        return _extends({}, data, {\n\t          SellVolume: data.SellVolume / 1e8,\n\t          LowPx: data.LowPx / 1e8,\n\t          LastPx: data.LastPx / 1e8,\n\t          BestAsk: data.BestAsk / 1e8,\n\t          HighPx: data.HighPx / 1e8,\n\t          BuyVolume: data.BuyVolume / 1e8,\n\t          BestBid: data.BestBid / 1e8\n\t        });\n\t      };\n\t\n\t      var promise = new Promise(function (resolve, reject) {\n\t        return _get(BlinkTradeWS.prototype.__proto__ || Object.getPrototypeOf(BlinkTradeWS.prototype), 'sendMessageAsPromise', _this5).call(_this5, msg, callback).then(function (data) {\n\t          resolve(formatTicker(data));\n\t          (0, _listener.registerEventEmitter)({ SecurityStatusReqID: data.SecurityStatusReqID }, function (ticker) {\n\t            callback && callback(null, formatTicker(ticker));\n\t            return _this5.eventEmitter.emit('BLINK:' + data.Symbol, formatTicker(ticker));\n\t          });\n\t        }).catch(reject);\n\t      });\n\t\n\t      promise.on = function () {\n\t        var _eventEmitter2;\n\t\n\t        (_eventEmitter2 = _this5.eventEmitter).on.apply(_eventEmitter2, arguments);\n\t        return promise;\n\t      };\n\t\n\t      return promise;\n\t    }\n\t  }, {\n\t    key: 'unSubscribeTicker',\n\t    value: function unSubscribeTicker(SecurityStatusReqID) {\n\t      var msg = {\n\t        MsgType: _requests2.default.SECURITY_STATUS,\n\t        SecurityStatusReqID: SecurityStatusReqID,\n\t        SubscriptionRequestType: '2'\n\t      };\n\t\n\t      _get(BlinkTradeWS.prototype.__proto__ || Object.getPrototypeOf(BlinkTradeWS.prototype), 'sendMessage', this).call(this, msg);\n\t      return SecurityStatusReqID;\n\t    }\n\t  }, {\n\t    key: 'subscribeOrderbook',\n\t    value: function subscribeOrderbook(symbols, callback) {\n\t      var _this6 = this;\n\t\n\t      var msg = {\n\t        MsgType: _requests2.default.MARKET_DATA_FULL_REFRESH,\n\t        MDReqID: (0, _listener.generateRequestId)(),\n\t        SubscriptionRequestType: '1',\n\t        MarketDepth: 0,\n\t        MDUpdateType: '1', // Incremental refresh\n\t        MDEntryTypes: ['0', '1', '2'],\n\t        Instruments: symbols\n\t      };\n\t\n\t      var promise = new Promise(function (resolve, reject) {\n\t        return _get(BlinkTradeWS.prototype.__proto__ || Object.getPrototypeOf(BlinkTradeWS.prototype), 'sendMessageAsPromise', _this6).call(_this6, msg, callback).then(function (data) {\n\t          if (data.MsgType === 'W') {\n\t            // Split orders in bids and asks\n\t            var _data$MDFullGrp$filte = data.MDFullGrp.filter(function (order) {\n\t              return order.MDEntryType === '0' || order.MDEntryType === '1';\n\t            }).reduce(function (prev, order) {\n\t              var side = order.MDEntryType === '0' ? 'bids' : 'asks';\n\t              (prev[side] || (prev[side] = [])).push([order.MDEntryPx / 1e8, order.MDEntrySize / 1e8, order.UserID]);\n\t              return prev;\n\t            }, []);\n\t\n\t            var bids = _data$MDFullGrp$filte.bids;\n\t            var asks = _data$MDFullGrp$filte.asks;\n\t\n\t\n\t            (0, _listener.registerEventEmitter)({ MDReqID: data.MDReqID }, subscribeEvent);\n\t\n\t            return resolve(_extends({}, data, {\n\t              MDFullGrp: _defineProperty({}, data.Symbol, {\n\t                bids: bids,\n\t                asks: asks\n\t              })\n\t            }));\n\t          }\n\t        }).catch(function (err) {\n\t          return reject(err);\n\t        });\n\t      });\n\t\n\t      promise.on = function () {\n\t        var _eventEmitter3;\n\t\n\t        // return promise on EventEmitter\n\t        (_eventEmitter3 = _this6.eventEmitter).on.apply(_eventEmitter3, arguments);\n\t        return promise;\n\t      };\n\t\n\t      var subscribeEvent = function subscribeEvent(data) {\n\t        if (data.MDBkTyp === '3') {\n\t          data.MDIncGrp.map(function (order) {\n\t            var dataOrder = {\n\t              index: order.MDEntryPositionNo,\n\t              price: order.MDEntryPx / 1e8,\n\t              size: order.MDEntrySize / 1e8,\n\t              side: order.MDEntryType === '0' ? 'buy' : 'sell',\n\t              userId: order.UserID,\n\t              orderId: order.OrderID,\n\t              symbol: order.Symbol,\n\t              time: new Date(order.MDEntryDate + ' ' + order.MDEntryTime).toString()\n\t            };\n\t\n\t            callback && callback(null, dataOrder);\n\t\n\t            switch (order.MDEntryType) {\n\t              case '0':\n\t              case '1':\n\t                var orderbookEvent = _actionTypes.EVENTS.ORDERBOOK[order.MDUpdateAction];\n\t                return _this6.eventEmitter.emit(orderbookEvent, _extends({}, dataOrder, { type: orderbookEvent }));\n\t              case '2':\n\t                var tradeEvent = _actionTypes.EVENTS.TRADES[order.MDUpdateAction];\n\t                return _this6.eventEmitter.emit(tradeEvent, _extends({}, dataOrder, { type: tradeEvent }));\n\t              case '4':\n\t                break;\n\t              default:\n\t                return null;\n\t            }\n\t            return null;\n\t          });\n\t        }\n\t      };\n\t\n\t      return promise;\n\t    }\n\t  }, {\n\t    key: 'unSubscribeOrderbook',\n\t    value: function unSubscribeOrderbook(MDReqID) {\n\t      var msg = {\n\t        MsgType: _requests2.default.MARKET_DATA_UNSUBSCRIBE,\n\t        MDReqID: MDReqID,\n\t        MarketDepth: 0,\n\t        SubscriptionRequestType: '2'\n\t      };\n\t\n\t      _get(BlinkTradeWS.prototype.__proto__ || Object.getPrototypeOf(BlinkTradeWS.prototype), 'sendMessage', this).call(this, msg);\n\t      return MDReqID;\n\t    }\n\t  }, {\n\t    key: 'sendOrder',\n\t    value: function sendOrder(_ref, callback) {\n\t      var _this7 = this;\n\t\n\t      var side = _ref.side;\n\t      var amount = _ref.amount;\n\t      var price = _ref.price;\n\t      var symbol = _ref.symbol;\n\t\n\t      var msg = {\n\t        MsgType: _requests2.default.ORDER_SEND,\n\t        ClOrdID: (0, _listener.generateRequestId)(),\n\t        Symbol: symbol,\n\t        Side: side,\n\t        OrdType: '2',\n\t        Price: price,\n\t        OrderQty: amount,\n\t        BrokerID: this.brokerId\n\t      };\n\t\n\t      return new Promise(function (resolve, reject) {\n\t        return _get(BlinkTradeWS.prototype.__proto__ || Object.getPrototypeOf(BlinkTradeWS.prototype), 'sendMessageAsPromise', _this7).call(_this7, msg, callback).then(function (data) {\n\t          (0, _listener.deleteRequest)(RequestTypes.CLIENT_ORDER_ID);\n\t          resolve(data);\n\t        }).catch(reject);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'cancelOrder',\n\t    value: function cancelOrder(orderId, clientId, callback) {\n\t      var msg = {\n\t        MsgType: _requests2.default.ORDER_CANCEL,\n\t        OrderID: orderId\n\t      };\n\t\n\t      if (clientId) {\n\t        msg.ClOrdID = clientId;\n\t      }\n\t\n\t      return _get(BlinkTradeWS.prototype.__proto__ || Object.getPrototypeOf(BlinkTradeWS.prototype), 'sendMessageAsPromise', this).call(this, msg, callback);\n\t    }\n\t  }, {\n\t    key: 'myOrders',\n\t    value: function myOrders(page, pageSize, callback) {\n\t      var _this8 = this;\n\t\n\t      var msg = {\n\t        MsgType: _requests2.default.ORDER_LIST,\n\t        OrdersReqID: (0, _listener.generateRequestId)(),\n\t        Page: page || 0,\n\t        PageSize: pageSize || 40\n\t      };\n\t\n\t      return new Promise(function (resolve, reject) {\n\t        return _get(BlinkTradeWS.prototype.__proto__ || Object.getPrototypeOf(BlinkTradeWS.prototype), 'sendMessageAsPromise', _this8).call(_this8, msg, callback).then(function (data) {\n\t          var Columns = data.Columns;\n\t\n\t          var orders = _objectWithoutProperties(data, ['Columns']);\n\t\n\t          var OrdListGrp = [];\n\t          data.OrdListGrp.map(function (order) {\n\t            return OrdListGrp.push({\n\t              ClOrdID: order[0],\n\t              OrderID: order[1],\n\t              CumQty: order[2],\n\t              OrdStatus: order[3],\n\t              LeavesQty: order[4],\n\t              CxlQty: order[5],\n\t              AvgPx: order[6],\n\t              Symbol: order[7],\n\t              Side: order[8],\n\t              OrdType: order[9],\n\t              OrderQty: order[10],\n\t              Price: order[11],\n\t              OrderDate: order[12],\n\t              Volume: order[13],\n\t              TimeInForce: order[14]\n\t            });\n\t          });\n\t          return resolve(_extends({}, orders, {\n\t            OrdListGrp: OrdListGrp\n\t          }));\n\t        }).catch(reject);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'executionReport',\n\t    value: function executionReport(callback) {\n\t      var _this9 = this;\n\t\n\t      (0, _listener.registerListener)('8', function (data) {\n\t        callback && callback(data);\n\t        return _this9.eventEmitter.emit(_actionTypes.EVENTS.EXECUTION_REPORT[data.ExecType], data);\n\t      });\n\t\n\t      return this.eventEmitter;\n\t    }\n\t  }, {\n\t    key: 'tradeHistory',\n\t    value: function tradeHistory(page, pageSize, callback) {\n\t      var _this10 = this;\n\t\n\t      var msg = {\n\t        MsgType: _requests2.default.TRADE_HISTORY,\n\t        TradeHistoryReqID: (0, _listener.generateRequestId)(),\n\t        Page: page || 0,\n\t        PageSize: pageSize || 80\n\t      };\n\t\n\t      return new Promise(function (resolve, reject) {\n\t        return _get(BlinkTradeWS.prototype.__proto__ || Object.getPrototypeOf(BlinkTradeWS.prototype), 'sendMessageAsPromise', _this10).call(_this10, msg, callback).then(function (data) {\n\t          var last = 0;\n\t          var IsPump = false;\n\t          var Columns = data.Columns;\n\t\n\t          var trades = _objectWithoutProperties(data, ['Columns']);\n\t\n\t          var TradeHistory = {};\n\t\n\t          data.TradeHistoryGrp.reverse().map(function (trade) {\n\t            IsPump = last === trade[3] ? IsPump : last <= trade[3];\n\t\n\t            last = trade[3];\n\t            TradeHistory[trade[1]] = TradeHistory[trade[1]] || [];\n\t            return TradeHistory[trade[1]].unshift({\n\t              TradeID: trade[0],\n\t              Market: trade[1],\n\t              Side: trade[2],\n\t              Price: trade[3],\n\t              Size: trade[4],\n\t              Buyer: trade[5],\n\t              Seller: trade[6],\n\t              Created: trade[7],\n\t              IsPump: IsPump\n\t            });\n\t          });\n\t\n\t          return resolve(_extends({}, trades, {\n\t            TradeHistoryGrp: TradeHistory\n\t          }));\n\t        }).catch(reject);\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return BlinkTradeWS;\n\t}(_WebSocketTransport3.default);\n\t\n\texports.default = BlinkTradeWS;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  HEARTBEAT: '1',\n\t  LOGIN: 'BE',\n\t  LOGOUT: 'BE',\n\t  CHANGE_PASSWORD: 'BE',\n\t\n\t  MARKET_DATA_FULL_REFRESH: 'V',\n\t  MARKET_DATA_UNSUBSCRIBE: 'V',\n\t\n\t  ORDER_SEND: 'D',\n\t  ORDER_CANCEL: 'F',\n\t\n\t  SECURITY_LIST: 'x',\n\t  SECURITY_STATUS: 'e',\n\t  BALANCE: 'U2',\n\t  ORDER_LIST: 'U4',\n\t  BROKER_LIST: 'U28',\n\t  TRADE_HISTORY: 'U32',\n\t  PROFILE_UPDATE: 'U38',\n\t  API_KEY_LIST: 'U50',\n\t  API_KEY_CREATE: 'U52',\n\t  API_KEY_REVOKE: 'U54'\n\t};\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar SOCKET_ID = exports.SOCKET_ID = 'SocketID';\n\tvar REQUEST_ID = exports.REQUEST_ID = 'ReqID';\n\tvar TEST_REQUEST_ID = exports.TEST_REQUEST_ID = 'TestReqID';\n\tvar USER_REQUEST_ID = exports.USER_REQUEST_ID = 'UserReqID';\n\tvar SECURITY_REQUEST_ID = exports.SECURITY_REQUEST_ID = 'SecurityReqID';\n\tvar RESET_PASSWORD_REQUEST_ID = exports.RESET_PASSWORD_REQUEST_ID = 'ResetPasswordReqID';\n\tvar DEPOSIT_REQUEST_ID = exports.DEPOSIT_REQUEST_ID = 'DepositReqID';\n\tvar WITHDRAW_REQUEST_ID = exports.WITHDRAW_REQUEST_ID = 'WithdrawReqID';\n\tvar BALANCE_REQUEST_ID = exports.BALANCE_REQUEST_ID = 'BalanceReqID';\n\tvar ORDERS_REQUEST_ID = exports.ORDERS_REQUEST_ID = 'OrdersReqID';\n\tvar ENABLE_TWO_FACTOR_REQUEST_ID = exports.ENABLE_TWO_FACTOR_REQUEST_ID = 'EnableTwoFactorReqID';\n\tvar DEPOSIT_METHOD_REQUEST_ID = exports.DEPOSIT_METHOD_REQUEST_ID = 'DepositMethodReqID';\n\tvar WITHDRAW_LIST_REQUEST_ID = exports.WITHDRAW_LIST_REQUEST_ID = 'WithdrawListReqID';\n\tvar BROKER_LIST_REQUEST_ID = exports.BROKER_LIST_REQUEST_ID = 'BrokerListReqID';\n\tvar DEPOSIT_LIST_REQUEST_ID = exports.DEPOSIT_LIST_REQUEST_ID = 'DepositListReqID';\n\tvar TRADE_HISTORY_REQUEST_ID = exports.TRADE_HISTORY_REQUEST_ID = 'TradeHistoryReqID';\n\tvar LEDGER_LIST_REQUEST_ID = exports.LEDGER_LIST_REQUEST_ID = 'LedgerListReqID';\n\tvar TRADERS_RANK_REQUEST_ID = exports.TRADERS_RANK_REQUEST_ID = 'TradersRankReqID';\n\tvar UPDATE_REQUEST_ID = exports.UPDATE_REQUEST_ID = 'UpdateReqID';\n\tvar POSITION_REQUEST_ID = exports.POSITION_REQUEST_ID = 'PositionReqID';\n\tvar SECURITY_STATUS_REQUEST_ID = exports.SECURITY_STATUS_REQUEST_ID = 'SecurityStatusReqID';\n\tvar API_KEY_LIST_REQUEST_ID = exports.API_KEY_LIST_REQUEST_ID = 'APIKeyListReqID';\n\tvar API_KEY_CREATE_REQUEST_ID = exports.API_KEY_CREATE_REQUEST_ID = 'APIKeyCreateReqID';\n\tvar API_KEY_REVOKE_REQUEST_ID = exports.API_KEY_REVOKE_REQUEST_ID = 'APIKeyRevokeReqID';\n\tvar PROCESS_DEPOSIT_REQUEST_ID = exports.PROCESS_DEPOSIT_REQUEST_ID = 'ProcessDepositReqID';\n\tvar CUSTOMER_LIST_REQUEST_ID = exports.CUSTOMER_LIST_REQUEST_ID = 'CustomerListReqID';\n\tvar CUSTOMER_REQUEST_ID = exports.CUSTOMER_REQUEST_ID = 'CustomerReqID';\n\tvar PROCESS_WITHDRAW_REQUEST_ID = exports.PROCESS_WITHDRAW_REQUEST_ID = 'ProcessWithdrawReqID';\n\tvar VERIFY_CUSTOMER_REQUEST_ID = exports.VERIFY_CUSTOMER_REQUEST_ID = 'VerifyCustomerReqID';\n\tvar MD_REQUEST_ID = exports.MD_REQUEST_ID = 'MDReqID';\n\tvar CLIENT_ORDER_ID = exports.CLIENT_ORDER_ID = 'ClOrdID';\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _base = __webpack_require__(5);\n\t\n\tvar _base2 = _interopRequireDefault(_base);\n\t\n\tvar _fingerprintjs = __webpack_require__(7);\n\t\n\tvar _fingerprintjs2 = _interopRequireDefault(_fingerprintjs);\n\t\n\tvar _nodeify = __webpack_require__(8);\n\t\n\tvar _nodeify2 = _interopRequireDefault(_nodeify);\n\t\n\tvar _listener = __webpack_require__(9);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * BlinkTradeJS SDK\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * (c) 2016-present BlinkTrade, Inc.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of BlinkTradeJS\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This program is free software: you can redistribute it and/or modify\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * it under the terms of the GNU General Public License as published by\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the Free Software Foundation, either version 3 of the License, or\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * (at your option) any later version.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This program is distributed in the hope that it will be useful,\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * but WITHOUT ANY WARRANTY; without even the implied warranty of\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * GNU General Public License for more details.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You should have received a copy of the GNU General Public License\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\t\n\tvar WebSocketTransport = function (_Base) {\n\t  _inherits(WebSocketTransport, _Base);\n\t\n\t  /*\n\t   * FingerPrint\n\t   */\n\t  function WebSocketTransport() {\n\t    var params = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t    _classCallCheck(this, WebSocketTransport);\n\t\n\t    var _this = _possibleConstructorReturn(this, (WebSocketTransport.__proto__ || Object.getPrototypeOf(WebSocketTransport)).call(this, params, 'ws'));\n\t\n\t    _this.getFingerPrint();\n\t    return _this;\n\t  }\n\t\n\t  /*\n\t   * Transport Promise\n\t   */\n\t\n\t\n\t  /*\n\t   * WebSocket Instance\n\t   */\n\t\n\t\n\t  _createClass(WebSocketTransport, [{\n\t    key: 'connect',\n\t    value: function connect(callback) {\n\t      var _this2 = this;\n\t\n\t      return _nodeify2.default.extend(new Promise(function (resolve, reject) {\n\t        _this2.promise = { resolve: resolve, reject: reject };\n\t\n\t        var WebSocket = _this2.isNode ? __webpack_require__(11) : window.WebSocket;\n\t        _this2.socket = new WebSocket(_this2.endpoint);\n\t        _this2.socket.onopen = _this2.onOpen.bind(_this2);\n\t        _this2.socket.onclose = _this2.onClose.bind(_this2);\n\t        _this2.socket.onerror = _this2.onError.bind(_this2);\n\t        _this2.socket.onmessage = _this2.onMessage.bind(_this2);\n\t      })).nodeify(callback);\n\t    }\n\t  }, {\n\t    key: 'disconnect',\n\t    value: function disconnect() {\n\t      this.socket.close();\n\t    }\n\t  }, {\n\t    key: 'onOpen',\n\t    value: function onOpen() {\n\t      this.promise.resolve({ connected: true });\n\t    }\n\t  }, {\n\t    key: 'onClose',\n\t    value: function onClose() {}\n\t  }, {\n\t    key: 'onError',\n\t    value: function onError() {\n\t      this.promise.reject();\n\t    }\n\t  }, {\n\t    key: 'sendMessage',\n\t    value: function sendMessage(msg) {\n\t      if (this.socket.readyState === 1) {\n\t        var data = msg;\n\t        data.FingerPrint = this.fingerPrint;\n\t\n\t        this.socket.send(JSON.stringify(data));\n\t      }\n\t    }\n\t  }, {\n\t    key: 'sendMessageAsPromise',\n\t    value: function sendMessageAsPromise(msg, callback) {\n\t      var _this3 = this;\n\t\n\t      return _nodeify2.default.extend(new Promise(function (resolve, reject) {\n\t        var promise = { resolve: resolve, reject: reject };\n\t\n\t        if (!msg) {\n\t          return reject('Missing Message');\n\t        }\n\t\n\t        (0, _listener.registerRequest)(msg, promise);\n\t        _this3.sendMessage(msg, promise);\n\t      })).nodeify(callback);\n\t    }\n\t  }, {\n\t    key: 'onMessage',\n\t    value: function onMessage(msg) {\n\t      var data = JSON.parse(msg.data);\n\t      if (data.MsgType === 'ERROR') {\n\t        this.promise.reject('ERROR');\n\t      }\n\t\n\t      var request = (0, _listener.getRequest)(data);\n\t      var listener = (0, _listener.getListener)(data.MsgType);\n\t      this.dispatchPromise(request, data);\n\t      this.dispatchListeners(listener, data);\n\t    }\n\t  }, {\n\t    key: 'dispatchPromise',\n\t    value: function dispatchPromise(promise, data) {\n\t      return promise && promise.resolve ? promise.resolve(data) : promise && promise.callback ? promise.callback(data) : this.promise.reject('ERROR');\n\t    }\n\t  }, {\n\t    key: 'dispatchListeners',\n\t    value: function dispatchListeners(listener, data) {\n\t      return listener && listener(data);\n\t    }\n\t  }, {\n\t    key: 'getFingerPrint',\n\t    value: function getFingerPrint() {\n\t      var _this4 = this;\n\t\n\t      if (this.isNode) {\n\t        return __webpack_require__(12).getMac(function (err, macAddress) {\n\t          _this4.fingerPrint = macAddress;\n\t          return macAddress;\n\t        });\n\t      }\n\t\n\t      return new _fingerprintjs2.default().get(function (fingerPrint) {\n\t        _this4.fingerPrint = fingerPrint;\n\t        return fingerPrint;\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return WebSocketTransport;\n\t}(_base2.default);\n\t\n\texports.default = WebSocketTransport;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _common = __webpack_require__(6);\n\t\n\tvar _common2 = _interopRequireDefault(_common);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } } /**\n\t                                                                                                                                                           * BlinkTradeJS SDK\n\t                                                                                                                                                           * (c) 2016-present BlinkTrade, Inc.\n\t                                                                                                                                                           *\n\t                                                                                                                                                           * This file is part of BlinkTradeJS\n\t                                                                                                                                                           *\n\t                                                                                                                                                           * This program is free software: you can redistribute it and/or modify\n\t                                                                                                                                                           * it under the terms of the GNU General Public License as published by\n\t                                                                                                                                                           * the Free Software Foundation, either version 3 of the License, or\n\t                                                                                                                                                           * (at your option) any later version.\n\t                                                                                                                                                          \n\t                                                                                                                                                           * This program is distributed in the hope that it will be useful,\n\t                                                                                                                                                           * but WITHOUT ANY WARRANTY; without even the implied warranty of\n\t                                                                                                                                                           * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\t                                                                                                                                                           * GNU General Public License for more details.\n\t                                                                                                                                                          \n\t                                                                                                                                                           * You should have received a copy of the GNU General Public License\n\t                                                                                                                                                           * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\t                                                                                                                                                           *\n\t                                                                                                                                                           * \n\t                                                                                                                                                           */\n\t\n\tvar Base =\n\t\n\t/*\n\t * Broker id\n\t */\n\tfunction Base(params, env) {\n\t  _classCallCheck(this, Base);\n\t\n\t  var endpoint = params.url ? params.url : params.prod ? _common2.default.prod[env] : _common2.default.testnet[env];\n\t\n\t  this.brokerId = params.brokerId || 5;\n\t\n\t  this.endpoint = endpoint;\n\t\n\t  this.isNode = typeof window === 'undefined';\n\t}\n\t\n\t/*\n\t * Is node.js environment.\n\t */\n\t\n\t\n\t/*\n\t * url endpoint.\n\t */\n\t;\n\t\n\texports.default = Base;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  prod: {\n\t    ws: 'wss://api.blinktrade.com/trade/',\n\t    rest: 'https://api.blinktrade.com/api/v1/'\n\t  },\n\t  testnet: {\n\t    ws: 'wss://api.testnet.blinktrade.com/trade/',\n\t    rest: 'https://api.testnet.blinktrade.com/tapi/v1/'\n\t  }\n\t};\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"fingerprintjs2\");\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"nodeify\");\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**\n\t                                                                                                                                                                                                                                                                   * BlinkTradeJS SDK\n\t                                                                                                                                                                                                                                                                   * (c) 2016-present BlinkTrade, Inc.\n\t                                                                                                                                                                                                                                                                   *\n\t                                                                                                                                                                                                                                                                   * This file is part of BlinkTradeJS\n\t                                                                                                                                                                                                                                                                   *\n\t                                                                                                                                                                                                                                                                   * This program is free software: you can redistribute it and/or modify\n\t                                                                                                                                                                                                                                                                   * it under the terms of the GNU General Public License as published by\n\t                                                                                                                                                                                                                                                                   * the Free Software Foundation, either version 3 of the License, or\n\t                                                                                                                                                                                                                                                                   * (at your option) any later version.\n\t                                                                                                                                                                                                                                                                  \n\t                                                                                                                                                                                                                                                                   * This program is distributed in the hope that it will be useful,\n\t                                                                                                                                                                                                                                                                   * but WITHOUT ANY WARRANTY; without even the implied warranty of\n\t                                                                                                                                                                                                                                                                   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\t                                                                                                                                                                                                                                                                   * GNU General Public License for more details.\n\t                                                                                                                                                                                                                                                                  \n\t                                                                                                                                                                                                                                                                   * You should have received a copy of the GNU General Public License\n\t                                                                                                                                                                                                                                                                   * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\t                                                                                                                                                                                                                                                                   *\n\t                                                                                                                                                                                                                                                                   * \n\t                                                                                                                                                                                                                                                                   */\n\t\n\texports.getListeners = getListeners;\n\texports.generateRequestId = generateRequestId;\n\texports.getListener = getListener;\n\texports.getRequest = getRequest;\n\texports.registerRequest = registerRequest;\n\texports.registerEventEmitter = registerEventEmitter;\n\texports.registerListener = registerListener;\n\texports.deleteRequest = deleteRequest;\n\t\n\tvar _lodash = __webpack_require__(10);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _requestTypes = __webpack_require__(3);\n\t\n\tvar RequestTypes = _interopRequireWildcard(_requestTypes);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar promises = {};\n\tvar listeners = {};\n\t\n\tfunction getListeners() {\n\t  return promises;\n\t}\n\t\n\tfunction generateRequestId() {\n\t  return parseInt(String(1e7 * Math.random()), 10);\n\t}\n\t\n\tfunction getListener(msgType) {\n\t  return listeners[msgType];\n\t}\n\t\n\tfunction getRequest(message) {\n\t  var result = void 0;\n\t  _lodash2.default.mapKeys(RequestTypes, function (key) {\n\t    if (_lodash2.default.has(message, key)) {\n\t      result = _lodash2.default.find(promises[key], { ReqId: message[key].toString() });\n\t    }\n\t  });\n\t\n\t  return result;\n\t}\n\t\n\tfunction registerRequest(message, promise) {\n\t  _lodash2.default.mapKeys(RequestTypes, function (key) {\n\t    if (_lodash2.default.has(message, key)) {\n\t      promises[key] = promises[key] || [];\n\t      promises[key].push(_extends({ ReqId: message[key].toString() }, promise));\n\t    }\n\t  });\n\t\n\t  return promises;\n\t}\n\t\n\tfunction registerEventEmitter(message, callback) {\n\t  _lodash2.default.mapKeys(RequestTypes, function (key) {\n\t    if (_lodash2.default.has(message, key)) {\n\t      if (promises[key] !== []) {\n\t        var index = _lodash2.default.findIndex(promises[key], { ReqId: message[key].toString() });\n\t        promises[key][index] = _extends({}, promises[key][index], {\n\t          resolve: null,\n\t          reject: null,\n\t          callback: callback\n\t        });\n\t      }\n\t    }\n\t  });\n\t\n\t  return promises;\n\t}\n\t\n\tfunction registerListener(msgType, callback) {\n\t  listeners[msgType] = listeners[msgType] || [];\n\t  listeners[msgType] = callback;\n\t}\n\t\n\tfunction deleteRequest(key) {\n\t  promises = _lodash2.default.omit(promises, [key]);\n\t  return promises;\n\t}\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"lodash\");\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"ws\");\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(process) {// Generated by CoffeeScript 1.10.0\n\tvar exec, extractOptsAndCallback, getMac, isMac, isWindows, macRegex, zeroRegex;\n\t\n\texec = __webpack_require__(14).exec;\n\t\n\textractOptsAndCallback = __webpack_require__(15);\n\t\n\tisWindows = process.platform.indexOf('win') === 0;\n\t\n\tmacRegex = /(?:[a-z0-9]{2}[:\\-]){5}[a-z0-9]{2}/ig;\n\t\n\tzeroRegex = /(?:[0]{2}[:\\-]){5}[0]{2}/;\n\t\n\tgetMac = function(opts, next) {\n\t  var command, data, extractMac, ref;\n\t  ref = extractOptsAndCallback(opts, next), opts = ref[0], next = ref[1];\n\t  data = opts.data;\n\t  if (data == null) {\n\t    data = null;\n\t  }\n\t  command = isWindows ? \"getmac\" : \"ifconfig -a || ip link\";\n\t  extractMac = function(data, next) {\n\t    var err, isZero, macAddress, match, result;\n\t    result = null;\n\t    while (match = macRegex.exec(data)) {\n\t      macAddress = match[0];\n\t      isZero = zeroRegex.test(macAddress);\n\t      if (isZero === false) {\n\t        if (result == null) {\n\t          result = macAddress;\n\t        }\n\t      }\n\t    }\n\t    if (result === null) {\n\t      err = new Error('could not determine the mac address from:\\n' + data);\n\t      return next(err);\n\t    }\n\t    return next(null, result);\n\t  };\n\t  if (data) {\n\t    return extractMac(data, next);\n\t  } else {\n\t    return exec(command, function(err, stdout, stderr) {\n\t      if (err) {\n\t        return next(err);\n\t      }\n\t      return extractMac(stdout, next);\n\t    });\n\t  }\n\t};\n\t\n\tisMac = function(macAddress) {\n\t  var ref;\n\t  return ((ref = String(macAddress).match(macRegex)) != null ? ref.length : void 0) === 1;\n\t};\n\t\n\tmodule.exports = {\n\t  macRegex: macRegex,\n\t  getMac: getMac,\n\t  isMac: isMac\n\t};\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(13)))\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\t// shim for using process in browser\n\tvar process = module.exports = {};\n\t\n\t// cached from whatever global is present so that test runners that stub it\n\t// don't break things.  But we need to wrap it in a try catch in case it is\n\t// wrapped in strict mode code which doesn't define any globals.  It's inside a\n\t// function because try/catches deoptimize in certain engines.\n\t\n\tvar cachedSetTimeout;\n\tvar cachedClearTimeout;\n\t\n\t(function () {\n\t    try {\n\t        cachedSetTimeout = setTimeout;\n\t    } catch (e) {\n\t        cachedSetTimeout = function () {\n\t            throw new Error('setTimeout is not defined');\n\t        }\n\t    }\n\t    try {\n\t        cachedClearTimeout = clearTimeout;\n\t    } catch (e) {\n\t        cachedClearTimeout = function () {\n\t            throw new Error('clearTimeout is not defined');\n\t        }\n\t    }\n\t} ())\n\tfunction runTimeout(fun) {\n\t    if (cachedSetTimeout === setTimeout) {\n\t        //normal enviroments in sane situations\n\t        return setTimeout(fun, 0);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedSetTimeout(fun, 0);\n\t    } catch(e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n\t            return cachedSetTimeout.call(null, fun, 0);\n\t        } catch(e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n\t            return cachedSetTimeout.call(this, fun, 0);\n\t        }\n\t    }\n\t\n\t\n\t}\n\tfunction runClearTimeout(marker) {\n\t    if (cachedClearTimeout === clearTimeout) {\n\t        //normal enviroments in sane situations\n\t        return clearTimeout(marker);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedClearTimeout(marker);\n\t    } catch (e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n\t            return cachedClearTimeout.call(null, marker);\n\t        } catch (e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n\t            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n\t            return cachedClearTimeout.call(this, marker);\n\t        }\n\t    }\n\t\n\t\n\t\n\t}\n\tvar queue = [];\n\tvar draining = false;\n\tvar currentQueue;\n\tvar queueIndex = -1;\n\t\n\tfunction cleanUpNextTick() {\n\t    if (!draining || !currentQueue) {\n\t        return;\n\t    }\n\t    draining = false;\n\t    if (currentQueue.length) {\n\t        queue = currentQueue.concat(queue);\n\t    } else {\n\t        queueIndex = -1;\n\t    }\n\t    if (queue.length) {\n\t        drainQueue();\n\t    }\n\t}\n\t\n\tfunction drainQueue() {\n\t    if (draining) {\n\t        return;\n\t    }\n\t    var timeout = runTimeout(cleanUpNextTick);\n\t    draining = true;\n\t\n\t    var len = queue.length;\n\t    while(len) {\n\t        currentQueue = queue;\n\t        queue = [];\n\t        while (++queueIndex < len) {\n\t            if (currentQueue) {\n\t                currentQueue[queueIndex].run();\n\t            }\n\t        }\n\t        queueIndex = -1;\n\t        len = queue.length;\n\t    }\n\t    currentQueue = null;\n\t    draining = false;\n\t    runClearTimeout(timeout);\n\t}\n\t\n\tprocess.nextTick = function (fun) {\n\t    var args = new Array(arguments.length - 1);\n\t    if (arguments.length > 1) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            args[i - 1] = arguments[i];\n\t        }\n\t    }\n\t    queue.push(new Item(fun, args));\n\t    if (queue.length === 1 && !draining) {\n\t        runTimeout(drainQueue);\n\t    }\n\t};\n\t\n\t// v8 likes predictible objects\n\tfunction Item(fun, array) {\n\t    this.fun = fun;\n\t    this.array = array;\n\t}\n\tItem.prototype.run = function () {\n\t    this.fun.apply(null, this.array);\n\t};\n\tprocess.title = 'browser';\n\tprocess.browser = true;\n\tprocess.env = {};\n\tprocess.argv = [];\n\tprocess.version = ''; // empty string to avoid regexp issues\n\tprocess.versions = {};\n\t\n\tfunction noop() {}\n\t\n\tprocess.on = noop;\n\tprocess.addListener = noop;\n\tprocess.once = noop;\n\tprocess.off = noop;\n\tprocess.removeListener = noop;\n\tprocess.removeAllListeners = noop;\n\tprocess.emit = noop;\n\t\n\tprocess.binding = function (name) {\n\t    throw new Error('process.binding is not supported');\n\t};\n\t\n\tprocess.cwd = function () { return '/' };\n\tprocess.chdir = function (dir) {\n\t    throw new Error('process.chdir is not supported');\n\t};\n\tprocess.umask = function() { return 0; };\n\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"extract-opts\");\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"events\");\n\n/***/ },\n/* 17 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar BALANCE = exports.BALANCE = 'BALANCE';\n\tvar TRADE_NEW = exports.TRADE_NEW = 'OB_TRADE_NEW';\n\tvar ORDER_BOOK_NEW_ORDER = exports.ORDER_BOOK_NEW_ORDER = 'OB_NEW_ORDER';\n\tvar ORDER_BOOK_UPDATE_ORDER = exports.ORDER_BOOK_UPDATE_ORDER = 'OB_UPDATE_ORDER';\n\tvar ORDER_BOOK_DELETE_ORDER = exports.ORDER_BOOK_DELETE_ORDER = 'OB_DELETE_ORDER';\n\tvar ORDER_BOOK_DELETE_ORDERS_THRU = exports.ORDER_BOOK_DELETE_ORDERS_THRU = 'OB_DELETE_ORDERS_THRU';\n\t\n\tvar EXECUTION_REPORT_NEW = exports.EXECUTION_REPORT_NEW = 'EXECUTION_REPORT_NEW';\n\tvar EXECUTION_REPORT_PARTIAL = exports.EXECUTION_REPORT_PARTIAL = 'EXECUTION_REPORT_PARTIAL';\n\tvar EXECUTION_REPORT_EXECUTION = exports.EXECUTION_REPORT_EXECUTION = 'EXECUTION_REPORT_EXECUTION';\n\tvar EXECUTION_REPORT_CANCELED = exports.EXECUTION_REPORT_CANCELED = 'EXECUTION_REPORT_CANCELED';\n\tvar EXECUTION_REPORT_REJECTED = exports.EXECUTION_REPORT_REJECTED = 'EXECUTION_REPORT_REJECTED';\n\t\n\t/* eslint-disable quote-props */\n\tvar EVENTS = exports.EVENTS = {\n\t  ORDERBOOK: {\n\t    '0': ORDER_BOOK_NEW_ORDER,\n\t    '1': ORDER_BOOK_UPDATE_ORDER,\n\t    '2': ORDER_BOOK_DELETE_ORDER,\n\t    '3': ORDER_BOOK_DELETE_ORDERS_THRU\n\t  },\n\t  TRADES: {\n\t    '0': TRADE_NEW\n\t  },\n\t  EXECUTION_REPORT: {\n\t    '0': EXECUTION_REPORT_NEW,\n\t    '1': EXECUTION_REPORT_PARTIAL,\n\t    '2': EXECUTION_REPORT_EXECUTION,\n\t    '4': EXECUTION_REPORT_CANCELED,\n\t    '8': EXECUTION_REPORT_REJECTED\n\t  }\n\t};\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _RestTransport2 = __webpack_require__(19);\n\t\n\tvar _RestTransport3 = _interopRequireDefault(_RestTransport2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * BlinkTradeJS SDK\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * (c) 2016-present BlinkTrade, Inc.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of BlinkTradeJS\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This program is free software: you can redistribute it and/or modify\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * it under the terms of the GNU General Public License as published by\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the Free Software Foundation, either version 3 of the License, or\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * (at your option) any later version.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This program is distributed in the hope that it will be useful,\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * but WITHOUT ANY WARRANTY; without even the implied warranty of\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * GNU General Public License for more details.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You should have received a copy of the GNU General Public License\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\t\n\tvar BlinkTradeRest = function (_RestTransport) {\n\t  _inherits(BlinkTradeRest, _RestTransport);\n\t\n\t  function BlinkTradeRest(params) {\n\t    _classCallCheck(this, BlinkTradeRest);\n\t\n\t    return _possibleConstructorReturn(this, (BlinkTradeRest.__proto__ || Object.getPrototypeOf(BlinkTradeRest)).call(this, params));\n\t  }\n\t\n\t  _createClass(BlinkTradeRest, [{\n\t    key: 'trades',\n\t    value: function trades() {\n\t      var limit = arguments.length <= 0 || arguments[0] === undefined ? 1000 : arguments[0];\n\t      var since = arguments[1];\n\t      var callback = arguments[2];\n\t\n\t      return _get(BlinkTradeRest.prototype.__proto__ || Object.getPrototypeOf(BlinkTradeRest.prototype), 'fetch', this).call(this, {}, this.currency + '/trades?limit=' + limit + '&since=' + since, callback);\n\t    }\n\t  }]);\n\t\n\t  return BlinkTradeRest;\n\t}(_RestTransport3.default);\n\t\n\texports.default = BlinkTradeRest;\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _base = __webpack_require__(5);\n\t\n\tvar _base2 = _interopRequireDefault(_base);\n\t\n\tvar _sjcl = __webpack_require__(20);\n\t\n\tvar _sjcl2 = _interopRequireDefault(_sjcl);\n\t\n\tvar _nodeify = __webpack_require__(8);\n\t\n\tvar _nodeify2 = _interopRequireDefault(_nodeify);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * BlinkTradeJS SDK\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * (c) 2016-present BlinkTrade, Inc.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of BlinkTradeJS\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This program is free software: you can redistribute it and/or modify\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * it under the terms of the GNU General Public License as published by\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the Free Software Foundation, either version 3 of the License, or\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * (at your option) any later version.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This program is distributed in the hope that it will be useful,\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * but WITHOUT ANY WARRANTY; without even the implied warranty of\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * GNU General Public License for more details.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You should have received a copy of the GNU General Public License\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\t\n\tvar RestTransport = function (_Base) {\n\t  _inherits(RestTransport, _Base);\n\t\n\t  /**\n\t   * APISecret\n\t   */\n\t  function RestTransport() {\n\t    var params = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t    _classCallCheck(this, RestTransport);\n\t\n\t    var _this = _possibleConstructorReturn(this, (RestTransport.__proto__ || Object.getPrototypeOf(RestTransport)).call(this, params, 'rest'));\n\t\n\t    _this.key = params.key;\n\t    _this.secret = params.secret;\n\t    _this.currency = params.currency;\n\t\n\t    _this.fetch = _this.isNode ? __webpack_require__(21) : __webpack_require__(22);\n\t    return _this;\n\t  }\n\t\n\t  /*\n\t   * Exchanges currencies available.\n\t   */\n\t\n\t\n\t  /**\n\t   * APIKey\n\t   */\n\t\n\t\n\t  _createClass(RestTransport, [{\n\t    key: 'headers',\n\t    value: function headers(method) {\n\t      var timeStamp = Date.now().toString();\n\t      var hexKey = _sjcl2.default.codec.utf8String.toBits(this.secret);\n\t      var hmac = new _sjcl2.default.misc.hmac(hexKey, _sjcl2.default.hash.sha256);\n\t      var Signature = _sjcl2.default.codec.hex.fromBits(hmac.encrypt(timeStamp));\n\t      return {\n\t        method: method,\n\t        headers: {\n\t          'Content-Type': 'application/json',\n\t          Nonce: timeStamp,\n\t          APIKey: this.key,\n\t          Signature: Signature\n\t        }\n\t      };\n\t    }\n\t  }, {\n\t    key: 'fetch',\n\t    value: function fetch(msg, api, callback) {\n\t      return (0, _nodeify2.default)(this.fetch(this.endpoint + api).then(function (response) {\n\t        return response.json();\n\t      }), callback);\n\t    }\n\t  }]);\n\t\n\t  return RestTransport;\n\t}(_base2.default);\n\t\n\texports.default = RestTransport;\n\n/***/ },\n/* 20 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"sjcl\");\n\n/***/ },\n/* 21 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"isomorphic-fetch\");\n\n/***/ },\n/* 22 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"fetch-jsonp\");\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** blinktrade.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 8cd8c517a80f8de241d6\n **/","import BlinkTradeWS from './blinktradeWS';\nimport BlinkTradeRest from './blinktradeRest';\n\nexport {\n  BlinkTradeWS,\n  BlinkTradeRest,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","/**\n * BlinkTradeJS SDK\n * (c) 2016-present BlinkTrade, Inc.\n *\n * This file is part of BlinkTradeJS\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n * @flow\n */\n\nimport MsgTypes from './constants/requests';\nimport * as RequestTypes from './constants/requestTypes';\n\nimport WebSocketTransport from './transports/WebSocketTransport';\nimport { EventEmitter } from 'events';\nimport {\n  deleteRequest,\n  registerListener,\n  generateRequestId,\n  registerEventEmitter,\n} from './listener';\n\nimport {\n  EVENTS,\n  BALANCE,\n} from './constants/actionTypes';\n\n\ntype Order = {\n  side: '1' | '2';\n  price: number;\n  amount: number;\n  symbol: string;\n};\n\nclass BlinkTradeWS extends WebSocketTransport {\n\n  constructor(params) {\n    super(params);\n\n    this.eventEmitter = new EventEmitter();\n  }\n\n  heartbeat(callback?: Function): Promise {\n    const d = new Date();\n    const msg: any = {\n      MsgType: MsgTypes.HEARTBEAT,\n      TestReqID: d.getTime(),\n      SendTime: d.getTime(),\n    };\n\n    return new Promise((resolve, reject) => {\n      return super.sendMessageAsPromise(msg, callback).then((data) => {\n        return resolve({\n          ...data,\n          Latency: new Date(Date.now()) - data.SendTime,\n        });\n      }).catch(reject);\n    });\n  }\n\n  login(username: string, password: string, secondFactor?: string, callback?: Function): Promise {\n    let userAgent;\n    if (!this.isNode) {\n      userAgent = {\n        UserAgent: window.navigator.userAgent,\n        UserAgentLanguage: window.navigator.language,\n        UserAgentPlatform: window.navigator.platform,\n        UserAgentTimezoneOffset: new Date().getTimezoneOffset(),\n      };\n    }\n\n    const msg: any = {\n      MsgType: MsgTypes.LOGIN,\n      UserReqID: generateRequestId(),\n      BrokerID: this.brokerId,\n      Username: username,\n      Password: password,\n      UserReqTyp: '1',\n      ...userAgent,\n    };\n\n    if (secondFactor) {\n      msg.SecondFactor = secondFactor;\n    }\n\n    return new Promise((resolve, reject) => {\n      return super.sendMessageAsPromise(msg, callback).then(data => {\n        if (data.UserStatus === 1) {\n          this.session = data;\n          return resolve(data);\n        }\n\n        return reject(data);\n      });\n    });\n  }\n\n  logout(callback?: Function): Promise {\n    const msg = {\n      MsgType: MsgTypes.LOGOUT,\n      BrokerID: this.brokerId,\n      UserReqID: generateRequestId(),\n      Username: this.session.Username,\n      UserReqTyp: '2',\n    };\n\n    return super.sendMessageAsPromise(msg, callback);\n  }\n\n  profile(callback?: Function): Promise {\n    const { VerificationData, ...profile } = this.session.Profile;\n    return callback ? callback(profile) : Promise.resolve(profile);\n  }\n\n  changePassword(username: string, password: string, newPassword: string, callback?: Function): Promise {\n    const msg = {\n      MsgType: MsgTypes.CHANGE_PASSWORD,\n      UserReqID: generateRequestId(),\n      UserReqTyp: '3',\n      BrokerID: this.brokerId,\n      Username: username,\n      Password: password,\n      NewPassword: newPassword,\n    };\n\n    return super.sendMessageAsPromise(msg, callback);\n  }\n\n  balance(callback?: Function): Promise {\n    const msg = {\n      MsgType: MsgTypes.BALANCE,\n      BalanceReqID: generateRequestId(),\n    };\n\n    registerListener('U3', (balance) => {\n      callback && callback(null, balance);\n      return this.eventEmitter.emit(BALANCE, balance);\n    });\n\n    const promise = new Promise((resolve, reject) => {\n      return super.sendMessageAsPromise(msg, callback).then(data => {\n        const Available = {};\n        const balances = data[this.brokerId];\n        Object.keys(balances).map(currency => {\n          if (!currency.includes('locked')) {\n            Available[currency] = balances[currency] - balances[`${currency}_locked`];\n          }\n        });\n\n        return resolve({ ...data, Available });\n      }).catch(reject);\n    });\n\n    promise.on = (...args) => {\n      this.eventEmitter.on(...args);\n      return promise;\n    };\n\n    return promise;\n  }\n\n  subscribeTicker(symbols: Array<string>, callback?: Function): Promise {\n    const msg = {\n      MsgType: MsgTypes.SECURITY_STATUS,\n      SecurityStatusReqID: generateRequestId(),\n      SubscriptionRequestType: '1',\n      Instruments: symbols,\n    };\n\n    const formatTicker = (data) => {\n      return {\n        ...data,\n        SellVolume: data.SellVolume / 1e8,\n        LowPx: data.LowPx / 1e8,\n        LastPx: data.LastPx / 1e8,\n        BestAsk: data.BestAsk / 1e8,\n        HighPx: data.HighPx / 1e8,\n        BuyVolume: data.BuyVolume / 1e8,\n        BestBid: data.BestBid / 1e8,\n      };\n    };\n\n    const promise = new Promise((resolve, reject) => {\n      return super.sendMessageAsPromise(msg, callback).then(data => {\n        resolve(formatTicker(data));\n        registerEventEmitter({ SecurityStatusReqID: data.SecurityStatusReqID }, (ticker) => {\n          callback && callback(null, formatTicker(ticker));\n          return this.eventEmitter.emit(`BLINK:${data.Symbol}`, formatTicker(ticker));\n        });\n      }).catch(reject);\n    });\n\n    promise.on = (...args) => {\n      this.eventEmitter.on(...args);\n      return promise;\n    };\n\n    return promise;\n  }\n\n  unSubscribeTicker(SecurityStatusReqID: number): number {\n    const msg = {\n      MsgType: MsgTypes.SECURITY_STATUS,\n      SecurityStatusReqID,\n      SubscriptionRequestType: '2',\n    };\n\n    super.sendMessage(msg);\n    return SecurityStatusReqID;\n  }\n\n  subscribeOrderbook(symbols: Array<string>, callback?: Function): Promise {\n    const msg = {\n      MsgType: MsgTypes.MARKET_DATA_FULL_REFRESH,\n      MDReqID: generateRequestId(),\n      SubscriptionRequestType: '1',\n      MarketDepth: 0,\n      MDUpdateType: '1', // Incremental refresh\n      MDEntryTypes: ['0', '1', '2'],\n      Instruments: symbols,\n    };\n\n\n    const promise = new Promise((resolve, reject) => {\n      return super.sendMessageAsPromise(msg, callback).then(data => {\n        if (data.MsgType === 'W') {\n          // Split orders in bids and asks\n          const { bids, asks } = data.MDFullGrp\n          .filter(order => order.MDEntryType === '0' || order.MDEntryType === '1')\n          .reduce((prev, order) => {\n            const side = order.MDEntryType === '0' ? 'bids' : 'asks';\n            (prev[side] || (prev[side] = [])).push([\n              order.MDEntryPx / 1e8,\n              order.MDEntrySize / 1e8,\n              order.UserID,\n            ]);\n            return prev;\n          }, []);\n\n          registerEventEmitter({ MDReqID: data.MDReqID }, subscribeEvent);\n\n          return resolve({\n            ...data,\n            MDFullGrp: {\n              [data.Symbol]: {\n                bids,\n                asks,\n              },\n            },\n          });\n        }\n      }).catch(err => reject(err));\n    });\n\n    promise.on = (...args) => {\n      // return promise on EventEmitter\n      this.eventEmitter.on(...args);\n      return promise;\n    };\n\n    const subscribeEvent = (data) => {\n      if (data.MDBkTyp === '3') {\n        data.MDIncGrp.map(order => {\n          const dataOrder = {\n            index: order.MDEntryPositionNo,\n            price: order.MDEntryPx / 1e8,\n            size: order.MDEntrySize / 1e8,\n            side: order.MDEntryType === '0' ? 'buy' : 'sell',\n            userId: order.UserID,\n            orderId: order.OrderID,\n            symbol: order.Symbol,\n            time: new Date(`${order.MDEntryDate} ${order.MDEntryTime}`).toString(),\n          };\n\n          callback && callback(null, dataOrder);\n\n          switch (order.MDEntryType) {\n            case '0':\n            case '1':\n              const orderbookEvent = EVENTS.ORDERBOOK[order.MDUpdateAction];\n              return this.eventEmitter.emit(orderbookEvent, { ...dataOrder, type: orderbookEvent });\n            case '2':\n              const tradeEvent = EVENTS.TRADES[order.MDUpdateAction];\n              return this.eventEmitter.emit(tradeEvent, { ...dataOrder, type: tradeEvent });\n            case '4':\n              break;\n            default:\n              return null;\n          }\n          return null;\n        });\n      }\n    };\n\n    return promise;\n  }\n\n  unSubscribeOrderbook(MDReqID: number): number {\n    const msg = {\n      MsgType: MsgTypes.MARKET_DATA_UNSUBSCRIBE,\n      MDReqID,\n      MarketDepth: 0,\n      SubscriptionRequestType: '2',\n    };\n\n    super.sendMessage(msg);\n    return MDReqID;\n  }\n\n  sendOrder({ side, amount, price, symbol }: Order, callback?: Function): Promise {\n    const msg = {\n      MsgType: MsgTypes.ORDER_SEND,\n      ClOrdID: generateRequestId(),\n      Symbol: symbol,\n      Side: side,\n      OrdType: '2',\n      Price: price,\n      OrderQty: amount,\n      BrokerID: this.brokerId,\n    };\n\n    return new Promise((resolve, reject) => {\n      return super.sendMessageAsPromise(msg, callback).then(data => {\n        deleteRequest(RequestTypes.CLIENT_ORDER_ID);\n        resolve(data);\n      }).catch(reject);\n    });\n  }\n\n  cancelOrder(orderId: number, clientId: number, callback?: Function): Promise {\n    const msg = {\n      MsgType: MsgTypes.ORDER_CANCEL,\n      OrderID: orderId,\n    };\n\n    if (clientId) {\n      msg.ClOrdID = clientId;\n    }\n\n    return super.sendMessageAsPromise(msg, callback);\n  }\n\n  myOrders(page: number, pageSize: number, callback?: Function): Promise {\n    const msg = {\n      MsgType: MsgTypes.ORDER_LIST,\n      OrdersReqID: generateRequestId(),\n      Page: page || 0,\n      PageSize: pageSize || 40,\n    };\n\n    return new Promise((resolve, reject) => {\n      return super.sendMessageAsPromise(msg, callback).then(data => {\n        const { Columns, ...orders } = data;\n        const OrdListGrp = [];\n        data.OrdListGrp.map(order => {\n          return OrdListGrp.push({\n            ClOrdID: order[0],\n            OrderID: order[1],\n            CumQty: order[2],\n            OrdStatus: order[3],\n            LeavesQty: order[4],\n            CxlQty: order[5],\n            AvgPx: order[6],\n            Symbol: order[7],\n            Side: order[8],\n            OrdType: order[9],\n            OrderQty: order[10],\n            Price: order[11],\n            OrderDate: order[12],\n            Volume: order[13],\n            TimeInForce: order[14],\n          });\n        });\n        return resolve({\n          ...orders,\n          OrdListGrp,\n        });\n      }).catch(reject);\n    });\n  }\n\n  executionReport(callback?: Function): Promise {\n    registerListener('8', (data) => {\n      callback && callback(data);\n      return this.eventEmitter.emit(EVENTS.EXECUTION_REPORT[data.ExecType], data);\n    });\n\n    return this.eventEmitter;\n  }\n\n  tradeHistory(page: number, pageSize: number, callback?: Function): Promise {\n    const msg = {\n      MsgType: MsgTypes.TRADE_HISTORY,\n      TradeHistoryReqID: generateRequestId(),\n      Page: page || 0,\n      PageSize: pageSize || 80,\n    };\n\n    return new Promise((resolve, reject) => {\n      return super.sendMessageAsPromise(msg, callback).then(data => {\n        let last = 0;\n        let IsPump = false;\n        const { Columns, ...trades } = data;\n        const TradeHistory = {};\n\n        data.TradeHistoryGrp.reverse().map(trade => {\n          IsPump = last === trade[3] ? IsPump : last <= trade[3];\n\n          last = trade[3];\n          TradeHistory[trade[1]] = TradeHistory[trade[1]] || [];\n          return TradeHistory[trade[1]].unshift({\n            TradeID: trade[0],\n            Market: trade[1],\n            Side: trade[2],\n            Price: trade[3],\n            Size: trade[4],\n            Buyer: trade[5],\n            Seller: trade[6],\n            Created: trade[7],\n            IsPump,\n          });\n        });\n\n        return resolve({\n          ...trades,\n          TradeHistoryGrp: TradeHistory,\n        });\n      }).catch(reject);\n    });\n  }\n}\n\nexport default BlinkTradeWS;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/blinktradeWS.js\n **/","export default {\n  HEARTBEAT: '1',\n  LOGIN: 'BE',\n  LOGOUT: 'BE',\n  CHANGE_PASSWORD: 'BE',\n\n  MARKET_DATA_FULL_REFRESH: 'V',\n  MARKET_DATA_UNSUBSCRIBE: 'V',\n\n  ORDER_SEND: 'D',\n  ORDER_CANCEL: 'F',\n\n  SECURITY_LIST: 'x',\n  SECURITY_STATUS: 'e',\n  BALANCE: 'U2',\n  ORDER_LIST: 'U4',\n  BROKER_LIST: 'U28',\n  TRADE_HISTORY: 'U32',\n  PROFILE_UPDATE: 'U38',\n  API_KEY_LIST: 'U50',\n  API_KEY_CREATE: 'U52',\n  API_KEY_REVOKE: 'U54',\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/constants/requests.js\n **/","export const SOCKET_ID = 'SocketID';\nexport const REQUEST_ID = 'ReqID';\nexport const TEST_REQUEST_ID = 'TestReqID';\nexport const USER_REQUEST_ID = 'UserReqID';\nexport const SECURITY_REQUEST_ID = 'SecurityReqID';\nexport const RESET_PASSWORD_REQUEST_ID = 'ResetPasswordReqID';\nexport const DEPOSIT_REQUEST_ID = 'DepositReqID';\nexport const WITHDRAW_REQUEST_ID = 'WithdrawReqID';\nexport const BALANCE_REQUEST_ID = 'BalanceReqID';\nexport const ORDERS_REQUEST_ID = 'OrdersReqID';\nexport const ENABLE_TWO_FACTOR_REQUEST_ID = 'EnableTwoFactorReqID';\nexport const DEPOSIT_METHOD_REQUEST_ID = 'DepositMethodReqID';\nexport const WITHDRAW_LIST_REQUEST_ID = 'WithdrawListReqID';\nexport const BROKER_LIST_REQUEST_ID = 'BrokerListReqID';\nexport const DEPOSIT_LIST_REQUEST_ID = 'DepositListReqID';\nexport const TRADE_HISTORY_REQUEST_ID = 'TradeHistoryReqID';\nexport const LEDGER_LIST_REQUEST_ID = 'LedgerListReqID';\nexport const TRADERS_RANK_REQUEST_ID = 'TradersRankReqID';\nexport const UPDATE_REQUEST_ID = 'UpdateReqID';\nexport const POSITION_REQUEST_ID = 'PositionReqID';\nexport const SECURITY_STATUS_REQUEST_ID = 'SecurityStatusReqID';\nexport const API_KEY_LIST_REQUEST_ID = 'APIKeyListReqID';\nexport const API_KEY_CREATE_REQUEST_ID = 'APIKeyCreateReqID';\nexport const API_KEY_REVOKE_REQUEST_ID = 'APIKeyRevokeReqID';\nexport const PROCESS_DEPOSIT_REQUEST_ID = 'ProcessDepositReqID';\nexport const CUSTOMER_LIST_REQUEST_ID = 'CustomerListReqID';\nexport const CUSTOMER_REQUEST_ID = 'CustomerReqID';\nexport const PROCESS_WITHDRAW_REQUEST_ID = 'ProcessWithdrawReqID';\nexport const VERIFY_CUSTOMER_REQUEST_ID = 'VerifyCustomerReqID';\nexport const MD_REQUEST_ID = 'MDReqID';\nexport const CLIENT_ORDER_ID = 'ClOrdID';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/constants/requestTypes.js\n **/","/**\n * BlinkTradeJS SDK\n * (c) 2016-present BlinkTrade, Inc.\n *\n * This file is part of BlinkTradeJS\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n * @flow\n */\n\nimport Base from '../base';\nimport Fingerprint2 from 'fingerprintjs2';\nimport nodeify from 'nodeify';\n\nimport {\n  getRequest,\n  getListener,\n  registerRequest,\n} from '../listener';\n\ntype ConstructorType = {\n  url?: string;\n  prod?: boolean;\n  testnet?: boolean;\n  broker: 1 | 2 | 3 | 4 | 5;\n};\n\n\nclass WebSocketTransport extends Base {\n\n  /*\n   * WebSocket Instance\n   */\n  socket: WebSocket;\n\n  /*\n   * FingerPrint\n   */\n  fingerPrint: string;\n\n  /*\n   * Transport Promise\n   */\n  promise: Promise;\n\n  constructor(params: ConstructorType = {}) {\n    super(params, 'ws');\n\n    this.getFingerPrint();\n  }\n\n  connect(callback): Promise {\n    return nodeify.extend(new Promise((resolve, reject) => {\n      this.promise = { resolve, reject };\n\n      const WebSocket = this.isNode ? require('ws') : window.WebSocket;\n      this.socket = new WebSocket(this.endpoint);\n      this.socket.onopen = ::this.onOpen;\n      this.socket.onclose = ::this.onClose;\n      this.socket.onerror = ::this.onError;\n      this.socket.onmessage = ::this.onMessage;\n    })).nodeify(callback);\n  }\n\n  disconnect(): void {\n    this.socket.close();\n  }\n\n  onOpen(): void {\n    this.promise.resolve({ connected: true });\n  }\n\n  onClose(): void {\n  }\n\n  onError(): void {\n    this.promise.reject();\n  }\n\n  sendMessage(msg: Object): void {\n    if (this.socket.readyState === 1) {\n      const data = msg;\n      data.FingerPrint = this.fingerPrint;\n\n      this.socket.send(JSON.stringify(data));\n    }\n  }\n\n  sendMessageAsPromise(msg: Object, callback: Function): Promise {\n    return nodeify.extend(new Promise((resolve, reject) => {\n      const promise = { resolve, reject };\n\n      if (!msg) {\n        return reject('Missing Message');\n      }\n\n      registerRequest(msg, promise);\n      this.sendMessage(msg, promise);\n    })).nodeify(callback);\n  }\n\n  onMessage(msg: string): void {\n    const data = JSON.parse(msg.data);\n    if (data.MsgType === 'ERROR') {\n      this.promise.reject('ERROR');\n    }\n\n    const request = getRequest(data);\n    const listener = getListener(data.MsgType);\n    this.dispatchPromise(request, data);\n    this.dispatchListeners(listener, data);\n  }\n\n  dispatchPromise(promise, data) {\n    return promise && promise.resolve  ? promise.resolve(data)\n         : promise && promise.callback ? promise.callback(data)\n         : this.promise.reject('ERROR');\n  }\n\n  dispatchListeners(listener, data) {\n    return listener && listener(data);\n  }\n\n  getFingerPrint(): string {\n    if (this.isNode) {\n      return require('getMac').getMac((err, macAddress) => {\n        this.fingerPrint = macAddress;\n        return macAddress;\n      });\n    }\n\n    return new Fingerprint2().get(fingerPrint => {\n      this.fingerPrint = fingerPrint;\n      return fingerPrint;\n    });\n  }\n}\n\nexport default WebSocketTransport;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/transports/WebSocketTransport.js\n **/","/**\n * BlinkTradeJS SDK\n * (c) 2016-present BlinkTrade, Inc.\n *\n * This file is part of BlinkTradeJS\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n * @flow\n */\n\nimport common from './constants/common';\n\ntype ConstructorType = {\n  url?: string;\n  prod?: boolean;\n  broker: 1 | 2 | 3 | 4 | 5;\n};\n\nclass Base {\n\n  /*\n   * url endpoint.\n   */\n  endpoint: string;\n\n  /*\n   * Broker id\n   */\n  brokerId: number;\n\n  /*\n   * Is node.js environment.\n   */\n  isNode: boolean;\n\n  constructor(params: ConstructorType, env: 'rest' | 'ws') {\n    const endpoint =\n        params.url  ? params.url\n      : params.prod ? common.prod[env]\n      :               common.testnet[env];\n\n    this.brokerId = params.brokerId || 5;\n\n    this.endpoint = endpoint;\n\n    this.isNode = typeof window === 'undefined';\n  }\n}\n\nexport default Base;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/base.js\n **/","export default {\n  prod: {\n    ws: 'wss://api.blinktrade.com/trade/',\n    rest: 'https://api.blinktrade.com/api/v1/',\n  },\n  testnet: {\n    ws: 'wss://api.testnet.blinktrade.com/trade/',\n    rest: 'https://api.testnet.blinktrade.com/tapi/v1/',\n  },\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/constants/common.js\n **/","module.exports = require(\"fingerprintjs2\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"fingerprintjs2\"\n ** module id = 7\n ** module chunks = 0\n **/","module.exports = require(\"nodeify\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"nodeify\"\n ** module id = 8\n ** module chunks = 0\n **/","/**\n * BlinkTradeJS SDK\n * (c) 2016-present BlinkTrade, Inc.\n *\n * This file is part of BlinkTradeJS\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n * @flow\n */\n\nimport lodash from 'lodash';\nimport * as RequestTypes from './constants/requestTypes';\n\nlet promises: Object = {};\nconst listeners: Object = {};\n\nexport function getListeners() {\n  return promises;\n}\n\nexport function generateRequestId(): number {\n  return parseInt(String(1e7 * Math.random()), 10);\n}\n\nexport function getListener(msgType: string): Function {\n  return listeners[msgType];\n}\n\nexport function getRequest(message: Object): ?Object {\n  let result;\n  lodash.mapKeys(RequestTypes, (key) => {\n    if (lodash.has(message, key)) {\n      result = lodash.find(promises[key], { ReqId: message[key].toString() });\n    }\n  });\n\n  return result;\n}\n\nexport function registerRequest(message: Object, promise): Object {\n  lodash.mapKeys(RequestTypes, (key) => {\n    if (lodash.has(message, key)) {\n      promises[key] = promises[key] || [];\n      promises[key].push({ ReqId: message[key].toString(), ...promise });\n    }\n  });\n\n  return promises;\n}\n\nexport function registerEventEmitter(message: Object, callback: Function): Object {\n  lodash.mapKeys(RequestTypes, (key) => {\n    if (lodash.has(message, key)) {\n      if (promises[key] !== []) {\n        const index = lodash.findIndex(promises[key], { ReqId: message[key].toString() });\n        promises[key][index] = {\n          ...promises[key][index],\n          resolve: null,\n          reject: null,\n          callback,\n        };\n      }\n    }\n  });\n\n  return promises;\n}\n\nexport function registerListener(msgType: string, callback: Function): void {\n  listeners[msgType] = listeners[msgType] || [];\n  listeners[msgType] = callback;\n}\n\nexport function deleteRequest(key: string): Object {\n  promises = lodash.omit(promises, [key]);\n  return promises;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/listener.js\n **/","module.exports = require(\"lodash\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"lodash\"\n ** module id = 10\n ** module chunks = 0\n **/","module.exports = require(\"ws\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"ws\"\n ** module id = 11\n ** module chunks = 0\n **/","// Generated by CoffeeScript 1.10.0\nvar exec, extractOptsAndCallback, getMac, isMac, isWindows, macRegex, zeroRegex;\n\nexec = require('child_process').exec;\n\nextractOptsAndCallback = require('extract-opts');\n\nisWindows = process.platform.indexOf('win') === 0;\n\nmacRegex = /(?:[a-z0-9]{2}[:\\-]){5}[a-z0-9]{2}/ig;\n\nzeroRegex = /(?:[0]{2}[:\\-]){5}[0]{2}/;\n\ngetMac = function(opts, next) {\n  var command, data, extractMac, ref;\n  ref = extractOptsAndCallback(opts, next), opts = ref[0], next = ref[1];\n  data = opts.data;\n  if (data == null) {\n    data = null;\n  }\n  command = isWindows ? \"getmac\" : \"ifconfig -a || ip link\";\n  extractMac = function(data, next) {\n    var err, isZero, macAddress, match, result;\n    result = null;\n    while (match = macRegex.exec(data)) {\n      macAddress = match[0];\n      isZero = zeroRegex.test(macAddress);\n      if (isZero === false) {\n        if (result == null) {\n          result = macAddress;\n        }\n      }\n    }\n    if (result === null) {\n      err = new Error('could not determine the mac address from:\\n' + data);\n      return next(err);\n    }\n    return next(null, result);\n  };\n  if (data) {\n    return extractMac(data, next);\n  } else {\n    return exec(command, function(err, stdout, stderr) {\n      if (err) {\n        return next(err);\n      }\n      return extractMac(stdout, next);\n    });\n  }\n};\n\nisMac = function(macAddress) {\n  var ref;\n  return ((ref = String(macAddress).match(macRegex)) != null ? ref.length : void 0) === 1;\n};\n\nmodule.exports = {\n  macRegex: macRegex,\n  getMac: getMac,\n  isMac: isMac\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/getMac/es5/lib/getmac.js\n ** module id = 12\n ** module chunks = 0\n **/","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\n(function () {\n    try {\n        cachedSetTimeout = setTimeout;\n    } catch (e) {\n        cachedSetTimeout = function () {\n            throw new Error('setTimeout is not defined');\n        }\n    }\n    try {\n        cachedClearTimeout = clearTimeout;\n    } catch (e) {\n        cachedClearTimeout = function () {\n            throw new Error('clearTimeout is not defined');\n        }\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/process/browser.js\n ** module id = 13\n ** module chunks = 0\n **/","module.exports = require(\"extract-opts\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"extract-opts\"\n ** module id = 15\n ** module chunks = 0\n **/","module.exports = require(\"events\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"events\"\n ** module id = 16\n ** module chunks = 0\n **/","export const BALANCE = 'BALANCE';\nexport const TRADE_NEW = 'OB_TRADE_NEW';\nexport const ORDER_BOOK_NEW_ORDER = 'OB_NEW_ORDER';\nexport const ORDER_BOOK_UPDATE_ORDER = 'OB_UPDATE_ORDER';\nexport const ORDER_BOOK_DELETE_ORDER = 'OB_DELETE_ORDER';\nexport const ORDER_BOOK_DELETE_ORDERS_THRU = 'OB_DELETE_ORDERS_THRU';\n\nexport const EXECUTION_REPORT_NEW = 'EXECUTION_REPORT_NEW';\nexport const EXECUTION_REPORT_PARTIAL = 'EXECUTION_REPORT_PARTIAL';\nexport const EXECUTION_REPORT_EXECUTION = 'EXECUTION_REPORT_EXECUTION';\nexport const EXECUTION_REPORT_CANCELED = 'EXECUTION_REPORT_CANCELED';\nexport const EXECUTION_REPORT_REJECTED = 'EXECUTION_REPORT_REJECTED';\n\n/* eslint-disable quote-props */\nexport const EVENTS = {\n  ORDERBOOK: {\n    '0': ORDER_BOOK_NEW_ORDER,\n    '1': ORDER_BOOK_UPDATE_ORDER,\n    '2': ORDER_BOOK_DELETE_ORDER,\n    '3': ORDER_BOOK_DELETE_ORDERS_THRU,\n  },\n  TRADES: {\n    '0': TRADE_NEW,\n  },\n  EXECUTION_REPORT: {\n    '0': EXECUTION_REPORT_NEW,\n    '1': EXECUTION_REPORT_PARTIAL,\n    '2': EXECUTION_REPORT_EXECUTION,\n    '4': EXECUTION_REPORT_CANCELED,\n    '8': EXECUTION_REPORT_REJECTED,\n  },\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/constants/actionTypes.js\n **/","/**\n * BlinkTradeJS SDK\n * (c) 2016-present BlinkTrade, Inc.\n *\n * This file is part of BlinkTradeJS\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n * @flow\n */\n\nimport RestTransport from './transports/RestTransport';\n\nclass BlinkTradeRest extends RestTransport {\n  constructor(params) {\n    super(params);\n  }\n\n  trades(limit: number = 1000, since: string, callback: Function) {\n    return super.fetch({}, `${this.currency}/trades?limit=${limit}&since=${since}`, callback);\n  }\n}\n\nexport default BlinkTradeRest;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/blinktradeRest.js\n **/","/**\n * BlinkTradeJS SDK\n * (c) 2016-present BlinkTrade, Inc.\n *\n * This file is part of BlinkTradeJS\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n * @flow\n */\n\nimport Base from '../base';\nimport sjcl from 'sjcl';\nimport nodeify from 'nodeify';\n\nclass RestTransport extends Base {\n\n  /**\n   * APIKey\n   */\n  key: string;\n\n  /**\n   * APISecret\n   */\n  secret: string;\n\n  /*\n   * Exchanges currencies available.\n   */\n  currency: 'BRL' | 'VEF' | 'CLP' | 'VND' | 'PKR';\n\n  constructor(params = {}) {\n    super(params, 'rest');\n\n    this.key = params.key;\n    this.secret = params.secret;\n    this.currency = params.currency;\n\n    this.fetch = this.isNode ? require('isomorphic-fetch') : require('fetch-jsonp');\n  }\n\n  headers(method) {\n    const timeStamp = Date.now().toString();\n    const hexKey = sjcl.codec.utf8String.toBits(this.secret);\n    const hmac = new sjcl.misc.hmac(hexKey, sjcl.hash.sha256);\n    const Signature = sjcl.codec.hex.fromBits(hmac.encrypt(timeStamp));\n    return {\n      method,\n      headers: {\n        'Content-Type': 'application/json',\n        Nonce: timeStamp,\n        APIKey: this.key,\n        Signature,\n      },\n    };\n  }\n\n  fetch(msg: Object, api: string, callback: Function): Promise {\n    return nodeify(this.fetch(this.endpoint + api)\n    .then(response => response.json()), callback)\n  }\n}\n\nexport default RestTransport;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/transports/RestTransport.js\n **/","module.exports = require(\"sjcl\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"sjcl\"\n ** module id = 20\n ** module chunks = 0\n **/","module.exports = require(\"isomorphic-fetch\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"isomorphic-fetch\"\n ** module id = 21\n ** module chunks = 0\n **/","module.exports = require(\"fetch-jsonp\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"fetch-jsonp\"\n ** module id = 22\n ** module chunks = 0\n **/"],"sourceRoot":""}