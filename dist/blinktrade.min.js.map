{"version":3,"sources":["webpack:///blinktrade.min.js","webpack:///webpack/bootstrap 415255e7af7a8afbad3d","webpack:///./src/index.js","webpack:///./src/constants/brokers.js","webpack:///./src/ws.js","webpack:///external \"nodeify\"","webpack:///external \"eventemitter2\"","webpack:///./src/listener.js","webpack:///./src/constants/messages.js","webpack:///external \"ramda\"","webpack:///./src/constants/requestTypes.js","webpack:///./src/constants/actionTypes.js","webpack:///./src/constants/events.js","webpack:///./src/util/utils.js","webpack:///./src/trade.js","webpack:///./src/transports/websocket.js","webpack:///./src/transports/transport.js","webpack:///./src/constants/common.js","webpack:///external \"ws\"","webpack:///./src/util/macaddress.js","webpack:///external \"macaddress\"","webpack:///external \"fingerprintjs2\"","webpack:///./src/util/hash32.js","webpack:///./src/util/stun.js","webpack:///external \"ip\"","webpack:///external \"dgram\"","webpack:///external \"os\"","webpack:///./src/rest.js","webpack:///./src/transports/rest.js","webpack:///external \"url\"","webpack:///external \"sjcl\"","webpack:///external \"fetch-ponyfill\""],"names":["module","exports","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","BlinkTradeRest","BlinkTradeWS","Brokers","undefined","_brokers","_brokers2","_ws","_ws2","_rest","_rest2","SURBITCOIN","VBTC","FOXBIT","TESTNET","URDUBIT","CHILEBIT","BITCAMBIO","_objectWithoutProperties","keys","target","i","indexOf","prototype","hasOwnProperty","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","_extends","assign","arguments","length","source","key","_createClass","defineProperties","props","descriptor","protoProps","staticProps","_get","get","object","property","receiver","Function","desc","getOwnPropertyDescriptor","parent","getPrototypeOf","getter","_nodeify","_nodeify2","_listener","_events","_actionTypes","_messages","_utils","_trade","_trade2","_websocket","_websocket2","_transport","_TradeBase","params","this","_this","transport","session","callback","connect","disconnect","msg","sendMessageAsPromise","_this2","d","Date","MsgType","ActionMsgReq","HEARTBEAT","TestReqID","getTime","SendTime","extend","Promise","resolve","reject","send","then","data","Latency","now","catch","nodeify","_ref","_this3","username","password","secondFactor","token","trustedDevice","brokerId","userAgent","IS_NODE","os","UserAgent","type","release","UserAgentLanguage","UserAgentPlatform","platform","arch","UserAgentTimezoneOffset","getTimezoneOffset","window","navigator","language","LOGIN","UserReqID","generateRequestId","BrokerID","Username","Password","UserReqTyp","TrustedDevice","SecondFactor","Token","UserStatus","LOGOUT","profile","_session$Profile","Profile","_this4","emitterPromise","registerListener","BALANCE","balance","eventEmitter","emit","symbols","_this5","SECURITY_STATUS_SUBSCRIBE","SecurityStatusReqID","SubscriptionRequestType","Instruments","formatTicker","SellVolume","LowPx","LastPx","BestAsk","HighPx","BuyVolume","BestBid","registerEventEmitter","ticker","Market","Symbol","sendMessage","_this6","MD_FULL_REFRESH","MDReqID","MarketDepth","MDUpdateType","MDEntryTypes","subscribeEvent","MDBkTyp","MDIncGrp","map","order","dataOrder","index","MDEntryPositionNo","price","MDEntryPx","size","MDEntrySize","side","MDEntryType","userId","UserID","orderId","OrderID","symbol","time","MDEntryDate","MDEntryTime","orderbookEvent","EVENTS","ORDERBOOK","MDUpdateAction","bidOfferData","tradeEvent","TRADES","tradeData","formatOrderBook","level","err","_this7","event","EXECUTION_REPORT","ExecType","_ref2","since","filter","_ref2$page","page","Page","_ref2$pageSize","pageSize","PageSize","TRADE_HISTORY","TradeHistoryReqID","Filter","Since","format","formatTradeHistory","_this8","_ref3","_ref3$currency","currency","depositMethodId","deposit","DEPOSIT_REFRESH","ClOrdID","_ref4","_this9","amount","_ref4$currency","_ref4$method","method","withdraw","WITHDRAW_REFRESH","require","getListeners","listeners","parseInt","Math","random","String","getListener","msgType","getKey","messages","getRequest","reqs","setRequest","promise","set","deleteRequest","delete","getEventEmitter","emitters","Map","_interopRequireWildcard","newObj","ActionMsgRes","MsgActionRes","MsgActionReq","_ramda","_requestTypes","actions","msgToAction","compose","invertObj","head","1","BE","V","x","SECURITY_LIST","SecurityReqID","e","D","ORDER_SEND","F","ORDER_CANCEL","U0","SIGNUP","U2","BalanceReqID","U6","WITHDRAW_REQUEST","WithdrawReqID","U4","ORDER_HISTORY","OrdersReqID","U18","DEPOSIT_REQUEST","DepositReqID","U20","DEPOSIT_METHODS","DepositMethodReqID","U24","WITHDRAW_CONFIRM","U26","WITHDRAW_LIST","WithdrawListReqID","U28","BROKER_LIST","BrokerListReqID","U30","DEPOSIT_LIST","DepositListReqID","U32","U34","LEDGER_LIST","LedgerListReqID","U38","PROFILE_UPDATE","UpdateReqID","U50","API_KEY_LIST","APIKeyListReqID","U52","API_KEY_CREATE","APIKeyCreateReqID","U54","API_KEY_REVOKE","APIKeyRevokeReqID","U70","WITHDRAW_CANCEL","WithdrawCancelReqID","U78","WITHDRAW_COMMENT","B0","DEPOSIT_PROCESS","ProcessDepositReqID","B2","CUSTOMER_LIST","CustomerListReqID","B4","KYC_REQUEST","CustomerReqID","B6","WITHDRAW_PROCESS","ProcessWithdrawReqID","B8","KYC_VERIFY","VerifyCustomerReqID","0","BF","W","X","MD_INCREMENT","8","y","f","U3","U7","U5","U9","U19","U21","U23","U25","U27","U29","U31","U33","U35","U39","U51","U53","U55","U71","U79","B1","B3","B5","B9","B7","B11","CUSTOMER_REFRESH","ReqID","ResetPasswordReqID","EnableTwoFactorReqID","TradersRankReqID","PositionReqID","SECURITY_STATUS_UPDATE","SECURITY_STATUS_UNSUBSCRIBE","MD_TRADES","MD_TRADES_UNSUBSCRIBE","MD_UNSUBSCRIBE","MD_OPENING","OB_NEW_ORDER","OB_UPDATE_ORDER","OB_DELETE_ORDER","OB_DELETE_ORDERS_THRU","EXECUTION_REPORT_NEW","EXECUTION_REPORT_PARTIAL","EXECUTION_REPORT_EXECUTION","EXECUTION_REPORT_CANCELED","EXECUTION_REPORT_REJECTED","TRADE_NEW","LOGIN_REQUIRED","LOGIN_CLOSE","CHANGE_PASSWORD","WITHDRAW_FILTER","WITHDRAW_SET_NEW_VISIBLE","DEPOSIT_FILTER","DEPOSIT_SET_NEW_VISIBLE","LEDGER_FILTER","ORDER_BOOK_TRADE_NEW","ORDER_BOOK_NEW_ORDER","ORDER_BOOK_UPDATE_ORDER","ORDER_BOOK_DELETE_ORDER","ORDER_BOOK_DELETE_ORDERS_THRU","2","3","4","_defineProperty","formatColumns","field","list","zipObj","Columns","TradeHistoryGrp","groupBy","prop","_data$MDFullGrp$filte","MDFullGrp","reduce","prev","push","bids","asks","TradeBase","clientId","ClientID","_ref$page","_ref$pageSize","Side","OrdType","Price","OrderQty","param","_ref3$page","_ref3$pageSize","_ref3$status","status","StatusList","reqId","Method","Amount","Currency","Data","_ref5","WithdrawID","withdrawId","confirmationToken","CONFIRM_WITHDRAW","ConfirmationToken","CANCEL_WITHDRAW","_ref6","_ref6$page","_ref6$pageSize","_ref6$status","_ref7","_ref7$currency","DepositMethodID","Value","_ref8","_ref8$page","_ref8$pageSize","_eventemitter","_transport2","WebSocketTransport","_Transport","stun","local","public","getStun","getFingerPrint","fingerPrint","headers","EventEmitter2","wildcard","delimiter","request","WebSocket","socket","endpoint","onopen","onOpen","bind","onclose","onClose","onerror","onError","onmessage","onMessage","close","closeStun","connected","error","readyState","STUNTIP","FingerPrint","JSON","stringify","parse","Error","Detail","Description","emitter","listener","dispatchPromise","dispatchEventEmitters","dispatchListeners","customFingerprint","getMac","macAddress","IS_BROWSER","Fingerprint2","abs","encodeByteArray","on","onAny","offAny","once","many","times","removeListener","removeAllListeners","events","_common","_common2","Transport","document","env","url","prod","testnet","ws","wsBitcambio","rest","restBitcambio","_macaddress2","all","hashCode","str","hash","charCodeAt","macAddresses","forEach","iface","mac","_macaddress","SEED32","CONSTANT32","mix32_","mix","a","b","toSigned_","n","wordAt_","bytes","offset","keylen","seed","addIPAddress","ipAddress","match","stunIp","_dgram2","createSocket","STUN_HEADER_LENGTH","stunRequest","Buffer","STUN_METHOD_REQUEST","STUN_BINDING_CLASS","STUN_MAGIC_COOKIE","STUN_TID_MAX","pow","STUN_ATTR_MAPPED_ADDRESS","STUN_ATTR_XOR_MAPPED_ADDRESS","STUN_ATTR_XOR_MAPPED_ADDRESS_ALT","stunTxId","stunServers","writeUInt16BE","writeUInt32BE","xor","tmp","len","block","readUInt8","bit1","bit2","msgHeader","slice","msgAttrs","attrType","readUInt16BE","attrBuffLength","blockOut","family","address","_ip2","toString","magic","tid","xaddr","addr","concat","_slicedToArray","port","host","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","iterator","next","done","Array","isArray","_ip","_dgram","path","fetchTrade","fetchPublic","_ref$limit","limit","_ref$since","_url","_url2","_sjcl","_sjcl2","_fetchPonyfill2","_fetchPonyfill3","_fetchPonyfill","fetch","RestTransport","secret","body","timeStamp","hexKey","codec","utf8String","toBits","hmac","misc","sha256","Signature","hex","fromBits","encrypt","Content-Type","Nonce","APIKey","api","response","json","Status","Responses"],"mappings":"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","file":"blinktrade.min.js","sourcesContent":["module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.BlinkTradeRest = exports.BlinkTradeWS = exports.Brokers = undefined;\n\t\n\tvar _brokers = __webpack_require__(1);\n\t\n\tvar _brokers2 = _interopRequireDefault(_brokers);\n\t\n\tvar _ws = __webpack_require__(2);\n\t\n\tvar _ws2 = _interopRequireDefault(_ws);\n\t\n\tvar _rest = __webpack_require__(25);\n\t\n\tvar _rest2 = _interopRequireDefault(_rest);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.Brokers = _brokers2.default;\n\texports.BlinkTradeWS = _ws2.default;\n\texports.BlinkTradeRest = _rest2.default; /**\n\t                                          * BlinkTradeJS SDK\n\t                                          * (c) 2016-present BlinkTrade, Inc.\n\t                                          *\n\t                                          * This file is part of BlinkTradeJS\n\t                                          *\n\t                                          * This program is free software: you can redistribute it and/or modify\n\t                                          * it under the terms of the GNU General Public License as published by\n\t                                          * the Free Software Foundation, either version 3 of the License, or\n\t                                          * (at your option) any later version.\n\t                                         \n\t                                          * This program is distributed in the hope that it will be useful,\n\t                                          * but WITHOUT ANY WARRANTY; without even the implied warranty of\n\t                                          * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\t                                          * GNU General Public License for more details.\n\t                                         \n\t                                          * You should have received a copy of the GNU General Public License\n\t                                          * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\t                                          *\n\t                                          * \n\t                                          */\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  SURBITCOIN: 1,\n\t  VBTC: 3,\n\t  FOXBIT: 4,\n\t  TESTNET: 5,\n\t  URDUBIT: 8,\n\t  CHILEBIT: 9,\n\t  BITCAMBIO: 11\n\t};\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _nodeify = __webpack_require__(3);\n\t\n\tvar _nodeify2 = _interopRequireDefault(_nodeify);\n\t\n\tvar _eventemitter = __webpack_require__(4);\n\t\n\tvar _listener = __webpack_require__(5);\n\t\n\tvar _events = __webpack_require__(10);\n\t\n\tvar _actionTypes = __webpack_require__(9);\n\t\n\tvar _messages = __webpack_require__(6);\n\t\n\tvar _utils = __webpack_require__(11);\n\t\n\tvar _trade = __webpack_require__(12);\n\t\n\tvar _trade2 = _interopRequireDefault(_trade);\n\t\n\tvar _websocket = __webpack_require__(13);\n\t\n\tvar _websocket2 = _interopRequireDefault(_websocket);\n\t\n\tvar _transport = __webpack_require__(14);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * BlinkTradeJS SDK\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * (c) 2016-present BlinkTrade, Inc.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of BlinkTradeJS\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This program is free software: you can redistribute it and/or modify\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * it under the terms of the GNU General Public License as published by\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the Free Software Foundation, either version 3 of the License, or\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * (at your option) any later version.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This program is distributed in the hope that it will be useful,\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * but WITHOUT ANY WARRANTY; without even the implied warranty of\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * GNU General Public License for more details.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You should have received a copy of the GNU General Public License\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\t\n\tvar BlinkTradeWS = function (_TradeBase) {\n\t  _inherits(BlinkTradeWS, _TradeBase);\n\t\n\t  /**\n\t   * Session to store login information\n\t   */\n\t  function BlinkTradeWS(params) {\n\t    _classCallCheck(this, BlinkTradeWS);\n\t\n\t    var _this = _possibleConstructorReturn(this, (BlinkTradeWS.__proto__ || Object.getPrototypeOf(BlinkTradeWS)).call(this, params));\n\t\n\t    _this.transport = params.transport || new _websocket2.default(params);\n\t    _this.session = {};\n\t    return _this;\n\t  }\n\t\n\t  _createClass(BlinkTradeWS, [{\n\t    key: 'connect',\n\t    value: function connect(callback) {\n\t      return this.transport.connect(callback);\n\t    }\n\t  }, {\n\t    key: 'disconnect',\n\t    value: function disconnect() {\n\t      return this.transport.disconnect();\n\t    }\n\t  }, {\n\t    key: 'send',\n\t    value: function send(msg) {\n\t      return this.transport.sendMessageAsPromise(msg);\n\t    }\n\t  }, {\n\t    key: 'heartbeat',\n\t    value: function heartbeat(callback) {\n\t      var _this2 = this;\n\t\n\t      var d = new Date();\n\t      var msg = {\n\t        MsgType: _messages.ActionMsgReq.HEARTBEAT,\n\t        TestReqID: d.getTime(),\n\t        SendTime: d.getTime()\n\t      };\n\t\n\t      return _nodeify2.default.extend(new Promise(function (resolve, reject) {\n\t        return _this2.send(msg).then(function (data) {\n\t          return resolve(_extends({}, data, {\n\t            Latency: new Date(Date.now()) - data.SendTime\n\t          }));\n\t        }).catch(reject);\n\t      })).nodeify(callback);\n\t    }\n\t  }, {\n\t    key: 'login',\n\t    value: function login(_ref, callback) {\n\t      var _this3 = this;\n\t\n\t      var username = _ref.username,\n\t          password = _ref.password,\n\t          secondFactor = _ref.secondFactor,\n\t          token = _ref.token,\n\t          trustedDevice = _ref.trustedDevice,\n\t          brokerId = _ref.brokerId;\n\t\n\t      var userAgent = void 0;\n\t      if (!_transport.IS_NODE) {\n\t        userAgent = {\n\t          UserAgent: window.navigator.userAgent,\n\t          UserAgentLanguage: window.navigator.language,\n\t          UserAgentPlatform: window.navigator.platform,\n\t          UserAgentTimezoneOffset: new Date().getTimezoneOffset()\n\t        };\n\t      } else {\n\t        var os = __webpack_require__(24);\n\t        userAgent = {\n\t          UserAgent: os.type() + ' ' + os.release(),\n\t          UserAgentLanguage: 'en_US',\n\t          UserAgentPlatform: os.platform() + ' (' + os.arch() + ')',\n\t          UserAgentTimezoneOffset: new Date().getTimezoneOffset()\n\t        };\n\t      }\n\t\n\t      var msg = _extends({\n\t        MsgType: _messages.ActionMsgReq.LOGIN,\n\t        UserReqID: (0, _listener.generateRequestId)(),\n\t        BrokerID: brokerId || this.brokerId,\n\t        Username: username,\n\t        Password: password,\n\t        UserReqTyp: '1',\n\t        TrustedDevice: trustedDevice || false\n\t      }, userAgent);\n\t\n\t      if (secondFactor) {\n\t        msg.SecondFactor = secondFactor;\n\t      }\n\t\n\t      if (token) {\n\t        msg.Token = token;\n\t      }\n\t\n\t      return _nodeify2.default.extend(new Promise(function (resolve, reject) {\n\t        return _this3.send(msg).then(function (data) {\n\t          if (data.UserStatus === 1) {\n\t            _this3.session = data;\n\t            return resolve(data);\n\t          }\n\t\n\t          return reject(data);\n\t        }).catch(reject);\n\t      })).nodeify(callback);\n\t    }\n\t  }, {\n\t    key: 'logout',\n\t    value: function logout(callback) {\n\t      var msg = {\n\t        MsgType: _messages.ActionMsgReq.LOGOUT,\n\t        BrokerID: this.brokerId,\n\t        UserReqID: (0, _listener.generateRequestId)(),\n\t        Username: this.session.Username,\n\t        UserReqTyp: '2'\n\t      };\n\t\n\t      return _nodeify2.default.extend(this.send(msg)).nodeify(callback);\n\t    }\n\t  }, {\n\t    key: 'profile',\n\t    value: function profile(callback) {\n\t      var _session$Profile = this.session.Profile,\n\t          VerificationData = _session$Profile.VerificationData,\n\t          profile = _objectWithoutProperties(_session$Profile, ['VerificationData']);\n\t\n\t      return _nodeify2.default.extend(Promise.resolve(profile)).nodeify(callback);\n\t    }\n\t  }, {\n\t    key: 'balance',\n\t    value: function balance(callback) {\n\t      var _this4 = this;\n\t\n\t      return this.transport.emitterPromise(new Promise(function (resolve, reject) {\n\t        return _get(BlinkTradeWS.prototype.__proto__ || Object.getPrototypeOf(BlinkTradeWS.prototype), 'balance', _this4).call(_this4, callback).then(function (data) {\n\t          (0, _listener.registerListener)(_messages.ActionMsgReq.BALANCE, function (balance) {\n\t            callback && callback(null, balance);\n\t            return _this4.transport.eventEmitter.emit(_actionTypes.BALANCE, balance);\n\t          });\n\t          return resolve(data);\n\t        }).catch(reject);\n\t      }));\n\t    }\n\t  }, {\n\t    key: 'subscribeTicker',\n\t    value: function subscribeTicker(symbols, callback) {\n\t      var _this5 = this;\n\t\n\t      var msg = {\n\t        MsgType: _messages.ActionMsgReq.SECURITY_STATUS_SUBSCRIBE,\n\t        SecurityStatusReqID: (0, _listener.generateRequestId)(),\n\t        SubscriptionRequestType: '1',\n\t        Instruments: symbols\n\t      };\n\t\n\t      var formatTicker = function formatTicker(data) {\n\t        return _extends({}, data, {\n\t          SellVolume: data.SellVolume / 1e8,\n\t          LowPx: data.LowPx / 1e8,\n\t          LastPx: data.LastPx / 1e8,\n\t          BestAsk: data.BestAsk / 1e8,\n\t          HighPx: data.HighPx / 1e8,\n\t          BuyVolume: data.BuyVolume / 1e8,\n\t          BestBid: data.BestBid / 1e8\n\t        });\n\t      };\n\t\n\t      return this.transport.emitterPromise(new Promise(function (resolve, reject) {\n\t        return _this5.send(msg).then(function (data) {\n\t          resolve(formatTicker(data));\n\t          (0, _listener.registerEventEmitter)('SecurityStatusReqID', data.SecurityStatusReqID, function (ticker) {\n\t            callback && callback(null, formatTicker(ticker));\n\t            return _this5.transport.eventEmitter.emit(ticker.Market + ':' + ticker.Symbol, formatTicker(ticker));\n\t          });\n\t        }).catch(reject);\n\t      }), callback);\n\t    }\n\t  }, {\n\t    key: 'unSubscribeTicker',\n\t    value: function unSubscribeTicker(SecurityStatusReqID) {\n\t      var msg = {\n\t        MsgType: _messages.ActionMsgReq.SECURITY_STATUS_SUBSCRIBE,\n\t        SecurityStatusReqID: SecurityStatusReqID,\n\t        SubscriptionRequestType: '2'\n\t      };\n\t\n\t      this.transport.sendMessage(msg);\n\t      return SecurityStatusReqID;\n\t    }\n\t  }, {\n\t    key: 'subscribeOrderbook',\n\t    value: function subscribeOrderbook(symbols, callback) {\n\t      var _this6 = this;\n\t\n\t      var msg = {\n\t        MsgType: _messages.ActionMsgReq.MD_FULL_REFRESH,\n\t        MDReqID: (0, _listener.generateRequestId)(),\n\t        SubscriptionRequestType: '1',\n\t        MarketDepth: 0,\n\t        MDUpdateType: '1', // Incremental refresh\n\t        MDEntryTypes: ['0', '1', '2'],\n\t        Instruments: symbols\n\t      };\n\t\n\t      var subscribeEvent = function subscribeEvent(data) {\n\t        if (data.MDBkTyp === '3') {\n\t          data.MDIncGrp.map(function (order) {\n\t            var dataOrder = {\n\t              index: order.MDEntryPositionNo,\n\t              price: order.MDEntryPx / 1e8,\n\t              size: order.MDEntrySize / 1e8,\n\t              side: order.MDEntryType === '0' ? 'buy' : 'sell',\n\t              userId: order.UserID,\n\t              orderId: order.OrderID,\n\t              symbol: order.Symbol,\n\t              time: new Date(order.MDEntryDate + ' ' + order.MDEntryTime).toString()\n\t            };\n\t\n\t            switch (order.MDEntryType) {\n\t              case '0':\n\t              case '1':\n\t                var orderbookEvent = 'OB:' + _events.EVENTS.ORDERBOOK[order.MDUpdateAction];\n\t                var bidOfferData = _extends({}, dataOrder, { type: orderbookEvent });\n\t\n\t                callback && callback(null, bidOfferData);\n\t                return _this6.transport.eventEmitter.emit(orderbookEvent, bidOfferData);\n\t              case '2':\n\t                var tradeEvent = 'OB:' + _events.EVENTS.TRADES[order.MDUpdateAction];\n\t                var tradeData = _extends({}, dataOrder, { type: tradeEvent });\n\t\n\t                callback && callback(null, tradeData);\n\t                return _this6.transport.eventEmitter.emit(tradeEvent, tradeData);\n\t              case '4':\n\t                break;\n\t              default:\n\t                return null;\n\t            }\n\t            return null;\n\t          });\n\t        }\n\t      };\n\t\n\t      return this.transport.emitterPromise(new Promise(function (resolve, reject) {\n\t        return _this6.send(msg).then(function (data) {\n\t          (0, _listener.registerEventEmitter)('MDReqID', data.MDReqID, subscribeEvent);\n\t          return resolve((0, _utils.formatOrderBook)(data, _this6.level));\n\t        }).catch(function (err) {\n\t          return reject(err);\n\t        });\n\t      }), callback);\n\t    }\n\t  }, {\n\t    key: 'unSubscribeOrderbook',\n\t    value: function unSubscribeOrderbook(MDReqID) {\n\t      var msg = {\n\t        MsgType: _messages.ActionMsgReq.MD_FULL_REFRESH,\n\t        MDReqID: MDReqID,\n\t        MarketDepth: 0,\n\t        SubscriptionRequestType: '2'\n\t      };\n\t\n\t      this.transport.sendMessage(msg);\n\t      return MDReqID;\n\t    }\n\t  }, {\n\t    key: 'executionReport',\n\t    value: function executionReport(callback) {\n\t      var _this7 = this;\n\t\n\t      (0, _listener.registerListener)('8', function (data) {\n\t        callback && callback(data);\n\t        var event = _events.EVENTS.EXECUTION_REPORT[data.ExecType];\n\t        return _this7.transport.eventEmitter.emit(_actionTypes.EXECUTION_REPORT + ':' + event, data);\n\t      });\n\t\n\t      return this.transport.eventEmitter;\n\t    }\n\t  }, {\n\t    key: 'tradeHistory',\n\t    value: function tradeHistory() {\n\t      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n\t          since = _ref2.since,\n\t          filter = _ref2.filter,\n\t          _ref2$page = _ref2.page,\n\t          Page = _ref2$page === undefined ? 0 : _ref2$page,\n\t          _ref2$pageSize = _ref2.pageSize,\n\t          PageSize = _ref2$pageSize === undefined ? 80 : _ref2$pageSize;\n\t\n\t      var callback = arguments[1];\n\t\n\t      var msg = {\n\t        MsgType: _messages.ActionMsgReq.TRADE_HISTORY,\n\t        TradeHistoryReqID: (0, _listener.generateRequestId)(),\n\t        Page: Page,\n\t        PageSize: PageSize\n\t      };\n\t\n\t      if (filter && filter.length > 0) {\n\t        msg.Filter = filter;\n\t      }\n\t\n\t      if (since && typeof since === 'number') {\n\t        msg.Since = since;\n\t      }\n\t\n\t      var format = (0, _utils.formatTradeHistory)(this.level);\n\t\n\t      return _nodeify2.default.extend(this.send(msg).then(format)).nodeify(callback);\n\t    }\n\t  }, {\n\t    key: 'requestDeposit',\n\t    value: function requestDeposit() {\n\t      var _this8 = this;\n\t\n\t      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n\t          _ref3$currency = _ref3.currency,\n\t          currency = _ref3$currency === undefined ? 'BTC' : _ref3$currency,\n\t          value = _ref3.value,\n\t          depositMethodId = _ref3.depositMethodId;\n\t\n\t      var callback = arguments[1];\n\t\n\t      var subscribeEvent = function subscribeEvent(deposit) {\n\t        callback && callback(null, deposit);\n\t        return _this8.transport.eventEmitter.emit(_actionTypes.DEPOSIT_REFRESH, deposit);\n\t      };\n\t\n\t      return this.transport.emitterPromise(new Promise(function (resolve, reject) {\n\t        return _get(BlinkTradeWS.prototype.__proto__ || Object.getPrototypeOf(BlinkTradeWS.prototype), 'requestDeposit', _this8).call(_this8, { currency: currency, value: value, depositMethodId: depositMethodId }).then(function (deposit) {\n\t          (0, _listener.registerEventEmitter)('ClOrdID', deposit.ClOrdID, subscribeEvent);\n\t          return resolve(deposit);\n\t        }).catch(reject);\n\t      }), callback);\n\t    }\n\t  }, {\n\t    key: 'onDepositRefresh',\n\t    value: function onDepositRefresh(callback) {\n\t      return new Promise(function (resolve) {\n\t        (0, _listener.registerListener)('U23', function (deposit) {\n\t          callback && callback(deposit);\n\t          return resolve(deposit);\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'requestWithdraw',\n\t    value: function requestWithdraw(_ref4, callback) {\n\t      var _this9 = this;\n\t\n\t      var amount = _ref4.amount,\n\t          data = _ref4.data,\n\t          _ref4$currency = _ref4.currency,\n\t          currency = _ref4$currency === undefined ? 'BTC' : _ref4$currency,\n\t          _ref4$method = _ref4.method,\n\t          method = _ref4$method === undefined ? 'bitcoin' : _ref4$method;\n\t\n\t      var subscribeEvent = function subscribeEvent(withdraw) {\n\t        callback && callback(null, withdraw);\n\t        return _this9.transport.eventEmitter.emit(_actionTypes.WITHDRAW_REFRESH, withdraw);\n\t      };\n\t\n\t      return this.transport.emitterPromise(new Promise(function (resolve, reject) {\n\t        return _get(BlinkTradeWS.prototype.__proto__ || Object.getPrototypeOf(BlinkTradeWS.prototype), 'requestWithdraw', _this9).call(_this9, { amount: amount, data: data, currency: currency, method: method }).then(function (withdraw) {\n\t          (0, _listener.registerEventEmitter)('ClOrdID', withdraw.ClOrdID, subscribeEvent);\n\t          return resolve(withdraw);\n\t        }).catch(reject);\n\t      }), callback);\n\t    }\n\t  }, {\n\t    key: 'onWithdrawRefresh',\n\t    value: function onWithdrawRefresh(callback) {\n\t      return new Promise(function (resolve) {\n\t        (0, _listener.registerListener)('U9', function (withdraw) {\n\t          callback && callback(withdraw);\n\t          return resolve(withdraw);\n\t        });\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return BlinkTradeWS;\n\t}(_trade2.default);\n\t\n\texports.default = BlinkTradeWS;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"nodeify\");\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"eventemitter2\");\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.getListeners = getListeners;\n\texports.generateRequestId = generateRequestId;\n\texports.getListener = getListener;\n\texports.getRequest = getRequest;\n\texports.setRequest = setRequest;\n\texports.deleteRequest = deleteRequest;\n\texports.getEventEmitter = getEventEmitter;\n\texports.registerEventEmitter = registerEventEmitter;\n\texports.registerListener = registerListener;\n\t\n\tvar _messages = __webpack_require__(6);\n\t\n\tvar reqs = new Map(); /**\n\t                       * BlinkTradeJS SDK\n\t                       * (c) 2016-present BlinkTrade, Inc.\n\t                       *\n\t                       * This file is part of BlinkTradeJS\n\t                       *\n\t                       * This program is free software: you can redistribute it and/or modify\n\t                       * it under the terms of the GNU General Public License as published by\n\t                       * the Free Software Foundation, either version 3 of the License, or\n\t                       * (at your option) any later version.\n\t                      \n\t                       * This program is distributed in the hope that it will be useful,\n\t                       * but WITHOUT ANY WARRANTY; without even the implied warranty of\n\t                       * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\t                       * GNU General Public License for more details.\n\t                      \n\t                       * You should have received a copy of the GNU General Public License\n\t                       * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\t                       *\n\t                       * \n\t                       */\n\t\n\tvar emitters = new Map();\n\tvar listeners = new Map();\n\t\n\tfunction getListeners() {\n\t  return listeners;\n\t}\n\t\n\tfunction generateRequestId() {\n\t  return parseInt(String(1e7 * Math.random()), 10);\n\t}\n\t\n\tfunction getListener(msgType) {\n\t  return listeners[msgType];\n\t}\n\t\n\tfunction getKey(messages, msg) {\n\t  var key = messages[msg.MsgType][1];\n\t  var value = msg[key];\n\t  return key + ':' + value;\n\t}\n\t\n\tfunction getRequest(msg) {\n\t  return reqs.get(getKey(_messages.MsgActionRes, msg));\n\t}\n\t\n\tfunction setRequest(msg, promise) {\n\t  reqs.set(getKey(_messages.MsgActionReq, msg), promise);\n\t  return reqs;\n\t}\n\t\n\tfunction deleteRequest(msg) {\n\t  reqs.delete(getKey(_messages.MsgActionRes, msg));\n\t  return reqs;\n\t}\n\t\n\tfunction getEventEmitter(msg) {\n\t  return emitters.get(getKey(_messages.MsgActionRes, msg));\n\t}\n\t\n\tfunction registerEventEmitter(key, value, callback) {\n\t  emitters.set(key + ':' + value, callback);\n\t}\n\t\n\tfunction registerListener(msgType, callback) {\n\t  listeners.set(msgType, callback);\n\t}\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.ActionMsgRes = exports.ActionMsgReq = exports.MsgActionRes = exports.MsgActionReq = undefined;\n\t\n\tvar _ramda = __webpack_require__(7);\n\t\n\tvar _requestTypes = __webpack_require__(8);\n\t\n\tvar reqs = _interopRequireWildcard(_requestTypes);\n\t\n\tvar _actionTypes = __webpack_require__(9);\n\t\n\tvar actions = _interopRequireWildcard(_actionTypes);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tvar msgToAction = (0, _ramda.compose)(_ramda.invertObj, (0, _ramda.map)(_ramda.head));\n\t\n\tvar MsgActionReq = exports.MsgActionReq = {\n\t  1: [actions.HEARTBEAT, reqs.TestReqID],\n\t  BE: [actions.LOGIN, reqs.UserReqID],\n\t  V: [actions.MD_FULL_REFRESH, reqs.MDReqID],\n\t  x: [actions.SECURITY_LIST, reqs.SecurityReqID],\n\t  e: [actions.SECURITY_STATUS_SUBSCRIBE, reqs.SecurityStatusReqID],\n\t  D: [actions.ORDER_SEND, reqs.ClOrdID],\n\t  F: [actions.ORDER_CANCEL, reqs.ClOrdID],\n\t  U0: [actions.SIGNUP, reqs.UserReqID],\n\t  U2: [actions.BALANCE, reqs.BalanceReqID],\n\t  U6: [actions.WITHDRAW_REQUEST, reqs.WithdrawReqID],\n\t  U4: [actions.ORDER_HISTORY, reqs.OrdersReqID],\n\t  U18: [actions.DEPOSIT_REQUEST, reqs.DepositReqID],\n\t  U20: [actions.DEPOSIT_METHODS, reqs.DepositMethodReqID],\n\t  U24: [actions.WITHDRAW_CONFIRM, reqs.WithdrawReqID],\n\t  U26: [actions.WITHDRAW_LIST, reqs.WithdrawListReqID],\n\t  U28: [actions.BROKER_LIST, reqs.BrokerListReqID],\n\t  U30: [actions.DEPOSIT_LIST, reqs.DepositListReqID],\n\t  U32: [actions.TRADE_HISTORY, reqs.TradeHistoryReqID],\n\t  U34: [actions.LEDGER_LIST, reqs.LedgerListReqID],\n\t  U38: [actions.PROFILE_UPDATE, reqs.UpdateReqID],\n\t  U50: [actions.API_KEY_LIST, reqs.APIKeyListReqID],\n\t  U52: [actions.API_KEY_CREATE, reqs.APIKeyCreateReqID],\n\t  U54: [actions.API_KEY_REVOKE, reqs.APIKeyRevokeReqID],\n\t  U70: [actions.WITHDRAW_CANCEL, reqs.WithdrawCancelReqID],\n\t  U78: [actions.WITHDRAW_COMMENT, reqs.WithdrawReqID],\n\t  B0: [actions.DEPOSIT_PROCESS, reqs.ProcessDepositReqID],\n\t  B2: [actions.CUSTOMER_LIST, reqs.CustomerListReqID],\n\t  B4: [actions.KYC_REQUEST, reqs.CustomerReqID],\n\t  B6: [actions.WITHDRAW_PROCESS, reqs.ProcessWithdrawReqID],\n\t  B8: [actions.KYC_VERIFY, reqs.VerifyCustomerReqID]\n\t};\n\t\n\tvar MsgActionRes = exports.MsgActionRes = {\n\t  0: [actions.HEARTBEAT, reqs.TestReqID],\n\t  BF: [actions.LOGIN, reqs.UserReqID],\n\t  W: [actions.MD_FULL_REFRESH, reqs.MDReqID],\n\t  X: [actions.MD_INCREMENT, reqs.MDReqID],\n\t  8: [actions.EXECUTION_REPORT, reqs.ClOrdID],\n\t  y: [actions.SECURITY_LIST, reqs.SecurityReqID],\n\t  f: [actions.SECURITY_STATUS_SUBSCRIBE, reqs.SecurityStatusReqID],\n\t  U3: [actions.BALANCE, reqs.BalanceReqID],\n\t  U7: [actions.WITHDRAW_REQUEST, reqs.WithdrawReqID],\n\t  U5: [actions.ORDER_HISTORY, reqs.OrdersReqID],\n\t  U9: [actions.WITHDRAW_REFRESH, reqs.WithdrawReqID],\n\t  U19: [actions.DEPOSIT_REQUEST, reqs.DepositReqID],\n\t  U21: [actions.DEPOSIT_METHODS, reqs.DepositMethodReqID],\n\t  U23: [actions.DEPOSIT_REFRESH, reqs.DepositReqID],\n\t  U25: [actions.WITHDRAW_CONFIRM, reqs.WithdrawReqID],\n\t  U27: [actions.WITHDRAW_LIST, reqs.WithdrawListReqID],\n\t  U29: [actions.BROKER_LIST, reqs.BrokerListReqID],\n\t  U31: [actions.DEPOSIT_LIST, reqs.DepositListReqID],\n\t  U33: [actions.TRADE_HISTORY, reqs.TradeHistoryReqID],\n\t  U35: [actions.LEDGER_LIST, reqs.LedgerListReqID],\n\t  U39: [actions.PROFILE_UPDATE, reqs.UpdateReqID],\n\t  U51: [actions.API_KEY_LIST, reqs.APIKeyListReqID],\n\t  U53: [actions.API_KEY_CREATE, reqs.APIKeyCreateReqID],\n\t  U55: [actions.API_KEY_REVOKE, reqs.APIKeyRevokeReqID],\n\t  U71: [actions.WITHDRAW_CANCEL, reqs.WithdrawCancelReqID],\n\t  U79: [actions.WITHDRAW_COMMENT, reqs.WithdrawCancelReqID],\n\t  B1: [actions.DEPOSIT_PROCESS, reqs.ProcessDepositReqID],\n\t  B3: [actions.CUSTOMER_LIST, reqs.CustomerListReqID],\n\t  B5: [actions.KYC_REQUEST, reqs.CustomerReqID],\n\t  B9: [actions.KYC_VERIFY, reqs.VerifyCustomerReqID],\n\t  B7: [actions.WITHDRAW_PROCESS, reqs.ProcessWithdrawReqID],\n\t  B11: [actions.CUSTOMER_REFRESH]\n\t};\n\t\n\tvar ActionMsgReq = exports.ActionMsgReq = msgToAction(MsgActionReq);\n\tvar ActionMsgRes = exports.ActionMsgRes = msgToAction(MsgActionRes);\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"ramda\");\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar ReqID = exports.ReqID = 'ReqID';\n\tvar TestReqID = exports.TestReqID = 'TestReqID';\n\tvar UserReqID = exports.UserReqID = 'UserReqID';\n\tvar SecurityReqID = exports.SecurityReqID = 'SecurityReqID';\n\tvar ResetPasswordReqID = exports.ResetPasswordReqID = 'ResetPasswordReqID';\n\tvar DepositReqID = exports.DepositReqID = 'DepositReqID';\n\tvar WithdrawReqID = exports.WithdrawReqID = 'WithdrawReqID';\n\tvar BalanceReqID = exports.BalanceReqID = 'BalanceReqID';\n\tvar OrdersReqID = exports.OrdersReqID = 'OrdersReqID';\n\tvar EnableTwoFactorReqID = exports.EnableTwoFactorReqID = 'EnableTwoFactorReqID';\n\tvar DepositMethodReqID = exports.DepositMethodReqID = 'DepositMethodReqID';\n\tvar WithdrawListReqID = exports.WithdrawListReqID = 'WithdrawListReqID';\n\tvar WithdrawCancelReqID = exports.WithdrawCancelReqID = 'WithdrawCancelReqID';\n\tvar BrokerListReqID = exports.BrokerListReqID = 'BrokerListReqID';\n\tvar DepositListReqID = exports.DepositListReqID = 'DepositListReqID';\n\tvar TradeHistoryReqID = exports.TradeHistoryReqID = 'TradeHistoryReqID';\n\tvar LedgerListReqID = exports.LedgerListReqID = 'LedgerListReqID';\n\tvar TradersRankReqID = exports.TradersRankReqID = 'TradersRankReqID';\n\tvar UpdateReqID = exports.UpdateReqID = 'UpdateReqID';\n\tvar PositionReqID = exports.PositionReqID = 'PositionReqID';\n\tvar SecurityStatusReqID = exports.SecurityStatusReqID = 'SecurityStatusReqID';\n\tvar APIKeyListReqID = exports.APIKeyListReqID = 'APIKeyListReqID';\n\tvar APIKeyCreateReqID = exports.APIKeyCreateReqID = 'APIKeyCreateReqID';\n\tvar APIKeyRevokeReqID = exports.APIKeyRevokeReqID = 'APIKeyRevokeReqID';\n\tvar ProcessDepositReqID = exports.ProcessDepositReqID = 'ProcessDepositReqID';\n\tvar CustomerListReqID = exports.CustomerListReqID = 'CustomerListReqID';\n\tvar CustomerReqID = exports.CustomerReqID = 'CustomerReqID';\n\tvar ProcessWithdrawReqID = exports.ProcessWithdrawReqID = 'ProcessWithdrawReqID';\n\tvar VerifyCustomerReqID = exports.VerifyCustomerReqID = 'VerifyCustomerReqID';\n\tvar MDReqID = exports.MDReqID = 'MDReqID';\n\tvar ClOrdID = exports.ClOrdID = 'ClOrdID';\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar HEARTBEAT = exports.HEARTBEAT = 'HEARTBEAT';\n\t\n\tvar BROKER_LIST = exports.BROKER_LIST = 'BROKER_LIST';\n\t\n\tvar SECURITY_LIST = exports.SECURITY_LIST = 'SECURITY_LIST';\n\tvar SECURITY_STATUS_UPDATE = exports.SECURITY_STATUS_UPDATE = 'SECURITY_STATUS_UPDATE';\n\tvar SECURITY_STATUS_SUBSCRIBE = exports.SECURITY_STATUS_SUBSCRIBE = 'SECURITY_STATUS_SUBSCRIBE';\n\tvar SECURITY_STATUS_UNSUBSCRIBE = exports.SECURITY_STATUS_UNSUBSCRIBE = 'SECURITY_STATUS_UNSUBSCRIBE';\n\t\n\tvar MD_TRADES = exports.MD_TRADES = 'MD_TRADES';\n\tvar MD_TRADES_UNSUBSCRIBE = exports.MD_TRADES_UNSUBSCRIBE = 'MD_TRADES_UNSUBSCRIBE';\n\tvar MD_INCREMENT = exports.MD_INCREMENT = 'MD_INCREMENT';\n\tvar MD_FULL_REFRESH = exports.MD_FULL_REFRESH = 'MD_FULL_REFRESH';\n\tvar MD_UNSUBSCRIBE = exports.MD_UNSUBSCRIBE = 'MD_UNSUBSCRIBE';\n\tvar MD_OPENING = exports.MD_OPENING = 'MD_OPENING';\n\t\n\tvar OB_NEW_ORDER = exports.OB_NEW_ORDER = 'OB_NEW_ORDER';\n\tvar OB_UPDATE_ORDER = exports.OB_UPDATE_ORDER = 'OB_UPDATE_ORDER';\n\tvar OB_DELETE_ORDER = exports.OB_DELETE_ORDER = 'OB_DELETE_ORDER';\n\tvar OB_DELETE_ORDERS_THRU = exports.OB_DELETE_ORDERS_THRU = 'OB_DELETE_ORDERS_THRU';\n\t\n\tvar EXECUTION_REPORT = exports.EXECUTION_REPORT = 'EXECUTION_REPORT';\n\tvar EXECUTION_REPORT_NEW = exports.EXECUTION_REPORT_NEW = 'EXECUTION_REPORT_NEW';\n\tvar EXECUTION_REPORT_PARTIAL = exports.EXECUTION_REPORT_PARTIAL = 'EXECUTION_REPORT_PARTIAL';\n\tvar EXECUTION_REPORT_EXECUTION = exports.EXECUTION_REPORT_EXECUTION = 'EXECUTION_REPORT_EXECUTION';\n\tvar EXECUTION_REPORT_CANCELED = exports.EXECUTION_REPORT_CANCELED = 'EXECUTION_REPORT_CANCELED';\n\tvar EXECUTION_REPORT_REJECTED = exports.EXECUTION_REPORT_REJECTED = 'EXECUTION_REPORT_REJECTED';\n\t\n\tvar ORDER_HISTORY = exports.ORDER_HISTORY = 'ORDER_HISTORY';\n\t\n\tvar ORDER_SEND = exports.ORDER_SEND = 'ORDER_SEND';\n\tvar ORDER_CANCEL = exports.ORDER_CANCEL = 'ORDER_CANCEL';\n\t\n\tvar TRADE_NEW = exports.TRADE_NEW = 'TRADE_NEW';\n\tvar TRADE_HISTORY = exports.TRADE_HISTORY = 'TRADE_HISTORY';\n\t\n\tvar TRADES = exports.TRADES = 'TRADES';\n\t\n\tvar SIGNUP = exports.SIGNUP = 'SIGNUP';\n\t\n\tvar LOGIN = exports.LOGIN = 'LOGIN';\n\tvar LOGOUT = exports.LOGOUT = 'LOGOUT';\n\tvar LOGIN_REQUIRED = exports.LOGIN_REQUIRED = 'LOGIN_REQUIRED';\n\tvar LOGIN_CLOSE = exports.LOGIN_CLOSE = 'LOGIN_CLOSE';\n\t\n\tvar CHANGE_PASSWORD = exports.CHANGE_PASSWORD = 'CHANGE_PASSWORD';\n\t\n\tvar BALANCE = exports.BALANCE = 'BALANCE';\n\t\n\tvar PROFILE_UPDATE = exports.PROFILE_UPDATE = 'PROFILE_UPDATE';\n\t\n\tvar WITHDRAW_LIST = exports.WITHDRAW_LIST = 'WITHDRAW_LIST';\n\tvar WITHDRAW_CANCEL = exports.WITHDRAW_CANCEL = 'WITHDRAW_CANCEL';\n\tvar WITHDRAW_FILTER = exports.WITHDRAW_FILTER = 'WITHDRAW_FILTER';\n\tvar WITHDRAW_REFRESH = exports.WITHDRAW_REFRESH = 'WITHDRAW_REFRESH';\n\tvar WITHDRAW_PROCESS = exports.WITHDRAW_PROCESS = 'WITHDRAW_PROCESS';\n\tvar WITHDRAW_CONFIRM = exports.WITHDRAW_CONFIRM = 'WITHDRAW_CONFIRM';\n\tvar WITHDRAW_COMMENT = exports.WITHDRAW_COMMENT = 'WITHDRAW_COMMENT';\n\tvar WITHDRAW_REQUEST = exports.WITHDRAW_REQUEST = 'WITHDRAW_REQUEST';\n\tvar WITHDRAW_SET_NEW_VISIBLE = exports.WITHDRAW_SET_NEW_VISIBLE = 'WITHDRAW_SET_NEW_VISIBLE';\n\t\n\tvar DEPOSIT_LIST = exports.DEPOSIT_LIST = 'DEPOSIT_LIST';\n\tvar DEPOSIT_FILTER = exports.DEPOSIT_FILTER = 'DEPOSIT_FILTER';\n\tvar DEPOSIT_REFRESH = exports.DEPOSIT_REFRESH = 'DEPOSIT_REFRESH';\n\tvar DEPOSIT_PROCESS = exports.DEPOSIT_PROCESS = 'DEPOSIT_PROCESS';\n\tvar DEPOSIT_REQUEST = exports.DEPOSIT_REQUEST = 'DEPOSIT_REQUEST';\n\tvar DEPOSIT_METHODS = exports.DEPOSIT_METHODS = 'DEPOSIT_METHODS';\n\tvar DEPOSIT_SET_NEW_VISIBLE = exports.DEPOSIT_SET_NEW_VISIBLE = 'DEPOSIT_SET_NEW_VISIBLE';\n\t\n\tvar LEDGER_LIST = exports.LEDGER_LIST = 'LEDGER_LIST';\n\tvar LEDGER_FILTER = exports.LEDGER_FILTER = 'LEDGER_FILTER';\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar ORDER_BOOK_TRADE_NEW = exports.ORDER_BOOK_TRADE_NEW = 'TRADE_NEW';\n\tvar ORDER_BOOK_NEW_ORDER = exports.ORDER_BOOK_NEW_ORDER = 'NEW_ORDER';\n\tvar ORDER_BOOK_UPDATE_ORDER = exports.ORDER_BOOK_UPDATE_ORDER = 'UPDATE_ORDER';\n\tvar ORDER_BOOK_DELETE_ORDER = exports.ORDER_BOOK_DELETE_ORDER = 'DELETE_ORDER';\n\tvar ORDER_BOOK_DELETE_ORDERS_THRU = exports.ORDER_BOOK_DELETE_ORDERS_THRU = 'DELETE_ORDERS_THRU';\n\t\n\tvar EXECUTION_REPORT = exports.EXECUTION_REPORT = 'EXECUTION_REPORT';\n\tvar EXECUTION_REPORT_NEW = exports.EXECUTION_REPORT_NEW = 'NEW';\n\tvar EXECUTION_REPORT_PARTIAL = exports.EXECUTION_REPORT_PARTIAL = 'PARTIAL';\n\tvar EXECUTION_REPORT_EXECUTION = exports.EXECUTION_REPORT_EXECUTION = 'EXECUTION';\n\tvar EXECUTION_REPORT_CANCELED = exports.EXECUTION_REPORT_CANCELED = 'CANCELED';\n\tvar EXECUTION_REPORT_REJECTED = exports.EXECUTION_REPORT_REJECTED = 'REJECTED';\n\t\n\t/* eslint-disable quote-props */\n\tvar EVENTS = exports.EVENTS = {\n\t  ORDERBOOK: {\n\t    '0': ORDER_BOOK_NEW_ORDER,\n\t    '1': ORDER_BOOK_UPDATE_ORDER,\n\t    '2': ORDER_BOOK_DELETE_ORDER,\n\t    '3': ORDER_BOOK_DELETE_ORDERS_THRU\n\t  },\n\t  TRADES: {\n\t    '0': ORDER_BOOK_TRADE_NEW\n\t  },\n\t  EXECUTION_REPORT: {\n\t    '0': EXECUTION_REPORT_NEW,\n\t    '1': EXECUTION_REPORT_PARTIAL,\n\t    '2': EXECUTION_REPORT_EXECUTION,\n\t    '4': EXECUTION_REPORT_CANCELED,\n\t    '8': EXECUTION_REPORT_REJECTED\n\t  }\n\t};\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.formatOrderBook = exports.formatTradeHistory = exports.formatColumns = undefined;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**\n\t                                                                                                                                                                                                                                                                   * BlinkTradeJS SDK\n\t                                                                                                                                                                                                                                                                   * (c) 2016-present BlinkTrade, Inc.\n\t                                                                                                                                                                                                                                                                   *\n\t                                                                                                                                                                                                                                                                   * This file is part of BlinkTradeJS\n\t                                                                                                                                                                                                                                                                   *\n\t                                                                                                                                                                                                                                                                   * This program is free software: you can redistribute it and/or modify\n\t                                                                                                                                                                                                                                                                   * it under the terms of the GNU General Public License as published by\n\t                                                                                                                                                                                                                                                                   * the Free Software Foundation, either version 3 of the License, or\n\t                                                                                                                                                                                                                                                                   * (at your option) any later version.\n\t                                                                                                                                                                                                                                                                  \n\t                                                                                                                                                                                                                                                                   * This program is distributed in the hope that it will be useful,\n\t                                                                                                                                                                                                                                                                   * but WITHOUT ANY WARRANTY; without even the implied warranty of\n\t                                                                                                                                                                                                                                                                   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\t                                                                                                                                                                                                                                                                   * GNU General Public License for more details.\n\t                                                                                                                                                                                                                                                                  \n\t                                                                                                                                                                                                                                                                   * You should have received a copy of the GNU General Public License\n\t                                                                                                                                                                                                                                                                   * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\t                                                                                                                                                                                                                                                                   *\n\t                                                                                                                                                                                                                                                                   * \n\t                                                                                                                                                                                                                                                                   */\n\t\n\tvar _ramda = __webpack_require__(7);\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tvar formatColumns = exports.formatColumns = function formatColumns(field, level) {\n\t  return function (data) {\n\t    if (level === 2) {\n\t      var list = (0, _ramda.map)((0, _ramda.zipObj)(data.Columns), data[field]);\n\t      return Promise.resolve(_extends({}, data, _defineProperty({}, field, list)));\n\t    }\n\t\n\t    return Promise.resolve(data);\n\t  };\n\t};\n\t\n\tvar formatTradeHistory = exports.formatTradeHistory = function formatTradeHistory(level) {\n\t  return function (data) {\n\t    if (level === 2) {\n\t      var TradeHistoryGrp = (0, _ramda.compose)((0, _ramda.groupBy)((0, _ramda.prop)('Market')), (0, _ramda.map)((0, _ramda.zipObj)(data.Columns)))(data.TradeHistoryGrp);\n\t\n\t      return Promise.resolve(_extends({}, data, { TradeHistoryGrp: TradeHistoryGrp }));\n\t    }\n\t\n\t    return Promise.resolve(data);\n\t  };\n\t};\n\t\n\tvar formatOrderBook = exports.formatOrderBook = function formatOrderBook(data, level) {\n\t  if (level === 2) {\n\t    var _data$MDFullGrp$filte = data.MDFullGrp.filter(function (order) {\n\t      return order.MDEntryType === '0' || order.MDEntryType === '1';\n\t    }).reduce(function (prev, order) {\n\t      var side = order.MDEntryType === '0' ? 'bids' : 'asks';\n\t      (prev[side] || (prev[side] = [])).push([order.MDEntryPx / 1e8, order.MDEntrySize / 1e8, order.UserID, order.OrderID]);\n\t      return prev;\n\t    }, []),\n\t        bids = _data$MDFullGrp$filte.bids,\n\t        asks = _data$MDFullGrp$filte.asks;\n\t\n\t    return _extends({}, data, {\n\t      MDFullGrp: _defineProperty({}, data.Symbol, {\n\t        bids: bids,\n\t        asks: asks\n\t      })\n\t    });\n\t  }\n\t\n\t  return data;\n\t};\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * BlinkTradeJS SDK\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * (c) 2016-present BlinkTrade, Inc.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * This file is part of BlinkTradeJS\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * This program is free software: you can redistribute it and/or modify\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * it under the terms of the GNU General Public License as published by\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * the Free Software Foundation, either version 3 of the License, or\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * (at your option) any later version.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * This program is distributed in the hope that it will be useful,\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * but WITHOUT ANY WARRANTY; without even the implied warranty of\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * GNU General Public License for more details.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You should have received a copy of the GNU General Public License\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\t\n\tvar _nodeify = __webpack_require__(3);\n\t\n\tvar _nodeify2 = _interopRequireDefault(_nodeify);\n\t\n\tvar _messages = __webpack_require__(6);\n\t\n\tvar _utils = __webpack_require__(11);\n\t\n\tvar _listener = __webpack_require__(5);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar TradeBase = function () {\n\t  function TradeBase(params) {\n\t    _classCallCheck(this, TradeBase);\n\t\n\t    this.level = params.level;\n\t    this.brokerId = params.brokerId;\n\t  }\n\t\n\t  _createClass(TradeBase, [{\n\t    key: 'changeBrokerId',\n\t    value: function changeBrokerId(brokerId) {\n\t      this.brokerId = brokerId;\n\t    }\n\t  }, {\n\t    key: 'balance',\n\t    value: function balance(clientId, callback) {\n\t      var msg = {\n\t        MsgType: _messages.ActionMsgReq.BALANCE,\n\t        BalanceReqID: (0, _listener.generateRequestId)()\n\t      };\n\t\n\t      if (clientId) {\n\t        msg.ClientID = clientId;\n\t      }\n\t\n\t      return _nodeify2.default.extend(this.send(msg)).nodeify(callback);\n\t    }\n\t  }, {\n\t    key: 'myOrders',\n\t    value: function myOrders() {\n\t      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n\t          _ref$page = _ref.page,\n\t          Page = _ref$page === undefined ? 0 : _ref$page,\n\t          _ref$pageSize = _ref.pageSize,\n\t          PageSize = _ref$pageSize === undefined ? 40 : _ref$pageSize,\n\t          filter = _ref.filter;\n\t\n\t      var callback = arguments[1];\n\t\n\t      var msg = {\n\t        MsgType: _messages.ActionMsgReq.ORDER_HISTORY,\n\t        OrdersReqID: (0, _listener.generateRequestId)(),\n\t        Page: Page,\n\t        PageSize: PageSize\n\t      };\n\t\n\t      if (filter) {\n\t        msg.Filter = filter;\n\t      }\n\t\n\t      var format = (0, _utils.formatColumns)('OrdListGrp', this.level);\n\t\n\t      return _nodeify2.default.extend(this.send(msg).then(format)).nodeify(callback);\n\t    }\n\t  }, {\n\t    key: 'sendOrder',\n\t    value: function sendOrder(_ref2, callback) {\n\t      var side = _ref2.side,\n\t          amount = _ref2.amount,\n\t          price = _ref2.price,\n\t          symbol = _ref2.symbol,\n\t          clientId = _ref2.clientId;\n\t\n\t      var msg = {\n\t        MsgType: _messages.ActionMsgReq.ORDER_SEND,\n\t        ClOrdID: clientId || (0, _listener.generateRequestId)().toString(),\n\t        Symbol: symbol,\n\t        Side: side,\n\t        OrdType: '2',\n\t        Price: price,\n\t        OrderQty: amount,\n\t        BrokerID: this.brokerId\n\t      };\n\t\n\t      return _nodeify2.default.extend(this.send(msg)).nodeify(callback);\n\t    }\n\t  }, {\n\t    key: 'cancelOrder',\n\t    value: function cancelOrder() {\n\t      var param = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t      var callback = arguments[1];\n\t\n\t      var orderId = param.orderId ? param.orderId : param;\n\t      var msg = {\n\t        MsgType: _messages.ActionMsgReq.ORDER_CANCEL\n\t      };\n\t\n\t      if (param.clientId) {\n\t        msg.ClOrdID = param.clientId;\n\t      }\n\t\n\t      if (param.orderId) {\n\t        msg.OrderID = orderId;\n\t      }\n\t\n\t      return _nodeify2.default.extend(this.send(msg)).nodeify(callback);\n\t    }\n\t\n\t    /**\n\t     * status: 1-Pending, 2-In Progress, 4-Completed, 8-Cancelled\n\t     */\n\t\n\t  }, {\n\t    key: 'requestWithdrawList',\n\t    value: function requestWithdrawList() {\n\t      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n\t          _ref3$page = _ref3.page,\n\t          Page = _ref3$page === undefined ? 0 : _ref3$page,\n\t          _ref3$pageSize = _ref3.pageSize,\n\t          PageSize = _ref3$pageSize === undefined ? 20 : _ref3$pageSize,\n\t          _ref3$status = _ref3.status,\n\t          StatusList = _ref3$status === undefined ? ['1', '2', '4', '8'] : _ref3$status,\n\t          filter = _ref3.filter,\n\t          clientId = _ref3.clientId;\n\t\n\t      var callback = arguments[1];\n\t\n\t      var msg = {\n\t        MsgType: _messages.ActionMsgReq.WITHDRAW_LIST,\n\t        WithdrawListReqID: (0, _listener.generateRequestId)(),\n\t        Page: Page,\n\t        PageSize: PageSize,\n\t        StatusList: StatusList\n\t      };\n\t\n\t      if (filter && filter.length) {\n\t        msg.Filter = filter;\n\t      }\n\t\n\t      if (clientId) {\n\t        msg.ClientID = clientId;\n\t      }\n\t\n\t      var format = (0, _utils.formatColumns)('WithdrawListGrp', this.level);\n\t\n\t      return _nodeify2.default.extend(this.send(msg).then(format)).nodeify(callback);\n\t    }\n\t  }, {\n\t    key: 'requestWithdraw',\n\t    value: function requestWithdraw(_ref4, callback) {\n\t      var amount = _ref4.amount,\n\t          data = _ref4.data,\n\t          _ref4$currency = _ref4.currency,\n\t          currency = _ref4$currency === undefined ? 'BTC' : _ref4$currency,\n\t          _ref4$method = _ref4.method,\n\t          method = _ref4$method === undefined ? 'bitcoin' : _ref4$method;\n\t\n\t      var reqId = (0, _listener.generateRequestId)();\n\t      var msg = {\n\t        MsgType: _messages.ActionMsgReq.WITHDRAW_REQUEST,\n\t        WithdrawReqID: reqId,\n\t        ClOrdID: reqId,\n\t        Method: method,\n\t        Amount: amount,\n\t        Currency: currency,\n\t        Data: data\n\t      };\n\t\n\t      return _nodeify2.default.extend(this.send(msg)).nodeify(callback);\n\t    }\n\t  }, {\n\t    key: 'confirmWithdraw',\n\t    value: function confirmWithdraw(_ref5, callback) {\n\t      var WithdrawID = _ref5.withdrawId,\n\t          confirmationToken = _ref5.confirmationToken,\n\t          secondFactor = _ref5.secondFactor;\n\t\n\t      var msg = {\n\t        MsgType: _messages.ActionMsgReq.CONFIRM_WITHDRAW,\n\t        WithdrawReqID: (0, _listener.generateRequestId)(),\n\t        WithdrawID: WithdrawID\n\t      };\n\t\n\t      if (confirmationToken) {\n\t        msg.ConfirmationToken = confirmationToken;\n\t      }\n\t\n\t      if (secondFactor) {\n\t        msg.SecondFactor = secondFactor;\n\t      }\n\t\n\t      return _nodeify2.default.extend(this.send(msg)).nodeify(callback);\n\t    }\n\t  }, {\n\t    key: 'cancelWithdraw',\n\t    value: function cancelWithdraw(withdrawId, callback) {\n\t      var reqId = (0, _listener.generateRequestId)();\n\t      var msg = {\n\t        MsgType: _messages.ActionMsgReq.CANCEL_WITHDRAW,\n\t        WithdrawCancelReqID: reqId,\n\t        ClOrdID: reqId,\n\t        WithdrawID: withdrawId\n\t      };\n\t\n\t      return _nodeify2.default.extend(this.send(msg)).nodeify(callback);\n\t    }\n\t  }, {\n\t    key: 'requestDepositList',\n\t    value: function requestDepositList() {\n\t      var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n\t          _ref6$page = _ref6.page,\n\t          Page = _ref6$page === undefined ? 0 : _ref6$page,\n\t          _ref6$pageSize = _ref6.pageSize,\n\t          PageSize = _ref6$pageSize === undefined ? 20 : _ref6$pageSize,\n\t          _ref6$status = _ref6.status,\n\t          StatusList = _ref6$status === undefined ? ['1', '2', '4', '8'] : _ref6$status,\n\t          filter = _ref6.filter,\n\t          clientId = _ref6.clientId;\n\t\n\t      var callback = arguments[1];\n\t\n\t      var msg = {\n\t        MsgType: _messages.ActionMsgReq.DEPOSIT_LIST,\n\t        DepositListReqID: (0, _listener.generateRequestId)(),\n\t        Page: Page,\n\t        PageSize: PageSize,\n\t        StatusList: StatusList\n\t      };\n\t\n\t      if (filter && filter.length) {\n\t        msg.Filter = filter;\n\t      }\n\t\n\t      if (clientId) {\n\t        msg.ClientID = clientId;\n\t      }\n\t\n\t      var format = (0, _utils.formatColumns)('DepositListGrp', this.level);\n\t\n\t      return _nodeify2.default.extend(this.send(msg).then(format)).nodeify(callback);\n\t    }\n\t  }, {\n\t    key: 'requestDeposit',\n\t    value: function requestDeposit() {\n\t      var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n\t          _ref7$currency = _ref7.currency,\n\t          currency = _ref7$currency === undefined ? 'BTC' : _ref7$currency,\n\t          value = _ref7.value,\n\t          depositMethodId = _ref7.depositMethodId;\n\t\n\t      var callback = arguments[1];\n\t\n\t      var reqId = (0, _listener.generateRequestId)();\n\t      var msg = {\n\t        MsgType: _messages.ActionMsgReq.DEPOSIT_REQUEST,\n\t        DepositReqID: reqId,\n\t        ClOrdID: reqId,\n\t        Currency: currency,\n\t        BrokerID: this.brokerId\n\t      };\n\t\n\t      if (currency !== 'BTC') {\n\t        msg.DepositMethodID = depositMethodId;\n\t        msg.Value = value;\n\t      }\n\t\n\t      return _nodeify2.default.extend(this.send(msg)).nodeify(callback);\n\t    }\n\t  }, {\n\t    key: 'requestDepositMethods',\n\t    value: function requestDepositMethods(callback) {\n\t      var msg = {\n\t        MsgType: _messages.ActionMsgReq.DEPOSIT_METHODS,\n\t        DepositMethodReqID: (0, _listener.generateRequestId)(),\n\t        BrokerID: this.brokerId\n\t      };\n\t\n\t      return _nodeify2.default.extend(this.send(msg)).nodeify(callback);\n\t    }\n\t  }, {\n\t    key: 'requestLedger',\n\t    value: function requestLedger() {\n\t      var _ref8 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n\t          _ref8$page = _ref8.page,\n\t          Page = _ref8$page === undefined ? 0 : _ref8$page,\n\t          _ref8$pageSize = _ref8.pageSize,\n\t          PageSize = _ref8$pageSize === undefined ? 20 : _ref8$pageSize,\n\t          brokerId = _ref8.brokerId,\n\t          clientId = _ref8.clientId,\n\t          currency = _ref8.currency;\n\t\n\t      var callback = arguments[1];\n\t\n\t      var msg = {\n\t        MsgType: _messages.ActionMsgReq.LEDGER_LIST,\n\t        LedgerListReqID: (0, _listener.generateRequestId)(),\n\t        BrokerID: this.brokerId,\n\t        Page: Page,\n\t        PageSize: PageSize\n\t      };\n\t\n\t      if (brokerId) {\n\t        msg.BrokerID = brokerId;\n\t      }\n\t      if (currency) {\n\t        msg.Currency = currency;\n\t      }\n\t      if (clientId) {\n\t        msg.ClientID = clientId;\n\t      }\n\t\n\t      var format = (0, _utils.formatColumns)('LedgerListGrp', this.level);\n\t\n\t      return _nodeify2.default.extend(this.send(msg).then(format)).nodeify(callback);\n\t    }\n\t  }]);\n\t\n\t  return TradeBase;\n\t}();\n\t\n\texports.default = TradeBase;\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _nodeify = __webpack_require__(3);\n\t\n\tvar _nodeify2 = _interopRequireDefault(_nodeify);\n\t\n\tvar _eventemitter = __webpack_require__(4);\n\t\n\tvar _transport = __webpack_require__(14);\n\t\n\tvar _transport2 = _interopRequireDefault(_transport);\n\t\n\tvar _listener = __webpack_require__(5);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * BlinkTradeJS SDK\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * (c) 2016-present BlinkTrade, Inc.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of BlinkTradeJS\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This program is free software: you can redistribute it and/or modify\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * it under the terms of the GNU General Public License as published by\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the Free Software Foundation, either version 3 of the License, or\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * (at your option) any later version.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This program is distributed in the hope that it will be useful,\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * but WITHOUT ANY WARRANTY; without even the implied warranty of\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * GNU General Public License for more details.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You should have received a copy of the GNU General Public License\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\t\n\tvar WebSocketTransport = function (_Transport) {\n\t  _inherits(WebSocketTransport, _Transport);\n\t\n\t  /*\n\t   * Event emitter to dispatch websocket updates\n\t   */\n\t\n\t\n\t  /*\n\t   * Stun object\n\t   */\n\t\n\t  /*\n\t   * WebSocket Instance\n\t   */\n\t  function WebSocketTransport() {\n\t    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t    _classCallCheck(this, WebSocketTransport);\n\t\n\t    var _this = _possibleConstructorReturn(this, (WebSocketTransport.__proto__ || Object.getPrototypeOf(WebSocketTransport)).call(this, params, params.brokerId === 11 ? 'wsBitcambio' : 'ws'));\n\t\n\t    _this.stun = { local: null, public: [] };\n\t\n\t    _this.getStun();\n\t    _this.getFingerPrint(params.fingerPrint);\n\t    _this.headers = params.headers;\n\t\n\t    _this.eventEmitter = new _eventemitter.EventEmitter2({ wildcard: true, delimiter: ':' });\n\t    return _this;\n\t  }\n\t\n\t  /*\n\t   * Transport Promise\n\t   */\n\t\n\t\n\t  /*\n\t   * FingerPrint\n\t   */\n\t\n\t\n\t  _createClass(WebSocketTransport, [{\n\t    key: 'connect',\n\t    value: function connect(callback) {\n\t      var _this2 = this;\n\t\n\t      return _nodeify2.default.extend(new Promise(function (resolve, reject) {\n\t        _this2.request = { resolve: resolve, reject: reject };\n\t\n\t        var WebSocket = _transport.IS_NODE ? __webpack_require__(16) : window.WebSocket;\n\t\n\t        _this2.socket = new WebSocket(_this2.endpoint, null, _this2.headers);\n\t        _this2.socket.onopen = _this2.onOpen.bind(_this2);\n\t        _this2.socket.onclose = _this2.onClose.bind(_this2);\n\t        _this2.socket.onerror = _this2.onError.bind(_this2);\n\t        _this2.socket.onmessage = _this2.onMessage.bind(_this2);\n\t      })).nodeify(callback);\n\t    }\n\t  }, {\n\t    key: 'disconnect',\n\t    value: function disconnect() {\n\t      this.socket.close();\n\t      this.closeStun();\n\t    }\n\t  }, {\n\t    key: 'onOpen',\n\t    value: function onOpen() {\n\t      this.request.resolve({ connected: true });\n\t    }\n\t  }, {\n\t    key: 'onClose',\n\t    value: function onClose() {}\n\t  }, {\n\t    key: 'onError',\n\t    value: function onError(error) {\n\t      this.request.reject(error);\n\t    }\n\t  }, {\n\t    key: 'sendMessage',\n\t    value: function sendMessage(msg) {\n\t      if (this.socket.readyState === 1) {\n\t        var data = msg;\n\t\n\t        data.STUNTIP = this.stun;\n\t        data.FingerPrint = this.fingerPrint;\n\t\n\t        this.socket.send(JSON.stringify(data));\n\t      }\n\t    }\n\t  }, {\n\t    key: 'sendMessageAsPromise',\n\t    value: function sendMessageAsPromise(msg) {\n\t      var _this3 = this;\n\t\n\t      return new Promise(function (resolve, reject) {\n\t        var promise = { resolve: resolve, reject: reject };\n\t        (0, _listener.setRequest)(msg, { resolve: resolve, reject: reject });\n\t        // We are passing the promise as a parameter to spy it in our tests\n\t        _this3.sendMessage(msg, promise);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'onMessage',\n\t    value: function onMessage(msg) {\n\t      var data = JSON.parse(msg.data);\n\t      if (data.MsgType === 'ERROR') {\n\t        throw new Error('Error: ' + data.Detail + ' ' + data.Description);\n\t      }\n\t\n\t      var request = (0, _listener.getRequest)(data);\n\t      var emitter = (0, _listener.getEventEmitter)(data);\n\t      var listener = (0, _listener.getListener)(data.MsgType);\n\t\n\t      this.dispatchPromise(request, data);\n\t      this.dispatchEventEmitters(emitter, data);\n\t      this.dispatchListeners(listener, data);\n\t    }\n\t  }, {\n\t    key: 'dispatchPromise',\n\t    value: function dispatchPromise(request, data) {\n\t      if (request && request.resolve) {\n\t        (0, _listener.deleteRequest)(data);\n\t        return request.resolve(data);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'dispatchEventEmitters',\n\t    value: function dispatchEventEmitters(emitter, data) {\n\t      if (emitter) {\n\t        return emitter(data);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'dispatchListeners',\n\t    value: function dispatchListeners(listener, data) {\n\t      return listener && listener(data);\n\t    }\n\t  }, {\n\t    key: 'getFingerPrint',\n\t    value: function getFingerPrint(customFingerprint) {\n\t      var _this4 = this;\n\t\n\t      if (_transport.IS_NODE) {\n\t        return __webpack_require__(17).getMac(function (macAddress) {\n\t          _this4.fingerPrint = macAddress;\n\t        });\n\t      } else if (_transport.IS_BROWSER) {\n\t        var Fingerprint2 = __webpack_require__(19);\n\t        return new Fingerprint2().get(function (fingerPrint) {\n\t          _this4.fingerPrint = Math.abs(__webpack_require__(20).encodeByteArray(fingerPrint)).toString();\n\t        });\n\t      } else if (customFingerprint) {\n\t        this.fingerPrint = customFingerprint;\n\t      } else {\n\t        throw new Error('FingerPrint not provided');\n\t      }\n\t    }\n\t  }, {\n\t    key: 'getStun',\n\t    value: function getStun() {\n\t      var _this5 = this;\n\t\n\t      if (_transport.IS_NODE) {\n\t        __webpack_require__(21).getStun(function (data) {\n\t          _this5.stun = data;\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'closeStun',\n\t    value: function closeStun() {\n\t      if (_transport.IS_NODE) {\n\t        __webpack_require__(21).closeStun();\n\t      }\n\t    }\n\t\n\t    /* eslint-disable no-param-reassign */\n\t\n\t  }, {\n\t    key: 'emitterPromise',\n\t    value: function emitterPromise(promise, callback) {\n\t      var _this6 = this;\n\t\n\t      promise.on = function (event, listener) {\n\t        _this6.eventEmitter.on(event, listener);\n\t        return promise;\n\t      };\n\t      promise.onAny = function (listener) {\n\t        _this6.eventEmitter.onAny(listener);\n\t        return promise;\n\t      };\n\t      promise.offAny = function (listener) {\n\t        _this6.eventEmitter.offAny(listener);\n\t        return promise;\n\t      };\n\t      promise.once = function (event, listener) {\n\t        _this6.eventEmitter.once(event, listener);\n\t        return promise;\n\t      };\n\t      promise.many = function (event, times, listener) {\n\t        _this6.eventEmitter.many(event, times, listener);\n\t        return promise;\n\t      };\n\t      promise.removeListener = function (event, listener) {\n\t        _this6.eventEmitter.removeListener(event, listener);\n\t        return promise;\n\t      };\n\t      promise.removeAllListeners = function (events) {\n\t        _this6.eventEmitter.removeAllListeners(events);\n\t        return promise;\n\t      };\n\t\n\t      return _nodeify2.default.extend(promise).nodeify(callback);\n\t    }\n\t    /* eslint-enable no-param-reassign */\n\t\n\t  }]);\n\t\n\t  return WebSocketTransport;\n\t}(_transport2.default);\n\t\n\texports.default = WebSocketTransport;\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.IS_BROWSER = exports.IS_NODE = undefined;\n\t\n\tvar _common = __webpack_require__(15);\n\t\n\tvar _common2 = _interopRequireDefault(_common);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } } /**\n\t                                                                                                                                                           * BlinkTradeJS SDK\n\t                                                                                                                                                           * (c) 2016-present BlinkTrade, Inc.\n\t                                                                                                                                                           *\n\t                                                                                                                                                           * This file is part of BlinkTradeJS\n\t                                                                                                                                                           *\n\t                                                                                                                                                           * This program is free software: you can redistribute it and/or modify\n\t                                                                                                                                                           * it under the terms of the GNU General Public License as published by\n\t                                                                                                                                                           * the Free Software Foundation, either version 3 of the License, or\n\t                                                                                                                                                           * (at your option) any later version.\n\t                                                                                                                                                          \n\t                                                                                                                                                           * This program is distributed in the hope that it will be useful,\n\t                                                                                                                                                           * but WITHOUT ANY WARRANTY; without even the implied warranty of\n\t                                                                                                                                                           * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\t                                                                                                                                                           * GNU General Public License for more details.\n\t                                                                                                                                                          \n\t                                                                                                                                                           * You should have received a copy of the GNU General Public License\n\t                                                                                                                                                           * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\t                                                                                                                                                           *\n\t                                                                                                                                                           * \n\t                                                                                                                                                           */\n\t\n\tvar IS_NODE = exports.IS_NODE = typeof window === 'undefined';\n\tvar IS_BROWSER = exports.IS_BROWSER = typeof document !== 'undefined';\n\t\n\tvar Transport =\n\t/*\n\t * url endpoint.\n\t */\n\tfunction Transport() {\n\t  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t  var env = arguments[1];\n\t\n\t  _classCallCheck(this, Transport);\n\t\n\t  /* eslint-disable indent */\n\t  var endpoint = params.url ? params.url : params.prod ? _common2.default.prod[env] : _common2.default.testnet[env];\n\t  /* eslint-enable indent */\n\t\n\t  this.endpoint = endpoint;\n\t  this.level = params.level || '2';\n\t};\n\t\n\texports.default = Transport;\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  prod: {\n\t    ws: 'wss://ws.blinktrade.com/trade/',\n\t    wsBitcambio: 'wss://bitcambio_api.blinktrade.com/trade/',\n\t    rest: 'https://api.blinktrade.com/',\n\t    restBitcambio: 'https://bitcambio_api.blinktrade.com/'\n\t  },\n\t  testnet: {\n\t    ws: 'wss://api_testnet.blinktrade.com/trade/',\n\t    wsBitcambio: 'wss://api_testnet.blinktrade.com/trade/',\n\t    rest: 'https://api_testnet.blinktrade.com/',\n\t    restBitcambio: 'https://api_testnet.blinktrade.com/'\n\t  }\n\t};\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"ws\");\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.getMac = getMac;\n\t\n\tvar _macaddress = __webpack_require__(18);\n\t\n\tvar _macaddress2 = _interopRequireDefault(_macaddress);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction getMac(callback) {\n\t  _macaddress2.default.all(function (err, all) {\n\t    var hashCode = function hashCode(str) {\n\t      var hash = 0;\n\t      if (str.length === 0) return hash;\n\t      for (var i = 0; i < str.length; i++) {\n\t        hash = (hash << 5) - hash + str.charCodeAt(i);\n\t        hash = hash & hash; // Convert to 32bit integer\n\t      }\n\t      return hash;\n\t    };\n\t\n\t    var macAddresses = '';\n\t    Object.keys(all).forEach(function (iface) {\n\t      macAddresses += all[iface].mac;\n\t    });\n\t\n\t    var fingerPrint = hashCode(macAddresses);\n\t    if (fingerPrint < 0) {\n\t      fingerPrint *= -1;\n\t    }\n\t\n\t    callback(fingerPrint);\n\t  });\n\t} /**\n\t   * BlinkTradeJS SDK\n\t   * (c) 2016-present BlinkTrade, Inc.\n\t   *\n\t   * This file is part of BlinkTradeJS\n\t   *\n\t   * This program is free software: you can redistribute it and/or modify\n\t   * it under the terms of the GNU General Public License as published by\n\t   * the Free Software Foundation, either version 3 of the License, or\n\t   * (at your option) any later version.\n\t  \n\t   * This program is distributed in the hope that it will be useful,\n\t   * but WITHOUT ANY WARRANTY; without even the implied warranty of\n\t   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\t   * GNU General Public License for more details.\n\t  \n\t   * You should have received a copy of the GNU General Public License\n\t   * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\t   *\n\t   * \n\t   */\n\t\n\t/* eslint-disable operator-assignment */\n\t/* eslint-disable no-plusplus */\n\t/* eslint-disable import/prefer-default-export */\n\n/***/ },\n/* 18 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"macaddress\");\n\n/***/ },\n/* 19 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"fingerprintjs2\");\n\n/***/ },\n/* 20 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/* eslint-disable no-var */\n\t/* eslint-disable no-bitwise */\n\t/* eslint-disable no-param-reassign */\n\t/* eslint-disable no-fallthrough */\n\t/* eslint-disable no-underscore-dangle */\n\t/* eslint-disable default-case */\n\t/* eslint-disable prefer-destructuring */\n\t/*\n\t * ByteArray enconding from google-closure-library\n\t */\n\t\n\tvar SEED32 = 314159265;\n\tvar CONSTANT32 = -1640531527;\n\t\n\t/**\n\t * Performs an inplace mix of an object with the integer properties (a, b, c)\n\t * and returns the final value of c.\n\t * @param {Object} mix Object with properties, a, b, and c.\n\t * @return {number} The end c-value for the mixing.\n\t * @private\n\t */\n\tvar mix32_ = function mix32_(mix) {\n\t  var a = mix.a;\n\t  var b = mix.b;\n\t  var c = mix.c;\n\t  a -= b;\n\t  a -= c;\n\t  a ^= c >>> 13;\n\t  b -= c;\n\t  b -= a;\n\t  b ^= a << 8;\n\t  c -= a;\n\t  c -= b;\n\t  c ^= b >>> 13;\n\t  a -= b;\n\t  a -= c;\n\t  a ^= c >>> 12;\n\t  b -= c;\n\t  b -= a;\n\t  b ^= a << 16;\n\t  c -= a;\n\t  c -= b;\n\t  c ^= b >>> 5;\n\t  a -= b;\n\t  a -= c;\n\t  a ^= c >>> 3;\n\t  b -= c;\n\t  b -= a;\n\t  b ^= a << 10;\n\t  c -= a;\n\t  c -= b;\n\t  c ^= b >>> 15;\n\t  mix.a = a;\n\t  mix.b = b;\n\t  mix.c = c;\n\t  return c;\n\t};\n\t\n\t/**\n\t * Converts an unsigned \"byte\" to signed, that is, convert a value in the range\n\t * (0, 2^8-1) to (-2^7, 2^7-1) in order to be compatible with Java's byte type.\n\t * @param {number} n Unsigned \"byte\" value.\n\t * @return {number} Signed \"byte\" value.\n\t * @private\n\t */\n\tvar toSigned_ = function toSigned_(n) {\n\t  return n > 127 ? n - 256 : n;\n\t};\n\t\n\tvar wordAt_ = function wordAt_(bytes, offset) {\n\t  var a = toSigned_(bytes[offset + 0]);\n\t  var b = toSigned_(bytes[offset + 1]);\n\t  var c = toSigned_(bytes[offset + 2]);\n\t  var d = toSigned_(bytes[offset + 3]);\n\t  return a + (b << 8) + (c << 16) + (d << 24);\n\t};\n\t\n\t/**\n\t * Hashes a \"byte\" array to a 32-bit value using the supplied seed.\n\t */\n\tmodule.exports.encodeByteArray = function encodeByteArray(bytes) {\n\t  var offset = 0;\n\t  var length = bytes.length;\n\t  var seed = SEED32;\n\t\n\t  var mix = {\n\t    a: CONSTANT32,\n\t    b: CONSTANT32,\n\t    c: seed\n\t  };\n\t\n\t  var keylen;\n\t  for (keylen = length; keylen >= 12; keylen -= 12, offset += 12) {\n\t    mix.a += wordAt_(bytes, offset);\n\t    mix.b += wordAt_(bytes, offset + 4);\n\t    mix.c += wordAt_(bytes, offset + 8);\n\t    mix32_(mix);\n\t  }\n\t  // Hash any remaining bytes\n\t  mix.c += length;\n\t  switch (keylen) {// deal with rest.  Some cases fall through\n\t    case 11:\n\t      mix.c += bytes[offset + 10] << 24;\n\t    case 10:\n\t      mix.c += (bytes[offset + 9] & 0xff) << 16;\n\t    case 9:\n\t      mix.c += (bytes[offset + 8] & 0xff) << 8;\n\t    // the first byte of c is reserved for the length\n\t    case 8:\n\t      mix.b += wordAt_(bytes, offset + 4);\n\t      mix.a += wordAt_(bytes, offset);\n\t      break;\n\t    case 7:\n\t      mix.b += (bytes[offset + 6] & 0xff) << 16;\n\t    case 6:\n\t      mix.b += (bytes[offset + 5] & 0xff) << 8;\n\t    case 5:\n\t      mix.b += bytes[offset + 4] & 0xff;\n\t    case 4:\n\t      mix.a += wordAt_(bytes, offset);\n\t      break;\n\t    case 3:\n\t      mix.a += (bytes[offset + 2] & 0xff) << 16;\n\t    case 2:\n\t      mix.a += (bytes[offset + 1] & 0xff) << 8;\n\t    case 1:\n\t      mix.a += bytes[offset + 0] & 0xff;\n\t    // case 0 : nothing left to add\n\t  }\n\t  return mix32_(mix);\n\t};\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }(); /**\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * BlinkTradeJS SDK\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * (c) 2016-present BlinkTrade, Inc.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * This file is part of BlinkTradeJS\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * This program is free software: you can redistribute it and/or modify\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * it under the terms of the GNU General Public License as published by\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * the Free Software Foundation, either version 3 of the License, or\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * (at your option) any later version.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * This program is distributed in the hope that it will be useful,\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * but WITHOUT ANY WARRANTY; without even the implied warranty of\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * GNU General Public License for more details.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * You should have received a copy of the GNU General Public License\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          */\n\t\n\t/* eslint-disable no-param-reassign */\n\t/* eslint-disable no-plusplus */\n\t/* eslint-disable import/prefer-default-export */\n\t/* eslint-disable no-restricted-properties */\n\t/* eslint-disable no-buffer-constructor */\n\t\n\texports.closeStun = closeStun;\n\texports.getStun = getStun;\n\t\n\tvar _ip = __webpack_require__(22);\n\t\n\tvar _ip2 = _interopRequireDefault(_ip);\n\t\n\tvar _dgram = __webpack_require__(23);\n\t\n\tvar _dgram2 = _interopRequireDefault(_dgram);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar stunIp = { local: null, public: [] };\n\t\n\tvar socket = void 0;\n\t\n\tfunction addIPAddress(ipAddress) {\n\t  if (ipAddress.match(/^(192\\.168\\.|169\\.254\\.|10\\.|172\\.(1[6-9]|2\\d|3[01]))/)) {\n\t    stunIp.local = ipAddress;\n\t  } else if (stunIp.public.indexOf(ipAddress) === -1) {\n\t    stunIp.public.push(ipAddress);\n\t  }\n\t}\n\t\n\tfunction closeStun() {\n\t  socket.close();\n\t}\n\t\n\tfunction getStun(callback) {\n\t  socket = _dgram2.default.createSocket('udp4');\n\t\n\t  var STUN_HEADER_LENGTH = 20;\n\t  var stunRequest = new Buffer(STUN_HEADER_LENGTH);\n\t\n\t  var STUN_METHOD_REQUEST = 0x000;\n\t  var STUN_BINDING_CLASS = 0x0001;\n\t  var STUN_MAGIC_COOKIE = 0x2112A442;\n\t  var STUN_TID_MAX = Math.pow(2, 32);\n\t\n\t  var STUN_ATTR_MAPPED_ADDRESS = 0x0001;\n\t  var STUN_ATTR_XOR_MAPPED_ADDRESS = 0x8020;\n\t  var STUN_ATTR_XOR_MAPPED_ADDRESS_ALT = 0x0020;\n\t\n\t  var stunTxId = Math.random() * STUN_TID_MAX;\n\t\n\t  var stunServers = [[3478, 'stun.services.mozilla.com'], [19302, 'stun.l.google.com'], [3478, 'stun.stunprotocol.org'], [3478, 'stun.softjoys.com'], [3478, 'stun.samsungsmartcam.com'], [3478, 'stun.sonetel.com'], [3478, 'stun.tagan.ru'], [3478, 'stun.voipgain.com'], [3478, 'stunserver.org'], [3478, 'stun.advfn.com'], [3478, 'stun.annatel.net'], [3478, 'stun.freevoipdeal.com']];\n\t\n\t  stunRequest.writeUInt16BE((STUN_BINDING_CLASS | STUN_METHOD_REQUEST) & 0x3fff, 0);\n\t  stunRequest.writeUInt16BE(0, 2);\n\t  stunRequest.writeUInt32BE(STUN_MAGIC_COOKIE, 4);\n\t  stunRequest.writeUInt32BE(0, 8);\n\t  stunRequest.writeUInt32BE(0, 12);\n\t  stunRequest.writeUInt32BE(stunTxId, 16);\n\t\n\t  socket.on('message', function (msg) {\n\t    var xor = function xor(a, b) {\n\t      var data = [];\n\t      if (b.length > a.length) {\n\t        var tmp = a;\n\t        a = b;\n\t        b = tmp;\n\t      }\n\t      for (var i = 0, len = a.length; i < len; i++) {\n\t        data.push(a[i] ^ b[i]);\n\t      }\n\t\n\t      return new Buffer(data);\n\t    };\n\t\n\t    var block = msg.readUInt8(0);\n\t    var bit1 = block & 0x80;\n\t    var bit2 = block & 0x40;\n\t\n\t    if (!(bit1 === 0 && bit2 === 0)) {\n\t      return;\n\t    }\n\t\n\t    var msgHeader = msg.slice(0, STUN_HEADER_LENGTH);\n\t    var msgAttrs = msg.slice(STUN_HEADER_LENGTH, msg.length);\n\t\n\t    var offset = 0;\n\t\n\t    while (offset < msgAttrs.length) {\n\t      var attrType = msgAttrs.readUInt16BE(offset);\n\t      offset += 2;\n\t\n\t      var attrBuffLength = msgAttrs.readUInt16BE(offset);\n\t      var blockOut = attrBuffLength % 4;\n\t      if (blockOut > 0) {\n\t        attrBuffLength += 4 - blockOut;\n\t      }\n\t      offset += 2;\n\t\n\t      var value = msgAttrs.slice(offset, offset + attrBuffLength);\n\t      offset += attrBuffLength;\n\t\n\t      var family = void 0;\n\t      var address = void 0;\n\t      switch (attrType) {\n\t        case STUN_ATTR_MAPPED_ADDRESS:\n\t          family = value.readUInt16BE(0) === 0x02 ? 6 : 4;\n\t          address = _ip2.default.toString(value, 4, family);\n\t          addIPAddress(address);\n\t          break;\n\t\n\t        case STUN_ATTR_XOR_MAPPED_ADDRESS:\n\t        case STUN_ATTR_XOR_MAPPED_ADDRESS_ALT:\n\t          family = value.readUInt16BE(0) === 0x02 ? 6 : 4;\n\t          var magic = msgHeader.slice(4, 8);\n\t          var tid = msgHeader.slice(8, 20);\n\t          var xaddr = value.slice(4, family === 4 ? 8 : 20);\n\t          var addr = xor(xaddr, family === 4 ? magic : value.concat([magic, tid]));\n\t          address = _ip2.default.toString(addr, 0, family);\n\t          addIPAddress(address);\n\t          break;\n\t        default:\n\t      }\n\t    }\n\t\n\t    callback(stunIp);\n\t  });\n\t\n\t  stunServers.map(function (_ref) {\n\t    var _ref2 = _slicedToArray(_ref, 2),\n\t        port = _ref2[0],\n\t        host = _ref2[1];\n\t\n\t    return socket.send(stunRequest, 0, stunRequest.length, port, host, function () {});\n\t  });\n\t}\n\n/***/ },\n/* 22 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"ip\");\n\n/***/ },\n/* 23 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"dgram\");\n\n/***/ },\n/* 24 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"os\");\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _nodeify = __webpack_require__(3);\n\t\n\tvar _nodeify2 = _interopRequireDefault(_nodeify);\n\t\n\tvar _rest = __webpack_require__(26);\n\t\n\tvar _rest2 = _interopRequireDefault(_rest);\n\t\n\tvar _trade = __webpack_require__(12);\n\t\n\tvar _trade2 = _interopRequireDefault(_trade);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * BlinkTradeJS SDK\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * (c) 2016-present BlinkTrade, Inc.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of BlinkTradeJS\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This program is free software: you can redistribute it and/or modify\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * it under the terms of the GNU General Public License as published by\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the Free Software Foundation, either version 3 of the License, or\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * (at your option) any later version.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This program is distributed in the hope that it will be useful,\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * but WITHOUT ANY WARRANTY; without even the implied warranty of\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * GNU General Public License for more details.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You should have received a copy of the GNU General Public License\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\t\n\tvar BlinkTradeRest = function (_TradeBase) {\n\t  _inherits(BlinkTradeRest, _TradeBase);\n\t\n\t  function BlinkTradeRest(params) {\n\t    _classCallCheck(this, BlinkTradeRest);\n\t\n\t    var _this = _possibleConstructorReturn(this, (BlinkTradeRest.__proto__ || Object.getPrototypeOf(BlinkTradeRest)).call(this, params));\n\t\n\t    _this.transport = params.transport || new _rest2.default(params);\n\t    return _this;\n\t  }\n\t\n\t  _createClass(BlinkTradeRest, [{\n\t    key: 'send',\n\t    value: function send(path) {\n\t      return this.transport.fetchTrade(path);\n\t    }\n\t  }, {\n\t    key: 'fetchPublic',\n\t    value: function fetchPublic(path) {\n\t      return this.transport.fetchPublic(path);\n\t    }\n\t  }, {\n\t    key: 'ticker',\n\t    value: function ticker(callback) {\n\t      return _nodeify2.default.extend(this.fetchPublic('ticker')).nodeify(callback);\n\t    }\n\t  }, {\n\t    key: 'trades',\n\t    value: function trades() {\n\t      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n\t          _ref$limit = _ref.limit,\n\t          limit = _ref$limit === undefined ? 100 : _ref$limit,\n\t          _ref$since = _ref.since,\n\t          since = _ref$since === undefined ? 0 : _ref$since;\n\t\n\t      var callback = arguments[1];\n\t\n\t      return _nodeify2.default.extend(this.fetchPublic('trades?limit=' + limit + '&since=' + since)).nodeify(callback);\n\t    }\n\t  }, {\n\t    key: 'orderbook',\n\t    value: function orderbook(callback) {\n\t      return _nodeify2.default.extend(this.fetchPublic('orderbook')).nodeify(callback);\n\t    }\n\t  }]);\n\t\n\t  return BlinkTradeRest;\n\t}(_trade2.default);\n\t\n\texports.default = BlinkTradeRest;\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _url = __webpack_require__(27);\n\t\n\tvar _url2 = _interopRequireDefault(_url);\n\t\n\tvar _sjcl = __webpack_require__(28);\n\t\n\tvar _sjcl2 = _interopRequireDefault(_sjcl);\n\t\n\tvar _fetchPonyfill2 = __webpack_require__(29);\n\t\n\tvar _fetchPonyfill3 = _interopRequireDefault(_fetchPonyfill2);\n\t\n\tvar _transport = __webpack_require__(14);\n\t\n\tvar _transport2 = _interopRequireDefault(_transport);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * BlinkTradeJS SDK\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * (c) 2016-present BlinkTrade, Inc.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of BlinkTradeJS\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This program is free software: you can redistribute it and/or modify\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * it under the terms of the GNU General Public License as published by\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the Free Software Foundation, either version 3 of the License, or\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * (at your option) any later version.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This program is distributed in the hope that it will be useful,\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * but WITHOUT ANY WARRANTY; without even the implied warranty of\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * GNU General Public License for more details.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You should have received a copy of the GNU General Public License\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * \n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\t\n\tvar _fetchPonyfill = (0, _fetchPonyfill3.default)(Promise),\n\t    _fetch = _fetchPonyfill.fetch;\n\t\n\tvar RestTransport = function (_Transport) {\n\t  _inherits(RestTransport, _Transport);\n\t\n\t  /**\n\t   * APISecret\n\t   */\n\t  function RestTransport(params) {\n\t    _classCallCheck(this, RestTransport);\n\t\n\t    var _this = _possibleConstructorReturn(this, (RestTransport.__proto__ || Object.getPrototypeOf(RestTransport)).call(this, params, params.brokerId === 11 ? 'restBitcambio' : 'rest'));\n\t\n\t    _this.key = params.key;\n\t    _this.secret = params.secret;\n\t    _this.currency = params.currency || 'USD';\n\t    return _this;\n\t  }\n\t\n\t  /**\n\t   * Exchanges currencies available.\n\t   */\n\t\n\t  /**\n\t   * APIKey\n\t   */\n\t\n\t\n\t  _createClass(RestTransport, [{\n\t    key: 'headers',\n\t    value: function headers(method, body) {\n\t      var timeStamp = Date.now().toString();\n\t      var hexKey = _sjcl2.default.codec.utf8String.toBits(this.secret);\n\t      var hmac = new _sjcl2.default.misc.hmac(hexKey, _sjcl2.default.hash.sha256);\n\t      var Signature = _sjcl2.default.codec.hex.fromBits(hmac.encrypt(timeStamp));\n\t      return {\n\t        method: method,\n\t        headers: {\n\t          'Content-Type': 'application/json',\n\t          Nonce: timeStamp,\n\t          APIKey: this.key,\n\t          Signature: Signature\n\t        },\n\t        body: JSON.stringify(body)\n\t      };\n\t    }\n\t  }, {\n\t    key: 'fetch',\n\t    value: function fetch(msg, api) {\n\t      var headers = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\t\n\t      return _fetch(_url2.default.resolve(this.endpoint, api), headers).then(function (response) {\n\t        return response.json();\n\t      });\n\t    }\n\t  }, {\n\t    key: 'fetchPublic',\n\t    value: function fetchPublic(api) {\n\t      return this.fetch({}, 'api/v1/' + this.currency + '/' + api);\n\t    }\n\t  }, {\n\t    key: 'fetchTrade',\n\t    value: function fetchTrade(msg) {\n\t      var headers = this.headers('POST', msg);\n\t      return this.fetch(msg, 'tapi/v1/message', headers).then(function (response) {\n\t        return response.Status === 500 ? Promise.reject(response) : response.Responses;\n\t      }).then(function (response) {\n\t        return response.length === 1 ? response[0] : response;\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return RestTransport;\n\t}(_transport2.default);\n\t\n\texports.default = RestTransport;\n\n/***/ },\n/* 27 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"url\");\n\n/***/ },\n/* 28 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"sjcl\");\n\n/***/ },\n/* 29 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"fetch-ponyfill\");\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// blinktrade.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 415255e7af7a8afbad3d","/**\n * BlinkTradeJS SDK\n * (c) 2016-present BlinkTrade, Inc.\n *\n * This file is part of BlinkTradeJS\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n * @flow\n */\n\nimport Brokers from './constants/brokers';\nimport BlinkTradeWS from './ws';\nimport BlinkTradeRest from './rest';\n\nexport {\n  Brokers,\n  BlinkTradeWS,\n  BlinkTradeRest,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","export default {\n  SURBITCOIN: 1,\n  VBTC: 3,\n  FOXBIT: 4,\n  TESTNET: 5,\n  URDUBIT: 8,\n  CHILEBIT: 9,\n  BITCAMBIO: 11,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/brokers.js","/**\n * BlinkTradeJS SDK\n * (c) 2016-present BlinkTrade, Inc.\n *\n * This file is part of BlinkTradeJS\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n * @flow\n */\n\nimport nodeify from 'nodeify';\nimport { EventEmitter2 as EventEmitter } from 'eventemitter2';\nimport {\n  registerListener,\n  generateRequestId,\n  registerEventEmitter,\n} from './listener';\n\nimport { EVENTS } from './constants/events';\nimport {\n  BALANCE,\n  DEPOSIT_REFRESH,\n  WITHDRAW_REFRESH,\n  EXECUTION_REPORT,\n} from './constants/actionTypes';\n\nimport { ActionMsgReq } from './constants/messages';\nimport { formatOrderBook, formatTradeHistory } from './util/utils';\n\nimport TradeBase from './trade';\nimport WebSocketTransport from './transports/websocket';\nimport { IS_NODE } from './transports/transport';\n\nclass BlinkTradeWS extends TradeBase {\n  /**\n   * Session to store login information\n   */\n  session: Object;\n\n  transport: Object;\n\n  constructor(params?: BlinkTradeBase) {\n    super(params);\n\n    this.transport = params.transport || new WebSocketTransport(params);\n    this.session = {};\n  }\n\n  connect(callback?: Function) {\n    return this.transport.connect(callback);\n  }\n\n  disconnect() {\n    return this.transport.disconnect();\n  }\n\n  send(msg: Message): Promise<Object> {\n    return this.transport.sendMessageAsPromise(msg);\n  }\n\n  heartbeat(callback?: Function): Promise<Object> {\n    const d = new Date();\n    const msg: Object = {\n      MsgType: ActionMsgReq.HEARTBEAT,\n      TestReqID: d.getTime(),\n      SendTime: d.getTime(),\n    };\n\n    return nodeify.extend(new Promise((resolve, reject) => {\n      return this.send(msg).then(data => {\n        return resolve({\n          ...data,\n          Latency: new Date(Date.now()) - data.SendTime,\n        });\n      }).catch(reject);\n    })).nodeify(callback);\n  }\n\n  login({ username, password, secondFactor, token, trustedDevice, brokerId }: {\n    username: string,\n    password: string,\n    token?: string,\n    secondFactor?: string,\n    brokerId?: number,\n    trustedDevice?: boolean,\n  }, callback?: Function): Promise<Object> {\n    let userAgent;\n    if (!IS_NODE) {\n      userAgent = {\n        UserAgent: window.navigator.userAgent,\n        UserAgentLanguage: window.navigator.language,\n        UserAgentPlatform: window.navigator.platform,\n        UserAgentTimezoneOffset: new Date().getTimezoneOffset(),\n      };\n    } else {\n      const os = require('os');\n      userAgent = {\n        UserAgent: `${os.type()} ${os.release()}`,\n        UserAgentLanguage: 'en_US',\n        UserAgentPlatform: `${os.platform()} (${os.arch()})`,\n        UserAgentTimezoneOffset: new Date().getTimezoneOffset(),\n      };\n    }\n\n    const msg: Object = {\n      MsgType: ActionMsgReq.LOGIN,\n      UserReqID: generateRequestId(),\n      BrokerID: brokerId || this.brokerId,\n      Username: username,\n      Password: password,\n      UserReqTyp: '1',\n      TrustedDevice: trustedDevice || false,\n      ...userAgent,\n    };\n\n    if (secondFactor) {\n      msg.SecondFactor = secondFactor;\n    }\n\n    if (token) {\n      msg.Token = token;\n    }\n\n    return nodeify.extend(new Promise((resolve, reject) => {\n      return this.send(msg).then(data => {\n        if (data.UserStatus === 1) {\n          this.session = data;\n          return resolve(data);\n        }\n\n        return reject(data);\n      }).catch(reject);\n    })).nodeify(callback);\n  }\n\n  logout(callback?: Function): Promise<Object> {\n    const msg = {\n      MsgType: ActionMsgReq.LOGOUT,\n      BrokerID: this.brokerId,\n      UserReqID: generateRequestId(),\n      Username: this.session.Username,\n      UserReqTyp: '2',\n    };\n\n    return nodeify.extend(this.send(msg)).nodeify(callback);\n  }\n\n  profile(callback?: Function): Promise<Object> {\n    const { VerificationData, ...profile } = this.session.Profile;\n    return nodeify.extend(Promise.resolve(profile)).nodeify(callback);\n  }\n\n  balance(callback?: Function): PromiseEmitter<Object> {\n    return this.transport.emitterPromise(new Promise((resolve, reject) => {\n      return super.balance(callback).then((data) => {\n        registerListener(ActionMsgReq.BALANCE, (balance) => {\n          callback && callback(null, balance);\n          return this.transport.eventEmitter.emit(BALANCE, balance);\n        });\n        return resolve(data);\n      }).catch(reject);\n    }));\n  }\n\n  subscribeTicker(symbols: Array<string>, callback?: Function): PromiseEmitter<Object> {\n    const msg = {\n      MsgType: ActionMsgReq.SECURITY_STATUS_SUBSCRIBE,\n      SecurityStatusReqID: generateRequestId(),\n      SubscriptionRequestType: '1',\n      Instruments: symbols,\n    };\n\n    const formatTicker = (data) => {\n      return {\n        ...data,\n        SellVolume: data.SellVolume / 1e8,\n        LowPx: data.LowPx / 1e8,\n        LastPx: data.LastPx / 1e8,\n        BestAsk: data.BestAsk / 1e8,\n        HighPx: data.HighPx / 1e8,\n        BuyVolume: data.BuyVolume / 1e8,\n        BestBid: data.BestBid / 1e8,\n      };\n    };\n\n    return this.transport.emitterPromise(new Promise((resolve, reject) => {\n      return this.send(msg).then(data => {\n        resolve(formatTicker(data));\n        registerEventEmitter('SecurityStatusReqID', data.SecurityStatusReqID, (ticker) => {\n          callback && callback(null, formatTicker(ticker));\n          return this.transport.eventEmitter.emit(`${ticker.Market}:${ticker.Symbol}`, formatTicker(ticker));\n        });\n      }).catch(reject);\n    }), callback);\n  }\n\n  unSubscribeTicker(SecurityStatusReqID: number): number {\n    const msg = {\n      MsgType: ActionMsgReq.SECURITY_STATUS_SUBSCRIBE,\n      SecurityStatusReqID,\n      SubscriptionRequestType: '2',\n    };\n\n    this.transport.sendMessage(msg);\n    return SecurityStatusReqID;\n  }\n\n  subscribeOrderbook(symbols: Array<string>, callback?: Function): PromiseEmitter<Object> {\n    const msg = {\n      MsgType: ActionMsgReq.MD_FULL_REFRESH,\n      MDReqID: generateRequestId(),\n      SubscriptionRequestType: '1',\n      MarketDepth: 0,\n      MDUpdateType: '1', // Incremental refresh\n      MDEntryTypes: ['0', '1', '2'],\n      Instruments: symbols,\n    };\n\n    const subscribeEvent = (data) => {\n      if (data.MDBkTyp === '3') {\n        data.MDIncGrp.map(order => {\n          const dataOrder = {\n            index: order.MDEntryPositionNo,\n            price: order.MDEntryPx / 1e8,\n            size: order.MDEntrySize / 1e8,\n            side: order.MDEntryType === '0' ? 'buy' : 'sell',\n            userId: order.UserID,\n            orderId: order.OrderID,\n            symbol: order.Symbol,\n            time: new Date(`${order.MDEntryDate} ${order.MDEntryTime}`).toString(),\n          };\n\n          switch (order.MDEntryType) {\n            case '0':\n            case '1':\n              const orderbookEvent = `OB:${EVENTS.ORDERBOOK[order.MDUpdateAction]}`;\n              const bidOfferData = { ...dataOrder, type: orderbookEvent };\n\n              callback && callback(null, bidOfferData);\n              return this.transport.eventEmitter.emit(orderbookEvent, bidOfferData);\n            case '2':\n              const tradeEvent = `OB:${EVENTS.TRADES[order.MDUpdateAction]}`;\n              const tradeData = { ...dataOrder, type: tradeEvent };\n\n              callback && callback(null, tradeData);\n              return this.transport.eventEmitter.emit(tradeEvent, tradeData);\n            case '4':\n              break;\n            default:\n              return null;\n          }\n          return null;\n        });\n      }\n    };\n\n    return this.transport.emitterPromise(new Promise((resolve, reject) => {\n      return this.send(msg).then(data => {\n        registerEventEmitter('MDReqID', data.MDReqID, subscribeEvent);\n        return resolve(formatOrderBook(data, this.level));\n      }).catch(err => reject(err));\n    }), callback);\n  }\n\n  unSubscribeOrderbook(MDReqID: number): number {\n    const msg = {\n      MsgType: ActionMsgReq.MD_FULL_REFRESH,\n      MDReqID,\n      MarketDepth: 0,\n      SubscriptionRequestType: '2',\n    };\n\n    this.transport.sendMessage(msg);\n    return MDReqID;\n  }\n\n  executionReport(callback?: Function): EventEmitter {\n    registerListener('8', (data) => {\n      callback && callback(data);\n      const event = EVENTS.EXECUTION_REPORT[data.ExecType];\n      return this.transport.eventEmitter.emit(`${EXECUTION_REPORT}:${event}`, data);\n    });\n\n    return this.transport.eventEmitter;\n  }\n\n  tradeHistory({ since, filter, page: Page = 0, pageSize: PageSize = 80 }: {\n    since?: number,\n    filter?: Array<string>,\n    page?: number,\n    pageSize?: number,\n  } = {}, callback?: Function): Promise<Object> {\n    const msg: Object = {\n      MsgType: ActionMsgReq.TRADE_HISTORY,\n      TradeHistoryReqID: generateRequestId(),\n      Page,\n      PageSize,\n    };\n\n    if (filter && filter.length > 0) {\n      msg.Filter = filter;\n    }\n\n    if (since && typeof since === 'number') {\n      msg.Since = since;\n    }\n\n    const format = formatTradeHistory(this.level);\n\n    return nodeify.extend(this.send(msg).then(format)).nodeify(callback);\n  }\n\n  requestDeposit({ currency = 'BTC', value, depositMethodId }: {\n    value?: number,\n    currency?: string,\n    depositMethodId?: number,\n  } = {}, callback?: Function): PromiseEmitter<Object> {\n    const subscribeEvent = (deposit) => {\n      callback && callback(null, deposit);\n      return this.transport.eventEmitter.emit(DEPOSIT_REFRESH, deposit);\n    };\n\n    return this.transport.emitterPromise(new Promise((resolve, reject) => {\n      return super.requestDeposit({ currency, value, depositMethodId }).then(deposit => {\n        registerEventEmitter('ClOrdID', deposit.ClOrdID, subscribeEvent);\n        return resolve(deposit);\n      }).catch(reject);\n    }), callback);\n  }\n\n  onDepositRefresh(callback?: Function): Promise<Object> {\n    return new Promise((resolve) => {\n      registerListener('U23', (deposit) => {\n        callback && callback(deposit);\n        return resolve(deposit);\n      });\n    });\n  }\n\n  requestWithdraw({ amount, data, currency = 'BTC', method = 'bitcoin' }: {\n    data: Object,\n    amount: number,\n    method?: string,\n    currency?: string,\n  }, callback?: Function): PromiseEmitter<Object> {\n    const subscribeEvent = (withdraw) => {\n      callback && callback(null, withdraw);\n      return this.transport.eventEmitter.emit(WITHDRAW_REFRESH, withdraw);\n    };\n\n    return this.transport.emitterPromise(new Promise((resolve, reject) => {\n      return super.requestWithdraw({ amount, data, currency, method }).then(withdraw => {\n        registerEventEmitter('ClOrdID', withdraw.ClOrdID, subscribeEvent);\n        return resolve(withdraw);\n      }).catch(reject);\n    }), callback);\n  }\n\n  onWithdrawRefresh(callback?: Function): Promise<Object> {\n    return new Promise((resolve) => {\n      registerListener('U9', (withdraw) => {\n        callback && callback(withdraw);\n        return resolve(withdraw);\n      });\n    });\n  }\n}\n\nexport default BlinkTradeWS;\n\n\n\n// WEBPACK FOOTER //\n// ./src/ws.js","module.exports = require(\"nodeify\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nodeify\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"eventemitter2\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"eventemitter2\"\n// module id = 4\n// module chunks = 0","/**\n * BlinkTradeJS SDK\n * (c) 2016-present BlinkTrade, Inc.\n *\n * This file is part of BlinkTradeJS\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n * @flow\n */\n\nimport { MsgActionReq, MsgActionRes } from './constants/messages';\n\nconst reqs = new Map();\nconst emitters = new Map();\nconst listeners = new Map();\n\nexport function getListeners() {\n  return listeners;\n}\n\nexport function generateRequestId(): number {\n  return parseInt(String(1e7 * Math.random()), 10);\n}\n\nexport function getListener(msgType: string): Function {\n  return listeners[msgType];\n}\n\nfunction getKey(messages: MsgTypes, msg: Object): string {\n  const key = messages[msg.MsgType][1];\n  const value = msg[key];\n  return key + ':' + value;\n}\n\nexport function getRequest(msg: Message): ?ResolveReject {\n  return reqs.get(getKey(MsgActionRes, msg));\n}\n\nexport function setRequest(msg: Message, promise: ResolveReject): void {\n  reqs.set(getKey(MsgActionReq, msg), promise);\n  return reqs;\n}\n\nexport function deleteRequest(msg: Message): void {\n  reqs.delete(getKey(MsgActionRes, msg));\n  return reqs;\n}\n\nexport function getEventEmitter(msg: Message): ?Function {\n  return emitters.get(getKey(MsgActionRes, msg));\n}\n\nexport function registerEventEmitter(key: string, value: number, callback: Function): Object {\n  emitters.set(key + ':' + value, callback);\n}\n\nexport function registerListener(msgType: string, callback: Function): void {\n  listeners.set(msgType, callback);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/listener.js","import { map, head, compose, invertObj } from 'ramda';\nimport * as reqs from './requestTypes';\nimport * as actions from './actionTypes';\n\nconst msgToAction = compose(invertObj, map(head));\n\nexport const MsgActionReq = {\n  1:   [actions.HEARTBEAT, reqs.TestReqID],\n  BE:  [actions.LOGIN, reqs.UserReqID],\n  V:   [actions.MD_FULL_REFRESH, reqs.MDReqID],\n  x:   [actions.SECURITY_LIST, reqs.SecurityReqID],\n  e:   [actions.SECURITY_STATUS_SUBSCRIBE, reqs.SecurityStatusReqID],\n  D:   [actions.ORDER_SEND, reqs.ClOrdID],\n  F:   [actions.ORDER_CANCEL, reqs.ClOrdID],\n  U0:  [actions.SIGNUP, reqs.UserReqID],\n  U2:  [actions.BALANCE, reqs.BalanceReqID],\n  U6:  [actions.WITHDRAW_REQUEST, reqs.WithdrawReqID],\n  U4:  [actions.ORDER_HISTORY, reqs.OrdersReqID],\n  U18: [actions.DEPOSIT_REQUEST, reqs.DepositReqID],\n  U20: [actions.DEPOSIT_METHODS, reqs.DepositMethodReqID],\n  U24: [actions.WITHDRAW_CONFIRM, reqs.WithdrawReqID],\n  U26: [actions.WITHDRAW_LIST, reqs.WithdrawListReqID],\n  U28: [actions.BROKER_LIST, reqs.BrokerListReqID],\n  U30: [actions.DEPOSIT_LIST, reqs.DepositListReqID],\n  U32: [actions.TRADE_HISTORY, reqs.TradeHistoryReqID],\n  U34: [actions.LEDGER_LIST, reqs.LedgerListReqID],\n  U38: [actions.PROFILE_UPDATE, reqs.UpdateReqID],\n  U50: [actions.API_KEY_LIST, reqs.APIKeyListReqID],\n  U52: [actions.API_KEY_CREATE, reqs.APIKeyCreateReqID],\n  U54: [actions.API_KEY_REVOKE, reqs.APIKeyRevokeReqID],\n  U70: [actions.WITHDRAW_CANCEL, reqs.WithdrawCancelReqID],\n  U78: [actions.WITHDRAW_COMMENT, reqs.WithdrawReqID],\n  B0:  [actions.DEPOSIT_PROCESS, reqs.ProcessDepositReqID],\n  B2:  [actions.CUSTOMER_LIST, reqs.CustomerListReqID],\n  B4:  [actions.KYC_REQUEST, reqs.CustomerReqID],\n  B6:  [actions.WITHDRAW_PROCESS, reqs.ProcessWithdrawReqID],\n  B8:  [actions.KYC_VERIFY, reqs.VerifyCustomerReqID],\n};\n\nexport const MsgActionRes = {\n  0:   [actions.HEARTBEAT, reqs.TestReqID],\n  BF:  [actions.LOGIN, reqs.UserReqID],\n  W:   [actions.MD_FULL_REFRESH, reqs.MDReqID],\n  X:   [actions.MD_INCREMENT, reqs.MDReqID],\n  8:   [actions.EXECUTION_REPORT, reqs.ClOrdID],\n  y:   [actions.SECURITY_LIST, reqs.SecurityReqID],\n  f:   [actions.SECURITY_STATUS_SUBSCRIBE, reqs.SecurityStatusReqID],\n  U3:  [actions.BALANCE, reqs.BalanceReqID],\n  U7:  [actions.WITHDRAW_REQUEST, reqs.WithdrawReqID],\n  U5:  [actions.ORDER_HISTORY, reqs.OrdersReqID],\n  U9:  [actions.WITHDRAW_REFRESH, reqs.WithdrawReqID],\n  U19: [actions.DEPOSIT_REQUEST, reqs.DepositReqID],\n  U21: [actions.DEPOSIT_METHODS, reqs.DepositMethodReqID],\n  U23: [actions.DEPOSIT_REFRESH, reqs.DepositReqID],\n  U25: [actions.WITHDRAW_CONFIRM, reqs.WithdrawReqID],\n  U27: [actions.WITHDRAW_LIST, reqs.WithdrawListReqID],\n  U29: [actions.BROKER_LIST, reqs.BrokerListReqID],\n  U31: [actions.DEPOSIT_LIST, reqs.DepositListReqID],\n  U33: [actions.TRADE_HISTORY, reqs.TradeHistoryReqID],\n  U35: [actions.LEDGER_LIST, reqs.LedgerListReqID],\n  U39: [actions.PROFILE_UPDATE, reqs.UpdateReqID],\n  U51: [actions.API_KEY_LIST, reqs.APIKeyListReqID],\n  U53: [actions.API_KEY_CREATE, reqs.APIKeyCreateReqID],\n  U55: [actions.API_KEY_REVOKE, reqs.APIKeyRevokeReqID],\n  U71: [actions.WITHDRAW_CANCEL, reqs.WithdrawCancelReqID],\n  U79: [actions.WITHDRAW_COMMENT, reqs.WithdrawCancelReqID],\n  B1:  [actions.DEPOSIT_PROCESS, reqs.ProcessDepositReqID],\n  B3:  [actions.CUSTOMER_LIST, reqs.CustomerListReqID],\n  B5:  [actions.KYC_REQUEST, reqs.CustomerReqID],\n  B9:  [actions.KYC_VERIFY, reqs.VerifyCustomerReqID],\n  B7:  [actions.WITHDRAW_PROCESS, reqs.ProcessWithdrawReqID],\n  B11: [actions.CUSTOMER_REFRESH],\n};\n\nexport const ActionMsgReq = msgToAction(MsgActionReq);\nexport const ActionMsgRes = msgToAction(MsgActionRes);\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/messages.js","module.exports = require(\"ramda\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ramda\"\n// module id = 7\n// module chunks = 0","export const ReqID = 'ReqID';\nexport const TestReqID = 'TestReqID';\nexport const UserReqID = 'UserReqID';\nexport const SecurityReqID = 'SecurityReqID';\nexport const ResetPasswordReqID = 'ResetPasswordReqID';\nexport const DepositReqID = 'DepositReqID';\nexport const WithdrawReqID = 'WithdrawReqID';\nexport const BalanceReqID = 'BalanceReqID';\nexport const OrdersReqID = 'OrdersReqID';\nexport const EnableTwoFactorReqID = 'EnableTwoFactorReqID';\nexport const DepositMethodReqID = 'DepositMethodReqID';\nexport const WithdrawListReqID = 'WithdrawListReqID';\nexport const WithdrawCancelReqID = 'WithdrawCancelReqID';\nexport const BrokerListReqID = 'BrokerListReqID';\nexport const DepositListReqID = 'DepositListReqID';\nexport const TradeHistoryReqID = 'TradeHistoryReqID';\nexport const LedgerListReqID = 'LedgerListReqID';\nexport const TradersRankReqID = 'TradersRankReqID';\nexport const UpdateReqID = 'UpdateReqID';\nexport const PositionReqID = 'PositionReqID';\nexport const SecurityStatusReqID = 'SecurityStatusReqID';\nexport const APIKeyListReqID = 'APIKeyListReqID';\nexport const APIKeyCreateReqID = 'APIKeyCreateReqID';\nexport const APIKeyRevokeReqID = 'APIKeyRevokeReqID';\nexport const ProcessDepositReqID = 'ProcessDepositReqID';\nexport const CustomerListReqID = 'CustomerListReqID';\nexport const CustomerReqID = 'CustomerReqID';\nexport const ProcessWithdrawReqID = 'ProcessWithdrawReqID';\nexport const VerifyCustomerReqID = 'VerifyCustomerReqID';\nexport const MDReqID = 'MDReqID';\nexport const ClOrdID = 'ClOrdID';\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/requestTypes.js","export const HEARTBEAT = 'HEARTBEAT';\n\nexport const BROKER_LIST = 'BROKER_LIST';\n\nexport const SECURITY_LIST = 'SECURITY_LIST';\nexport const SECURITY_STATUS_UPDATE = 'SECURITY_STATUS_UPDATE';\nexport const SECURITY_STATUS_SUBSCRIBE = 'SECURITY_STATUS_SUBSCRIBE';\nexport const SECURITY_STATUS_UNSUBSCRIBE = 'SECURITY_STATUS_UNSUBSCRIBE';\n\nexport const MD_TRADES = 'MD_TRADES';\nexport const MD_TRADES_UNSUBSCRIBE = 'MD_TRADES_UNSUBSCRIBE';\nexport const MD_INCREMENT = 'MD_INCREMENT';\nexport const MD_FULL_REFRESH = 'MD_FULL_REFRESH';\nexport const MD_UNSUBSCRIBE = 'MD_UNSUBSCRIBE';\nexport const MD_OPENING = 'MD_OPENING';\n\nexport const OB_NEW_ORDER = 'OB_NEW_ORDER';\nexport const OB_UPDATE_ORDER = 'OB_UPDATE_ORDER';\nexport const OB_DELETE_ORDER = 'OB_DELETE_ORDER';\nexport const OB_DELETE_ORDERS_THRU = 'OB_DELETE_ORDERS_THRU';\n\nexport const EXECUTION_REPORT = 'EXECUTION_REPORT';\nexport const EXECUTION_REPORT_NEW = 'EXECUTION_REPORT_NEW';\nexport const EXECUTION_REPORT_PARTIAL = 'EXECUTION_REPORT_PARTIAL';\nexport const EXECUTION_REPORT_EXECUTION = 'EXECUTION_REPORT_EXECUTION';\nexport const EXECUTION_REPORT_CANCELED = 'EXECUTION_REPORT_CANCELED';\nexport const EXECUTION_REPORT_REJECTED = 'EXECUTION_REPORT_REJECTED';\n\nexport const ORDER_HISTORY = 'ORDER_HISTORY';\n\nexport const ORDER_SEND = 'ORDER_SEND';\nexport const ORDER_CANCEL = 'ORDER_CANCEL';\n\nexport const TRADE_NEW = 'TRADE_NEW';\nexport const TRADE_HISTORY = 'TRADE_HISTORY';\n\nexport const TRADES = 'TRADES';\n\nexport const SIGNUP = 'SIGNUP';\n\nexport const LOGIN = 'LOGIN';\nexport const LOGOUT = 'LOGOUT';\nexport const LOGIN_REQUIRED = 'LOGIN_REQUIRED';\nexport const LOGIN_CLOSE = 'LOGIN_CLOSE';\n\nexport const CHANGE_PASSWORD = 'CHANGE_PASSWORD';\n\nexport const BALANCE = 'BALANCE';\n\nexport const PROFILE_UPDATE = 'PROFILE_UPDATE';\n\nexport const WITHDRAW_LIST = 'WITHDRAW_LIST';\nexport const WITHDRAW_CANCEL = 'WITHDRAW_CANCEL';\nexport const WITHDRAW_FILTER = 'WITHDRAW_FILTER';\nexport const WITHDRAW_REFRESH = 'WITHDRAW_REFRESH';\nexport const WITHDRAW_PROCESS = 'WITHDRAW_PROCESS';\nexport const WITHDRAW_CONFIRM = 'WITHDRAW_CONFIRM';\nexport const WITHDRAW_COMMENT = 'WITHDRAW_COMMENT';\nexport const WITHDRAW_REQUEST = 'WITHDRAW_REQUEST';\nexport const WITHDRAW_SET_NEW_VISIBLE = 'WITHDRAW_SET_NEW_VISIBLE';\n\nexport const DEPOSIT_LIST = 'DEPOSIT_LIST';\nexport const DEPOSIT_FILTER = 'DEPOSIT_FILTER';\nexport const DEPOSIT_REFRESH = 'DEPOSIT_REFRESH';\nexport const DEPOSIT_PROCESS = 'DEPOSIT_PROCESS';\nexport const DEPOSIT_REQUEST = 'DEPOSIT_REQUEST';\nexport const DEPOSIT_METHODS = 'DEPOSIT_METHODS';\nexport const DEPOSIT_SET_NEW_VISIBLE = 'DEPOSIT_SET_NEW_VISIBLE';\n\nexport const LEDGER_LIST = 'LEDGER_LIST';\nexport const LEDGER_FILTER = 'LEDGER_FILTER';\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/actionTypes.js","export const ORDER_BOOK_TRADE_NEW = 'TRADE_NEW';\nexport const ORDER_BOOK_NEW_ORDER = 'NEW_ORDER';\nexport const ORDER_BOOK_UPDATE_ORDER = 'UPDATE_ORDER';\nexport const ORDER_BOOK_DELETE_ORDER = 'DELETE_ORDER';\nexport const ORDER_BOOK_DELETE_ORDERS_THRU = 'DELETE_ORDERS_THRU';\n\nexport const EXECUTION_REPORT = 'EXECUTION_REPORT';\nexport const EXECUTION_REPORT_NEW = 'NEW';\nexport const EXECUTION_REPORT_PARTIAL = 'PARTIAL';\nexport const EXECUTION_REPORT_EXECUTION = 'EXECUTION';\nexport const EXECUTION_REPORT_CANCELED = 'CANCELED';\nexport const EXECUTION_REPORT_REJECTED = 'REJECTED';\n\n/* eslint-disable quote-props */\nexport const EVENTS = {\n  ORDERBOOK: {\n    '0': ORDER_BOOK_NEW_ORDER,\n    '1': ORDER_BOOK_UPDATE_ORDER,\n    '2': ORDER_BOOK_DELETE_ORDER,\n    '3': ORDER_BOOK_DELETE_ORDERS_THRU,\n  },\n  TRADES: {\n    '0': ORDER_BOOK_TRADE_NEW,\n  },\n  EXECUTION_REPORT: {\n    '0': EXECUTION_REPORT_NEW,\n    '1': EXECUTION_REPORT_PARTIAL,\n    '2': EXECUTION_REPORT_EXECUTION,\n    '4': EXECUTION_REPORT_CANCELED,\n    '8': EXECUTION_REPORT_REJECTED,\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/events.js","/**\n * BlinkTradeJS SDK\n * (c) 2016-present BlinkTrade, Inc.\n *\n * This file is part of BlinkTradeJS\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n * @flow\n */\n\nimport { map, compose, groupBy, prop, zipObj } from 'ramda';\n\nexport const formatColumns = (field, level) => (data) => {\n  if (level === 2) {\n    const list = map(zipObj(data.Columns), data[field]);\n    return Promise.resolve({ ...data, [field]: list });\n  }\n\n  return Promise.resolve(data);\n};\n\nexport const formatTradeHistory = (level) => (data) => {\n  if (level === 2) {\n    const TradeHistoryGrp = compose(\n      groupBy(prop('Market')),\n      map(zipObj(data.Columns)),\n    )(data.TradeHistoryGrp);\n\n    return Promise.resolve({ ...data, TradeHistoryGrp });\n  }\n\n  return Promise.resolve(data);\n};\n\nexport const formatOrderBook = (data, level) => {\n  if (level === 2) {\n    const { bids, asks } = data.MDFullGrp\n      .filter(order => order.MDEntryType === '0' || order.MDEntryType === '1')\n      .reduce((prev, order) => {\n        const side = order.MDEntryType === '0' ? 'bids' : 'asks';\n        (prev[side] || (prev[side] = [])).push([\n          order.MDEntryPx / 1e8,\n          order.MDEntrySize / 1e8,\n          order.UserID,\n          order.OrderID,\n        ]);\n        return prev;\n      }, []);\n\n    return {\n      ...data,\n      MDFullGrp: {\n        [data.Symbol]: {\n          bids,\n          asks,\n        },\n      },\n    };\n  }\n\n  return data;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/utils.js","/**\n * BlinkTradeJS SDK\n * (c) 2016-present BlinkTrade, Inc.\n *\n * This file is part of BlinkTradeJS\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n * @flow\n */\n\nimport nodeify from 'nodeify';\nimport { ActionMsgReq } from './constants/messages';\nimport { formatColumns } from './util/utils';\nimport { generateRequestId } from './listener';\n\ntype StatusListType = '1' | '2' | '4' | '8';\n\nclass TradeBase {\n  env: BlinkTradeEnv;\n\n  send: (msg: Object) => Promise<Object>;\n\n  +fetchTrade: (msg: Object) => Promise<Object>;\n\n  +sendMessageAsPromise: (msg: Object) => Promise<Object>;\n\n  constructor(params?: BlinkTradeBase) {\n    this.level = params.level;\n    this.brokerId = params.brokerId;\n  }\n\n  changeBrokerId(brokerId: number) {\n    this.brokerId = brokerId;\n  }\n\n  balance(clientId, callback?: Function): Promise<Object> {\n    const msg = {\n      MsgType: ActionMsgReq.BALANCE,\n      BalanceReqID: generateRequestId(),\n    };\n\n    if (clientId) {\n      msg.ClientID = clientId;\n    }\n\n    return nodeify.extend(this.send(msg)).nodeify(callback);\n  }\n\n  myOrders({\n    page: Page = 0,\n    pageSize: PageSize = 40,\n    filter,\n  }: {\n    page?: number,\n    pageSize?: number,\n    filter: Array<string>,\n  } = {}, callback?: Function): Promise<Object> {\n    const msg = {\n      MsgType: ActionMsgReq.ORDER_HISTORY,\n      OrdersReqID: generateRequestId(),\n      Page,\n      PageSize,\n    };\n\n    if (filter) {\n      msg.Filter = filter;\n    }\n\n    const format = formatColumns('OrdListGrp', this.level);\n\n    return nodeify.extend(this.send(msg).then(format)).nodeify(callback);\n  }\n\n  sendOrder({ side, amount, price, symbol, clientId }: {\n    side: '1' | '2',\n    price: number,\n    amount: number,\n    symbol: string,\n    clientId?: string,\n  }, callback?: Function): Promise<Object> {\n    const msg = {\n      MsgType: ActionMsgReq.ORDER_SEND,\n      ClOrdID: clientId || generateRequestId().toString(),\n      Symbol: symbol,\n      Side: side,\n      OrdType: '2',\n      Price: price,\n      OrderQty: amount,\n      BrokerID: this.brokerId,\n    };\n\n    return nodeify.extend(this.send(msg)).nodeify(callback);\n  }\n\n  cancelOrder(param?: number | {\n    orderId?: number,\n    clientId?: string,\n  } = {}, callback?: Function): Promise<Object> {\n    const orderId = param.orderId ? param.orderId : param;\n    const msg: Object = {\n      MsgType: ActionMsgReq.ORDER_CANCEL,\n    };\n\n    if (param.clientId) {\n      msg.ClOrdID = param.clientId;\n    }\n\n    if (param.orderId) {\n      msg.OrderID = orderId;\n    }\n\n    return nodeify.extend(this.send(msg)).nodeify(callback);\n  }\n\n  /**\n   * status: 1-Pending, 2-In Progress, 4-Completed, 8-Cancelled\n   */\n  requestWithdrawList({\n    page: Page = 0,\n    pageSize: PageSize = 20,\n    status: StatusList = ['1', '2', '4', '8'],\n    filter,\n    clientId,\n  }: {\n    page?: number,\n    pageSize?: number,\n    clientId: string,\n    filter?: Array<string>,\n    status?: Array<StatusListType>,\n  } = {}, callback?: Function): Promise<Object> {\n    const msg = {\n      MsgType: ActionMsgReq.WITHDRAW_LIST,\n      WithdrawListReqID: generateRequestId(),\n      Page,\n      PageSize,\n      StatusList,\n    };\n\n    if (filter && filter.length) {\n      msg.Filter = filter;\n    }\n\n    if (clientId) {\n      msg.ClientID = clientId;\n    }\n\n    const format = formatColumns('WithdrawListGrp', this.level);\n\n    return nodeify.extend(this.send(msg).then(format)).nodeify(callback);\n  }\n\n  requestWithdraw({ amount, data, currency = 'BTC', method = 'bitcoin' }: {\n    data: Object,\n    amount: number,\n    method?: string,\n    currency?: string,\n  }, callback?: Function): Promise<Object> {\n    const reqId = generateRequestId();\n    const msg = {\n      MsgType: ActionMsgReq.WITHDRAW_REQUEST,\n      WithdrawReqID: reqId,\n      ClOrdID: reqId,\n      Method: method,\n      Amount: amount,\n      Currency: currency,\n      Data: data,\n    };\n\n    return nodeify.extend(this.send(msg)).nodeify(callback);\n  }\n\n  confirmWithdraw({ withdrawId: WithdrawID, confirmationToken, secondFactor }: {\n    withdrawId: string,\n    confirmationToken?: string,\n    secondFactor?: string,\n  }, callback: Function): Promise<Object> {\n    const msg: Object = {\n      MsgType: ActionMsgReq.CONFIRM_WITHDRAW,\n      WithdrawReqID: generateRequestId(),\n      WithdrawID,\n    };\n\n    if (confirmationToken) {\n      msg.ConfirmationToken = confirmationToken;\n    }\n\n    if (secondFactor) {\n      msg.SecondFactor = secondFactor;\n    }\n\n    return nodeify.extend(this.send(msg)).nodeify(callback);\n  }\n\n  cancelWithdraw(withdrawId: string, callback: Function): Promise<Object> {\n    const reqId = generateRequestId();\n    const msg = {\n      MsgType: ActionMsgReq.CANCEL_WITHDRAW,\n      WithdrawCancelReqID: reqId,\n      ClOrdID: reqId,\n      WithdrawID: withdrawId,\n    };\n\n    return nodeify.extend(this.send(msg)).nodeify(callback);\n  }\n\n  requestDepositList({\n    page: Page = 0,\n    pageSize: PageSize = 20,\n    status: StatusList = ['1', '2', '4', '8'],\n    filter,\n    clientId,\n  }: {\n    page: number,\n    pageSize: number,\n    status: Array<StatusListType>,\n    filter?: Array<string>,\n  } = {}, callback?: Function): Promise<Object> {\n    const msg = {\n      MsgType: ActionMsgReq.DEPOSIT_LIST,\n      DepositListReqID: generateRequestId(),\n      Page,\n      PageSize,\n      StatusList,\n    };\n\n    if (filter && filter.length) {\n      msg.Filter = filter;\n    }\n\n    if (clientId) {\n      msg.ClientID = clientId;\n    }\n\n    const format = formatColumns('DepositListGrp', this.level);\n\n    return nodeify.extend(this.send(msg).then(format)).nodeify(callback);\n  }\n\n  requestDeposit({ currency = 'BTC', value, depositMethodId }: {\n    value?: number,\n    currency?: string,\n    depositMethodId?: number,\n  } = {}, callback?: Function): Promise<Object> {\n    const reqId = generateRequestId();\n    const msg: Object = {\n      MsgType: ActionMsgReq.DEPOSIT_REQUEST,\n      DepositReqID: reqId,\n      ClOrdID: reqId,\n      Currency: currency,\n      BrokerID: this.brokerId,\n    };\n\n    if (currency !== 'BTC') {\n      msg.DepositMethodID = depositMethodId;\n      msg.Value = value;\n    }\n\n    return nodeify.extend(this.send(msg)).nodeify(callback);\n  }\n\n  requestDepositMethods(callback?: Function): Promise<Object> {\n    const msg = {\n      MsgType: ActionMsgReq.DEPOSIT_METHODS,\n      DepositMethodReqID: generateRequestId(),\n      BrokerID: this.brokerId,\n    };\n\n    return nodeify.extend(this.send(msg)).nodeify(callback);\n  }\n\n  requestLedger({\n    page: Page = 0,\n    pageSize: PageSize = 20,\n    brokerId,\n    clientId,\n    currency,\n  }: {\n    page: number,\n    pageSize: number,\n    currency: string,\n    brokerId?: number,\n    clientId?: string,\n  } = {}, callback?: Function) {\n    const msg: Object = {\n      MsgType: ActionMsgReq.LEDGER_LIST,\n      LedgerListReqID: generateRequestId(),\n      BrokerID: this.brokerId,\n      Page,\n      PageSize,\n    };\n\n    if (brokerId) {\n      msg.BrokerID = brokerId;\n    }\n    if (currency) {\n      msg.Currency = currency;\n    }\n    if (clientId) {\n      msg.ClientID = clientId;\n    }\n\n    const format = formatColumns('LedgerListGrp', this.level);\n\n    return nodeify.extend(this.send(msg).then(format)).nodeify(callback);\n  }\n}\n\nexport default TradeBase;\n\n\n\n// WEBPACK FOOTER //\n// ./src/trade.js","/**\n * BlinkTradeJS SDK\n * (c) 2016-present BlinkTrade, Inc.\n *\n * This file is part of BlinkTradeJS\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n * @flow\n */\n\nimport nodeify from 'nodeify';\nimport { EventEmitter2 as EventEmitter } from 'eventemitter2';\n\nimport Transport, { IS_NODE, IS_BROWSER } from './transport';\n\nimport {\n  getRequest,\n  setRequest,\n  deleteRequest,\n  getListener,\n  getEventEmitter,\n} from '../listener';\n\nclass WebSocketTransport extends Transport {\n  /*\n   * WebSocket Instance\n   */\n  socket: WebSocket;\n\n  /*\n   * FingerPrint\n   */\n  fingerPrint: string;\n\n  /*\n   * Stun object\n   */\n  stuntip: Stun;\n\n  /*\n   * Transport Promise\n   */\n  request: Request;\n\n  /*\n   * Event emitter to dispatch websocket updates\n   */\n  eventEmitter: EventEmitter;\n\n  headers: Object;\n\n  constructor(params?: BlinkTradeWS = {}) {\n    super(params, params.brokerId === 11 ? 'wsBitcambio' : 'ws');\n\n    this.stun = { local: null, public: [] };\n\n    this.getStun();\n    this.getFingerPrint(params.fingerPrint);\n    this.headers = params.headers;\n\n    this.eventEmitter = new EventEmitter({ wildcard: true, delimiter: ':' });\n  }\n\n  connect(callback?: Function): Promise<Object> {\n    return nodeify.extend(new Promise((resolve, reject) => {\n      this.request = { resolve, reject };\n\n      const WebSocket = IS_NODE ? require('ws') : window.WebSocket;\n\n      this.socket = new WebSocket(this.endpoint, null, this.headers);\n      this.socket.onopen = this.onOpen.bind(this);\n      this.socket.onclose = this.onClose.bind(this);\n      this.socket.onerror = this.onError.bind(this);\n      this.socket.onmessage = this.onMessage.bind(this);\n    })).nodeify(callback);\n  }\n\n  disconnect(): void {\n    this.socket.close();\n    this.closeStun();\n  }\n\n  onOpen(): void {\n    this.request.resolve({ connected: true });\n  }\n\n  onClose(): void {\n  }\n\n  onError(error: any): void {\n    this.request.reject(error);\n  }\n\n  sendMessage(msg: Object): void {\n    if (this.socket.readyState === 1) {\n      const data = msg;\n\n      data.STUNTIP = this.stun;\n      data.FingerPrint = this.fingerPrint;\n\n      this.socket.send(JSON.stringify(data));\n    }\n  }\n\n  sendMessageAsPromise(msg: Object): Promise<Object> {\n    return new Promise((resolve, reject) => {\n      const promise = { resolve, reject };\n      setRequest(msg, { resolve, reject });\n      // We are passing the promise as a parameter to spy it in our tests\n      this.sendMessage(msg, promise);\n    });\n  }\n\n  onMessage(msg: Object): void {\n    const data = JSON.parse(msg.data);\n    if (data.MsgType === 'ERROR') {\n      throw new Error(`Error: ${data.Detail} ${data.Description}`);\n    }\n\n    const request = getRequest(data);\n    const emitter = getEventEmitter(data);\n    const listener = getListener(data.MsgType);\n\n    this.dispatchPromise(request, data);\n    this.dispatchEventEmitters(emitter, data);\n    this.dispatchListeners(listener, data);\n  }\n\n  dispatchPromise(request: ?Request, data: Object): any {\n    if (request && request.resolve) {\n      deleteRequest(data);\n      return request.resolve(data);\n    }\n  }\n\n  dispatchEventEmitters(emitter, data: Object): any {\n    if (emitter) {\n      return emitter(data);\n    }\n  }\n\n  dispatchListeners(listener: Function, data: Object): void {\n    return listener && listener(data);\n  }\n\n  getFingerPrint(customFingerprint?: string): void {\n    if (IS_NODE) {\n      return require('../util/macaddress').getMac(macAddress => {\n        this.fingerPrint = macAddress;\n      });\n    } else if (IS_BROWSER) {\n      const Fingerprint2 = require('fingerprintjs2');\n      return new Fingerprint2().get(fingerPrint => {\n        this.fingerPrint = Math.abs(require('../util/hash32').encodeByteArray(fingerPrint)).toString();\n      });\n    } else if (customFingerprint) {\n      this.fingerPrint = customFingerprint;\n    } else {\n      throw new Error('FingerPrint not provided');\n    }\n  }\n\n  getStun(): void {\n    if (IS_NODE) {\n      require('../util/stun').getStun(data => {\n        this.stun = data;\n      });\n    }\n  }\n\n  closeStun(): void {\n    if (IS_NODE) {\n      require('../util/stun').closeStun();\n    }\n  }\n\n  /* eslint-disable no-param-reassign */\n  emitterPromise<T>(promise: Object, callback?: Function): PromiseEmitter<T> {\n    promise.on = (event: string, listener: Function) => {\n      this.eventEmitter.on(event, listener);\n      return promise;\n    };\n    promise.onAny = (listener: Function) => {\n      this.eventEmitter.onAny(listener);\n      return promise;\n    };\n    promise.offAny = (listener: Function) => {\n      this.eventEmitter.offAny(listener);\n      return promise;\n    };\n    promise.once = (event: string, listener: Function) => {\n      this.eventEmitter.once(event, listener);\n      return promise;\n    };\n    promise.many = (event: string, times: number, listener: Function) => {\n      this.eventEmitter.many(event, times, listener);\n      return promise;\n    };\n    promise.removeListener = (event: string, listener: Function) => {\n      this.eventEmitter.removeListener(event, listener);\n      return promise;\n    };\n    promise.removeAllListeners = (events: Array<string>) => {\n      this.eventEmitter.removeAllListeners(events);\n      return promise;\n    };\n\n    return nodeify.extend(promise).nodeify(callback);\n  }\n  /* eslint-enable no-param-reassign */\n}\n\nexport default WebSocketTransport;\n\n\n\n// WEBPACK FOOTER //\n// ./src/transports/websocket.js","/**\n * BlinkTradeJS SDK\n * (c) 2016-present BlinkTrade, Inc.\n *\n * This file is part of BlinkTradeJS\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n * @flow\n */\n\nimport common from '../constants/common';\n\nexport const IS_NODE = typeof window === 'undefined';\nexport const IS_BROWSER = typeof document !== 'undefined';\n\nclass Transport {\n  /*\n   * url endpoint.\n   */\n  endpoint: string;\n\n  level: '1' | '2';\n\n  constructor(params: BlinkTradeBase = {}, env: BlinkTradeEnv) {\n    /* eslint-disable indent */\n    const endpoint =\n        params.url  ? params.url\n      : params.prod ? common.prod[env]\n      :               common.testnet[env];\n    /* eslint-enable indent */\n\n    this.endpoint = endpoint;\n    this.level = params.level || '2';\n  }\n}\n\nexport default Transport;\n\n\n\n// WEBPACK FOOTER //\n// ./src/transports/transport.js","export default {\n  prod: {\n    ws: 'wss://ws.blinktrade.com/trade/',\n    wsBitcambio: 'wss://bitcambio_api.blinktrade.com/trade/',\n    rest: 'https://api.blinktrade.com/',\n    restBitcambio: 'https://bitcambio_api.blinktrade.com/',\n  },\n  testnet: {\n    ws: 'wss://api_testnet.blinktrade.com/trade/',\n    wsBitcambio: 'wss://api_testnet.blinktrade.com/trade/',\n    rest: 'https://api_testnet.blinktrade.com/',\n    restBitcambio: 'https://api_testnet.blinktrade.com/',\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/common.js","module.exports = require(\"ws\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ws\"\n// module id = 16\n// module chunks = 0","/**\n * BlinkTradeJS SDK\n * (c) 2016-present BlinkTrade, Inc.\n *\n * This file is part of BlinkTradeJS\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n * @flow\n */\n\n/* eslint-disable operator-assignment */\n/* eslint-disable no-plusplus */\n/* eslint-disable import/prefer-default-export */\n\nimport macaddress from 'macaddress';\n\nexport function getMac(callback: Function): void {\n  macaddress.all((err, all) => {\n    const hashCode = (str) => {\n      let hash = 0;\n      if (str.length === 0) return hash;\n      for (let i = 0; i < str.length; i++) {\n        hash = ((hash << 5) - hash) + str.charCodeAt(i);\n        hash = hash & hash; // Convert to 32bit integer\n      }\n      return hash;\n    };\n\n    let macAddresses = '';\n    Object.keys(all).forEach(iface => {\n      macAddresses += all[iface].mac;\n    });\n\n    let fingerPrint = hashCode(macAddresses);\n    if (fingerPrint < 0) {\n      fingerPrint *= -1;\n    }\n\n    callback(fingerPrint);\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/macaddress.js","module.exports = require(\"macaddress\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"macaddress\"\n// module id = 18\n// module chunks = 0","module.exports = require(\"fingerprintjs2\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fingerprintjs2\"\n// module id = 19\n// module chunks = 0","/* eslint-disable no-var */\n/* eslint-disable no-bitwise */\n/* eslint-disable no-param-reassign */\n/* eslint-disable no-fallthrough */\n/* eslint-disable no-underscore-dangle */\n/* eslint-disable default-case */\n/* eslint-disable prefer-destructuring */\n/*\n * ByteArray enconding from google-closure-library\n */\n\nconst SEED32 = 314159265;\nconst CONSTANT32 = -1640531527;\n\n/**\n * Performs an inplace mix of an object with the integer properties (a, b, c)\n * and returns the final value of c.\n * @param {Object} mix Object with properties, a, b, and c.\n * @return {number} The end c-value for the mixing.\n * @private\n */\nconst mix32_ = (mix) => {\n  var a = mix.a;\n  var b = mix.b;\n  var c = mix.c;\n  a -= b;\n  a -= c;\n  a ^= c >>> 13;\n  b -= c;\n  b -= a;\n  b ^= a << 8;\n  c -= a;\n  c -= b;\n  c ^= b >>> 13;\n  a -= b;\n  a -= c;\n  a ^= c >>> 12;\n  b -= c;\n  b -= a;\n  b ^= a << 16;\n  c -= a;\n  c -= b;\n  c ^= b >>> 5;\n  a -= b;\n  a -= c;\n  a ^= c >>> 3;\n  b -= c;\n  b -= a;\n  b ^= a << 10;\n  c -= a;\n  c -= b;\n  c ^= b >>> 15;\n  mix.a = a;\n  mix.b = b;\n  mix.c = c;\n  return c;\n};\n\n/**\n * Converts an unsigned \"byte\" to signed, that is, convert a value in the range\n * (0, 2^8-1) to (-2^7, 2^7-1) in order to be compatible with Java's byte type.\n * @param {number} n Unsigned \"byte\" value.\n * @return {number} Signed \"byte\" value.\n * @private\n */\nconst toSigned_ = (n) => {\n  return n > 127 ? n - 256 : n;\n};\n\nconst wordAt_ = (bytes, offset) => {\n  var a = toSigned_(bytes[offset + 0]);\n  var b = toSigned_(bytes[offset + 1]);\n  var c = toSigned_(bytes[offset + 2]);\n  var d = toSigned_(bytes[offset + 3]);\n  return a + (b << 8) + (c << 16) + (d << 24);\n};\n\n/**\n * Hashes a \"byte\" array to a 32-bit value using the supplied seed.\n */\nmodule.exports.encodeByteArray = function encodeByteArray(bytes) {\n  var offset = 0;\n  var length = bytes.length;\n  var seed = SEED32;\n\n  var mix = {\n    a: CONSTANT32,\n    b: CONSTANT32,\n    c: seed,\n  };\n\n  var keylen;\n  for (keylen = length; keylen >= 12; keylen -= 12, offset += 12) {\n    mix.a += wordAt_(bytes, offset);\n    mix.b += wordAt_(bytes, offset + 4);\n    mix.c += wordAt_(bytes, offset + 8);\n    mix32_(mix);\n  }\n  // Hash any remaining bytes\n  mix.c += length;\n  switch (keylen) {  // deal with rest.  Some cases fall through\n    case 11:\n      mix.c += (bytes[offset + 10]) << 24;\n    case 10:\n      mix.c += (bytes[offset + 9] & 0xff) << 16;\n    case 9:\n      mix.c += (bytes[offset + 8] & 0xff) << 8;\n    // the first byte of c is reserved for the length\n    case 8:\n      mix.b += wordAt_(bytes, offset + 4);\n      mix.a += wordAt_(bytes, offset);\n      break;\n    case 7:\n      mix.b += (bytes[offset + 6] & 0xff) << 16;\n    case 6:\n      mix.b += (bytes[offset + 5] & 0xff) << 8;\n    case 5:\n      mix.b += (bytes[offset + 4] & 0xff);\n    case 4:\n      mix.a += wordAt_(bytes, offset);\n      break;\n    case 3:\n      mix.a += (bytes[offset + 2] & 0xff) << 16;\n    case 2:\n      mix.a += (bytes[offset + 1] & 0xff) << 8;\n    case 1:\n      mix.a += (bytes[offset + 0] & 0xff);\n      // case 0 : nothing left to add\n  }\n  return mix32_(mix);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/hash32.js","/**\n * BlinkTradeJS SDK\n * (c) 2016-present BlinkTrade, Inc.\n *\n * This file is part of BlinkTradeJS\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n/* eslint-disable no-param-reassign */\n/* eslint-disable no-plusplus */\n/* eslint-disable import/prefer-default-export */\n/* eslint-disable no-restricted-properties */\n/* eslint-disable no-buffer-constructor */\n\nimport ip from 'ip';\nimport dgram from 'dgram';\n\nconst stunIp = { local: null, public: [] };\n\nlet socket;\n\nfunction addIPAddress(ipAddress) {\n  if (ipAddress.match(/^(192\\.168\\.|169\\.254\\.|10\\.|172\\.(1[6-9]|2\\d|3[01]))/)) {\n    stunIp.local = ipAddress;\n  } else if (stunIp.public.indexOf(ipAddress) === -1) {\n    stunIp.public.push(ipAddress);\n  }\n}\n\nexport function closeStun() {\n  socket.close();\n}\n\nexport function getStun(callback) {\n  socket = dgram.createSocket('udp4');\n\n  const STUN_HEADER_LENGTH = 20;\n  const stunRequest = new Buffer(STUN_HEADER_LENGTH);\n\n  const STUN_METHOD_REQUEST = 0x000;\n  const STUN_BINDING_CLASS = 0x0001;\n  const STUN_MAGIC_COOKIE = 0x2112A442;\n  const STUN_TID_MAX = Math.pow(2, 32);\n\n  const STUN_ATTR_MAPPED_ADDRESS = 0x0001;\n  const STUN_ATTR_XOR_MAPPED_ADDRESS = 0x8020;\n  const STUN_ATTR_XOR_MAPPED_ADDRESS_ALT = 0x0020;\n\n  const stunTxId = (Math.random() * STUN_TID_MAX);\n\n  const stunServers = [\n    [3478, 'stun.services.mozilla.com'],\n    [19302, 'stun.l.google.com'],\n    [3478, 'stun.stunprotocol.org'],\n    [3478, 'stun.softjoys.com'],\n    [3478, 'stun.samsungsmartcam.com'],\n    [3478, 'stun.sonetel.com'],\n    [3478, 'stun.tagan.ru'],\n    [3478, 'stun.voipgain.com'],\n    [3478, 'stunserver.org'],\n    [3478, 'stun.advfn.com'],\n    [3478, 'stun.annatel.net'],\n    [3478, 'stun.freevoipdeal.com'],\n  ];\n\n  stunRequest.writeUInt16BE(((STUN_BINDING_CLASS | STUN_METHOD_REQUEST) & 0x3fff), 0);\n  stunRequest.writeUInt16BE(0, 2);\n  stunRequest.writeUInt32BE(STUN_MAGIC_COOKIE, 4);\n  stunRequest.writeUInt32BE(0, 8);\n  stunRequest.writeUInt32BE(0, 12);\n  stunRequest.writeUInt32BE(stunTxId, 16);\n\n  socket.on('message', (msg) => {\n    const xor = (a, b) => {\n      const data = [];\n      if (b.length > a.length) {\n        const tmp = a;\n        a = b;\n        b = tmp;\n      }\n      for (let i = 0, len = a.length; i < len; i++) {\n        data.push(a[i] ^ b[i]);\n      }\n\n      return new Buffer(data);\n    };\n\n    const block = msg.readUInt8(0);\n    const bit1 = block & 0x80;\n    const bit2 = block & 0x40;\n\n    if (!(bit1 === 0 && bit2 === 0)) {\n      return;\n    }\n\n    const msgHeader = msg.slice(0, STUN_HEADER_LENGTH);\n    const msgAttrs = msg.slice(STUN_HEADER_LENGTH, msg.length);\n\n    let offset = 0;\n\n    while (offset < msgAttrs.length) {\n      const attrType = msgAttrs.readUInt16BE(offset);\n      offset += 2;\n\n      let attrBuffLength = msgAttrs.readUInt16BE(offset);\n      const blockOut = attrBuffLength % 4;\n      if (blockOut > 0) {\n        attrBuffLength += 4 - blockOut;\n      }\n      offset += 2;\n\n      const value = msgAttrs.slice(offset, offset + attrBuffLength);\n      offset += attrBuffLength;\n\n      let family;\n      let address;\n      switch (attrType) {\n        case STUN_ATTR_MAPPED_ADDRESS:\n          family = (value.readUInt16BE(0) === 0x02) ? 6 : 4;\n          address = ip.toString(value, 4, family);\n          addIPAddress(address);\n          break;\n\n        case STUN_ATTR_XOR_MAPPED_ADDRESS:\n        case STUN_ATTR_XOR_MAPPED_ADDRESS_ALT:\n          family = (value.readUInt16BE(0) === 0x02) ? 6 : 4;\n          const magic = msgHeader.slice(4, 8);\n          const tid = msgHeader.slice(8, 20);\n          const xaddr = value.slice(4, family === 4 ? 8 : 20);\n          const addr = xor(xaddr, family === 4 ? magic : value.concat([magic, tid]));\n          address = ip.toString(addr, 0, family);\n          addIPAddress(address);\n          break;\n        default:\n      }\n    }\n\n    callback(stunIp);\n  });\n\n  stunServers.map(([port, host]) => socket.send(stunRequest, 0, stunRequest.length, port, host, () => {}));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/stun.js","module.exports = require(\"ip\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ip\"\n// module id = 22\n// module chunks = 0","module.exports = require(\"dgram\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dgram\"\n// module id = 23\n// module chunks = 0","module.exports = require(\"os\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"os\"\n// module id = 24\n// module chunks = 0","/**\n * BlinkTradeJS SDK\n * (c) 2016-present BlinkTrade, Inc.\n *\n * This file is part of BlinkTradeJS\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n * @flow\n */\n\nimport nodeify from 'nodeify';\nimport RestTransport from './transports/rest';\nimport TradeBase from './trade';\n\nclass BlinkTradeRest extends TradeBase {\n  constructor(params?: BlinkTradeBase) {\n    super(params);\n    this.transport = params.transport || new RestTransport(params);\n  }\n\n  send(path) {\n    return this.transport.fetchTrade(path);\n  }\n\n  fetchPublic(path) {\n    return this.transport.fetchPublic(path);\n  }\n\n  ticker(callback?: Function): Promise<Object> {\n    return nodeify.extend(this.fetchPublic('ticker')).nodeify(callback);\n  }\n\n  trades({ limit = 100, since = 0 }: {\n    limit: number,\n    since: number,\n  } = {}, callback?: Function): Promise<Object> {\n    return nodeify.extend(this.fetchPublic(`trades?limit=${limit}&since=${since}`)).nodeify(callback);\n  }\n\n  orderbook(callback?: Function): Promise<Object> {\n    return nodeify.extend(this.fetchPublic('orderbook')).nodeify(callback);\n  }\n}\n\nexport default BlinkTradeRest;\n\n\n\n// WEBPACK FOOTER //\n// ./src/rest.js","/**\n * BlinkTradeJS SDK\n * (c) 2016-present BlinkTrade, Inc.\n *\n * This file is part of BlinkTradeJS\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n * @flow\n */\n\nimport url from 'url';\nimport sjcl from 'sjcl';\nimport fetchPonyfill from 'fetch-ponyfill';\n\nimport Transport from './transport';\n\nconst { fetch } = fetchPonyfill(Promise);\n\nclass RestTransport extends Transport {\n  /**\n   * APIKey\n   */\n  key: string;\n\n  /**\n   * APISecret\n   */\n  secret: string;\n\n  /**\n   * Exchanges currencies available.\n   */\n  currency: 'USD' | 'BRL' | 'VEF' | 'CLP' | 'VND' | 'PKR';\n\n  constructor(params: BlinkTradeRest) {\n    super(params, params.brokerId === 11 ? 'restBitcambio' : 'rest');\n\n    this.key = params.key;\n    this.secret = params.secret;\n    this.currency = params.currency || 'USD';\n  }\n\n  headers(method: string, body: Object): Object {\n    const timeStamp = Date.now().toString();\n    const hexKey = sjcl.codec.utf8String.toBits(this.secret);\n    const hmac = new sjcl.misc.hmac(hexKey, sjcl.hash.sha256);\n    const Signature = sjcl.codec.hex.fromBits(hmac.encrypt(timeStamp));\n    return {\n      method,\n      headers: {\n        'Content-Type': 'application/json',\n        Nonce: timeStamp,\n        APIKey: this.key,\n        Signature,\n      },\n      body: JSON.stringify(body),\n    };\n  }\n\n  fetch(msg: Object, api: string, headers?: Object = {}): Promise<Object> {\n    return fetch(url.resolve(this.endpoint, api), headers)\n      .then(response => response.json());\n  }\n\n  fetchPublic(api: string): Promise<Object> {\n    return this.fetch({}, `api/v1/${this.currency}/${api}`);\n  }\n\n  fetchTrade(msg: Object): Promise<Object> {\n    const headers = this.headers('POST', msg);\n    return this.fetch(msg, 'tapi/v1/message', headers)\n      .then(response => (response.Status === 500 ? Promise.reject(response) : response.Responses))\n      .then(response => (response.length === 1 ? response[0] : response));\n  }\n}\n\nexport default RestTransport;\n\n\n\n// WEBPACK FOOTER //\n// ./src/transports/rest.js","module.exports = require(\"url\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"url\"\n// module id = 27\n// module chunks = 0","module.exports = require(\"sjcl\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"sjcl\"\n// module id = 28\n// module chunks = 0","module.exports = require(\"fetch-ponyfill\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fetch-ponyfill\"\n// module id = 29\n// module chunks = 0"],"sourceRoot":""}